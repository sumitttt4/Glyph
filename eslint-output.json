[{"filePath":"F:\\work\\Glyph\\app\\actions\\stats.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\app\\api\\webhook\\dodo\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'sanitizeEmail' is defined but never used.","line":62,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":62,"endColumn":23}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Dodo Payments Webhook Handler\r\n * \r\n * Receives payment.completed events and marks user as Pro in Supabase.\r\n * Includes signature verification for security.\r\n */\r\nimport { NextRequest, NextResponse } from 'next/server';\r\nimport { createClient } from '@supabase/supabase-js';\r\nimport { createHmac } from 'crypto';\r\n\r\n// Get Supabase admin client (lazy initialization)\r\nfunction getSupabaseAdmin() {\r\n    return createClient(\r\n        process.env.NEXT_PUBLIC_SUPABASE_URL || 'https://fvvzawoqzgeymcickvtn.supabase.co',\r\n        process.env.SUPABASE_SERVICE_ROLE_KEY || ''\r\n    );\r\n}\r\n\r\n/**\r\n * Verify webhook signature from Dodo Payments\r\n * Dodo uses HMAC-SHA256 signature in the 'x-dodo-signature' header\r\n */\r\nfunction verifyWebhookSignature(payload: string, signature: string | null): boolean {\r\n    const secret = process.env.DODO_WEBHOOK_SECRET;\r\n\r\n    // If no secret configured, skip verification (development only)\r\n    if (!secret) {\r\n        console.warn('[Dodo Webhook] No DODO_WEBHOOK_SECRET configured - skipping verification');\r\n        return true;\r\n    }\r\n\r\n    if (!signature) {\r\n        console.error('[Dodo Webhook] No signature in request');\r\n        return false;\r\n    }\r\n\r\n    // Calculate expected signature\r\n    const expectedSignature = createHmac('sha256', secret)\r\n        .update(payload)\r\n        .digest('hex');\r\n\r\n    // Compare signatures (timing-safe comparison)\r\n    const signatureBuffer = Buffer.from(signature);\r\n    const expectedBuffer = Buffer.from(expectedSignature);\r\n\r\n    if (signatureBuffer.length !== expectedBuffer.length) {\r\n        return false;\r\n    }\r\n\r\n    // Use timing-safe comparison\r\n    let result = 0;\r\n    for (let i = 0; i < signatureBuffer.length; i++) {\r\n        result |= signatureBuffer[i] ^ expectedBuffer[i];\r\n    }\r\n\r\n    return result === 0;\r\n}\r\n\r\n/**\r\n * Sanitize email input\r\n */\r\nfunction sanitizeEmail(email: string | undefined): string | null {\r\n    if (!email || typeof email !== 'string') return null;\r\n    // Basic email validation and sanitization\r\n    const sanitized = email.trim().toLowerCase();\r\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n    return emailRegex.test(sanitized) ? sanitized : null;\r\n}\r\n\r\nexport async function POST(request: NextRequest) {\r\n    try {\r\n        const rawBody = await request.text();\r\n        const signature = request.headers.get('x-dodo-signature') ||\r\n            request.headers.get('x-webhook-signature');\r\n\r\n        // Verify signature in production\r\n        if (process.env.NODE_ENV === 'production' || process.env.DODO_WEBHOOK_SECRET) {\r\n            if (!verifyWebhookSignature(rawBody, signature)) {\r\n                console.error('[Dodo Webhook] Invalid signature');\r\n                return NextResponse.json({ error: 'Invalid signature' }, { status: 401 });\r\n            }\r\n        }\r\n\r\n        const body = JSON.parse(rawBody);\r\n        console.log('[Dodo Webhook] Received:', JSON.stringify(body, null, 2));\r\n\r\n        // Dodo Payments sends different event types\r\n        // Common events: payment.completed, payment.failed, subscription.created\r\n        const eventType = body.type || body.event_type;\r\n\r\n        if (eventType === 'payment.completed' || eventType === 'payment_succeeded') {\r\n            // Extract customer email from payload\r\n            // Dodo Payments structure may vary - check their docs\r\n            const customerEmail =\r\n                body.customer?.email ||\r\n                body.data?.customer?.email ||\r\n                body.metadata?.email ||\r\n                body.buyer_email;\r\n\r\n            if (!customerEmail) {\r\n                console.error('[Dodo Webhook] No customer email found in payload');\r\n                return NextResponse.json({ error: 'No customer email' }, { status: 400 });\r\n            }\r\n\r\n            console.log('[Dodo Webhook] Upgrading user to Pro:', customerEmail);\r\n\r\n            // Update user's profile to Pro\r\n            const supabaseAdmin = getSupabaseAdmin();\r\n            const { error } = await supabaseAdmin\r\n                .from('profiles')\r\n                .update({ is_pro: true, upgraded_at: new Date().toISOString() })\r\n                .eq('email', customerEmail);\r\n\r\n            if (error) {\r\n                // If profile doesn't exist, try to create it\r\n                console.log('[Dodo Webhook] Profile update failed, trying upsert:', error.message);\r\n\r\n                const { error: upsertError } = await supabaseAdmin\r\n                    .from('profiles')\r\n                    .upsert({\r\n                        email: customerEmail,\r\n                        is_pro: true,\r\n                        upgraded_at: new Date().toISOString()\r\n                    }, {\r\n                        onConflict: 'email'\r\n                    });\r\n\r\n                if (upsertError) {\r\n                    console.error('[Dodo Webhook] Upsert failed:', upsertError.message);\r\n                    return NextResponse.json({ error: 'Database update failed' }, { status: 500 });\r\n                }\r\n            }\r\n\r\n            console.log('[Dodo Webhook] Successfully upgraded:', customerEmail);\r\n            return NextResponse.json({ success: true, upgraded: customerEmail });\r\n        }\r\n\r\n        // Handle other event types gracefully\r\n        console.log('[Dodo Webhook] Unhandled event type:', eventType);\r\n        return NextResponse.json({ received: true, eventType });\r\n\r\n    } catch (error) {\r\n        console.error('[Dodo Webhook] Error:', error);\r\n        return NextResponse.json({ error: 'Webhook handler failed' }, { status: 500 });\r\n    }\r\n}\r\n\r\n// Dodo may send GET requests to verify webhook endpoint\r\nexport async function GET() {\r\n    return NextResponse.json({ status: 'ok', service: 'dodo-webhook' });\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\app\\auth\\auth-code-error\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\app\\auth\\callback\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\app\\design-system\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\app\\generate\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\app\\generator\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'generateSocialMediaKit' is defined but never used.","line":13,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":13,"endColumn":32},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'downloadSocialAsset' is defined but never used.","line":13,"column":34,"nodeType":null,"messageId":"unusedVar","endLine":13,"endColumn":53},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'resetBrand' is assigned a value but never used.","line":25,"column":47,"nodeType":null,"messageId":"unusedVar","endLine":25,"endColumn":57}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState, useCallback, useEffect, useRef } from 'react';\r\nimport { Sidebar, GenerationOptions } from '@/components/generator/Sidebar';\r\nimport { Toolbar } from '@/components/generator/Toolbar';\r\nimport { LoadingState } from '@/components/generator/LoadingState';\r\nimport { WorkbenchBentoGrid } from '@/components/generator/WorkbenchBentoGrid';\r\nimport { ProGateModal } from '@/components/generator/ProGateModal';\r\nimport { useBrandGenerator } from '@/hooks/use-brand-generator';\r\nimport { useSubscription } from '@/hooks/use-subscription';\r\nimport { createClient } from '@/lib/supabase/client';\r\nimport { exportBrandPackage } from '@/components/export/ExportPackage';\r\nimport { generateSocialMediaKit, downloadSocialAsset } from '@/components/export/ExportSocial';\r\nimport { downloadBrandBookPDF } from '@/components/export/ExportPDF';\r\nimport { CompareOverlay } from '@/components/generator/CompareOverlay';\r\nimport { RobotEmptyState } from '@/components/generator/RobotEmptyState';\r\nimport { BrandIdentity } from '@/lib/data';\r\nimport { SoftGateVariations } from '@/components/generator/SoftGateVariations';\r\n\r\n\r\nexport default function GeneratorPage() {\r\n  const brandGenerators = useBrandGenerator();\r\n  // ... rest of component\r\n\r\n  const { brand, generateBrand, isGenerating, resetBrand } = brandGenerators;\r\n  const [isDarkMode, setIsDarkMode] = useState(false);\r\n  const [selectedVibe, setSelectedVibe] = useState('minimalist');\r\n  const [viewMode, setViewMode] = useState<'overview' | 'presentation'>('overview');\r\n  const [showProModal, setShowProModal] = useState(false);\r\n\r\n  const [isPro, setIsPro] = useState(false);\r\n  const subscription = useSubscription();\r\n\r\n  // Update isPro when subscription loads\r\n  useEffect(() => {\r\n    if (!subscription.isLoading) {\r\n      setIsPro(subscription.isPro);\r\n    }\r\n  }, [subscription.isPro, subscription.isLoading]);\r\n  // Compare State\r\n  const [compareList, setCompareList] = useState<BrandIdentity[]>([]);\r\n  const [isCompareOpen, setIsCompareOpen] = useState(false);\r\n\r\n  const handleAddToCompare = () => {\r\n    if (!brand) return;\r\n    if (compareList.find(b => b.id === brand.id)) {\r\n      alert(\"This brand is already in your comparison list.\");\r\n      return;\r\n    }\r\n    if (compareList.length >= 8) {\r\n      alert(\"You can compare up to 8 brands at a time.\");\r\n      return;\r\n    }\r\n    setCompareList([...compareList, brand]);\r\n    // Optional feedback\r\n    const btn = document.activeElement as HTMLElement;\r\n    if (btn) {\r\n      const originalText = btn.innerHTML;\r\n      btn.innerHTML = \"<span class='text-green-600'>Added!</span>\";\r\n      setTimeout(() => btn.innerHTML = originalText, 1000);\r\n    }\r\n  };\r\n\r\n  const handleRemoveFromCompare = (id: string) => {\r\n    setCompareList(prev => prev.filter(b => b.id !== id));\r\n  };\r\n\r\n  const mainRef = useRef<HTMLElement>(null);\r\n\r\n  useEffect(() => {\r\n    // Scroll to results on mobile when generation finishes\r\n    if (!isGenerating && brand && window.innerWidth < 768) {\r\n      mainRef.current?.scrollIntoView({ behavior: 'smooth', block: 'start' });\r\n    }\r\n  }, [isGenerating, brand]);\r\n\r\n  useEffect(() => {\r\n    const checkAccess = async () => {\r\n      // ADMIN BYPASS: Check cookie\r\n      const hasAdminBypass = document.cookie.split(';').some(c => c.trim().startsWith('admin-bypass=true'));\r\n      if (hasAdminBypass) {\r\n        setIsPro(true);\r\n        return;\r\n      }\r\n\r\n      const supabase = createClient();\r\n      const { data: { user } } = await supabase.auth.getUser();\r\n\r\n      if (!user?.email) return;\r\n\r\n      // Check if user is Pro from Supabase profiles table (Dodo Payments integration)\r\n      const { fetchProStatusFromDB, ADMIN_EMAILS } = await import('@/lib/subscription');\r\n\r\n      // Admin emails always get Pro\r\n      if (ADMIN_EMAILS.includes(user.email)) {\r\n        setIsPro(true);\r\n        return;\r\n      }\r\n\r\n      // Check database for Pro status (set by Dodo webhook)\r\n      const isProFromDB = await fetchProStatusFromDB(supabase, user.email);\r\n      setIsPro(isProFromDB);\r\n    };\r\n\r\n    checkAccess();\r\n  }, []);\r\n\r\n  // PLG: Check Authed Session Helper (Gate)\r\n  const checkAuth = async (): Promise<boolean> => {\r\n    // 1. Check cookies for bypass first (fastest)\r\n    const hasAdminBypass = document.cookie.split(';').some(c => c.trim().startsWith('admin-bypass=true'));\r\n    if (hasAdminBypass) return true;\r\n\r\n    // 2. Check Supabase session\r\n    const supabase = createClient();\r\n    const { data: { user } } = await supabase.auth.getUser();\r\n\r\n    if (user) return true;\r\n\r\n    // 3. Not logged in -> Save State & Redirect\r\n    if (brand) {\r\n      const pendingProject = {\r\n        name: brand.name,\r\n        prompt: \"Draft Concept\", // We don't have original prompt here easily, but brand object has data\r\n        vibe: brand.vibe,\r\n        color: brand.theme.tokens.light.primary,\r\n        // We should ideally persist the full brand object or re-generate. \r\n        // For now, let's just save the inputs we have or the brand object itself if possible.\r\n        // Better: Saving the inputs allows re-generation.\r\n        timestamp: Date.now()\r\n      };\r\n      localStorage.setItem('glyph_pending_project', JSON.stringify(pendingProject));\r\n    }\r\n\r\n    window.location.href = '/login?next=/generator';\r\n    return false;\r\n  };\r\n\r\n  const handleGenerate = useCallback((options: GenerationOptions) => {\r\n    // Scroll to top to show the loading state and result\r\n    window.scrollTo({ top: 0, behavior: 'smooth' });\r\n\r\n    generateBrand(options.vibe, options.name, {\r\n      color: options.color,\r\n      shape: options.shape,\r\n      gradient: options.gradient,\r\n      surpriseMe: options.surpriseMe\r\n    });\r\n  }, [generateBrand]);\r\n\r\n  const handleExport = async (type: string) => {\r\n    if (!brand) return;\r\n\r\n    // GATE: All Exports require login\r\n    const isAuthed = await checkAuth();\r\n    if (!isAuthed) return;\r\n\r\n    if (type === 'svg') {\r\n      // Use stored logo SVG - ensures exact match with preview\r\n      const { getStoredLogoSVG } = await import('@/components/logo-engine/renderers/stored-logo-export');\r\n      const svgContent = getStoredLogoSVG(brand, 'color');\r\n      const blob = new Blob([svgContent], { type: 'image/svg+xml' });\r\n      const url = URL.createObjectURL(blob);\r\n      const link = document.createElement('a');\r\n      link.href = url;\r\n      link.download = `${brand.name.toLowerCase().replace(/\\s+/g, '-')}-logo.svg`;\r\n      link.click();\r\n    } else if (type === 'tailwind') {\r\n      const tokens = brand.theme.tokens;\r\n      const config = `// ${brand.name} - Tailwind CSS Config\r\n// Generated by Glyph\r\n\r\nmodule.exports = {\r\n  theme: {\r\n    extend: {\r\n      colors: {\r\n        light: {\r\n          background: \"${tokens.light.bg}\",\r\n          foreground: \"${tokens.light.text}\",\r\n          primary: \"${tokens.light.primary}\",\r\n          surface: \"${tokens.light.surface}\",\r\n          muted: \"${tokens.light.muted}\",\r\n          border: \"${tokens.light.border}\",\r\n        },\r\n        dark: {\r\n          background: \"${tokens.dark.bg}\",\r\n          foreground: \"${tokens.dark.text}\",\r\n          primary: \"${tokens.dark.primary}\",\r\n          surface: \"${tokens.dark.surface}\",\r\n          muted: \"${tokens.dark.muted}\",\r\n          border: \"${tokens.dark.border}\",\r\n        },\r\n      },\r\n    },\r\n  },\r\n};`;\r\n      navigator.clipboard.writeText(config);\r\n      alert('Tailwind config copied to clipboard!');\r\n    } else if (type === 'react') {\r\n      const componentCode = `// ${brand.name} Logo Component\r\n// Generated by Glyph\r\n\r\ninterface LogoProps {\r\n  className?: string;\r\n  color?: string;\r\n}\r\n\r\nexport function ${brand.name.replace(/\\s+/g, '')}Logo({ className = \"w-8 h-8\", color = \"${brand.theme.tokens.light.primary}\" }: LogoProps) {\r\n  return (\r\n    <svg\r\n      viewBox=\"${brand.shape.viewBox || \"0 0 24 24\"}\"\r\n      fill=\"none\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      className={className}\r\n    >\r\n      <path d=\"${brand.shape.path}\" fill={color} />\r\n    </svg>\r\n  );\r\n}\r\n`;\r\n      navigator.clipboard.writeText(componentCode);\r\n      alert('React component copied to clipboard!');\r\n    } else if (type === 'all') {\r\n      if (!isPro) {\r\n        setShowProModal(true);\r\n        return;\r\n      }\r\n      try {\r\n        await exportBrandPackage(brand);\r\n      } catch (error) {\r\n        console.error(\"Export failed:\", error);\r\n        alert(\"Failed to create export package. Please try again.\");\r\n      }\r\n    } else if (type === 'favicon') {\r\n      // Generate and download favicon package (use sync version for simplicity)\r\n      const { generateFaviconPackageSync } = await import('@/components/export/ExportFavicon');\r\n      const pkg = generateFaviconPackageSync(brand);\r\n      const faviconSvg = pkg.files.find((f: { name: string }) => f.name === 'favicon.svg')?.content || '';\r\n      const blob = new Blob([faviconSvg], { type: 'image/svg+xml' });\r\n      const url = URL.createObjectURL(blob);\r\n      const link = document.createElement('a');\r\n      link.href = url;\r\n      link.download = `${brand.name.toLowerCase().replace(/\\s+/g, '-')}-favicon.svg`;\r\n      link.click();\r\n      // Also copy HTML snippet to clipboard\r\n      navigator.clipboard.writeText(pkg.htmlSnippet);\r\n      alert('Favicon SVG downloaded! HTML snippet copied to clipboard.');\r\n    } else if (type === 'social') {\r\n      // Download complete social media kit as ZIP\r\n      // const { downloadSocialMediaKitZip } = await import('@/components/export/ExportSocial');\r\n      // await downloadSocialMediaKitZip(brand);\r\n      alert('Please use the Social Media Kit section in the workbench to download assets.');\r\n      alert('Social Media Kit downloaded!');\r\n    } else if (type === 'brandbook') {\r\n      try {\r\n        await downloadBrandBookPDF(brand);\r\n        alert('Brand Guidelines PDF downloaded!');\r\n      } catch (error) {\r\n        console.error('PDF generation failed:', error);\r\n        alert('Failed to generate PDF. Please try again.');\r\n      }\r\n    }\r\n  };\r\n\r\n\r\n  // Handle generating variations\r\n  const handleGenerateVariations = async () => {\r\n    if (!brand) return;\r\n\r\n\r\n\r\n    // 2. Generate 4 variations\r\n    const variations = await brandGenerators.generateVariations(brand);\r\n\r\n    // 3. Reset comparison to Current + New Variations\r\n    // This ensures we always show fresh results (fixing the \"stays the same\" issue)\r\n    setCompareList([brand, ...variations]);\r\n\r\n    // 4. Open overlay\r\n    setIsCompareOpen(true);\r\n  };\r\n\r\n  return (\r\n    // Mobile: Vertical stack, Desktop: Fixed sidebar + scrollable main\r\n    <div className=\"min-h-screen w-full bg-stone-50 font-sans\">\r\n      <LoadingState isLoading={isGenerating} />\r\n      <ProGateModal\r\n        isOpen={showProModal}\r\n        onClose={() => setShowProModal(false)}\r\n        featureName=\"Full Package Export\"\r\n      />\r\n\r\n      {/* Sidebar - Fixed on desktop, normal flow on mobile */}\r\n      <div className=\"md:fixed md:left-0 md:top-0 md:bottom-0 md:w-[420px] md:overflow-y-auto overflow-x-hidden md:border-r md:border-stone-200 z-40 scrollbar-hide\">\r\n        <Sidebar\r\n          onGenerate={handleGenerate}\r\n          isGenerating={isGenerating}\r\n          selectedVibe={selectedVibe}\r\n          setSelectedVibe={setSelectedVibe}\r\n          hasGenerated={!!brand}\r\n        />\r\n      </div>\r\n\r\n      {/* Main Content - Has left margin on desktop to account for fixed sidebar */}\r\n      <main ref={mainRef} className=\"relative bg-[#FAFAF9] min-h-screen md:ml-[420px]\">\r\n        <div\r\n          className=\"absolute inset-0 opacity-40\"\r\n          style={{\r\n            backgroundImage: 'radial-gradient(#A8A29E 1px, transparent 1px)',\r\n            backgroundSize: '24px 24px',\r\n          }}\r\n        />\r\n\r\n        {/* Toolbar - Sticky on mobile */}\r\n        <div className=\"sticky md:absolute top-0 md:top-6 right-0 md:right-8 z-30 p-3 md:p-0 bg-stone-50/80 md:bg-transparent backdrop-blur-sm md:backdrop-blur-none flex justify-end\">\r\n          <Toolbar\r\n            isDark={isDarkMode}\r\n            toggleDark={() => setIsDarkMode(!isDarkMode)}\r\n            onExport={handleExport}\r\n            viewMode={viewMode}\r\n            setViewMode={async (mode) => {\r\n              if (mode === 'presentation') {\r\n                // GATE: Guidelines require login\r\n                const isAuthed = await checkAuth();\r\n                if (!isAuthed) return;\r\n              }\r\n              setViewMode(mode);\r\n            }}\r\n            canUndo={brandGenerators.canUndo}\r\n            canRedo={brandGenerators.canRedo}\r\n            onUndo={brandGenerators.undo}\r\n            onRedo={brandGenerators.redo}\r\n            currentHistoryIndex={brandGenerators.historyIndex}\r\n            totalHistory={brandGenerators.historyTotal}\r\n            onAddToCompare={brand ? handleAddToCompare : undefined}\r\n            onOpenCompare={() => setIsCompareOpen(true)}\r\n            compareCount={compareList.length}\r\n            onVariations={brand ? handleGenerateVariations : undefined}\r\n            isGenerating={brandGenerators.isGenerating}\r\n          />\r\n        </div>\r\n\r\n        <CompareOverlay\r\n          brands={compareList}\r\n          isOpen={isCompareOpen}\r\n          isGenerating={brandGenerators.isGenerating}\r\n          onClose={() => setIsCompareOpen(false)}\r\n          onRemove={handleRemoveFromCompare}\r\n          onSelect={(selectedBrand) => {\r\n            brandGenerators.setBrand?.(selectedBrand);\r\n            setIsCompareOpen(false);\r\n          }}\r\n          onGenerateMore={handleGenerateVariations}\r\n        />\r\n\r\n\r\n        <div className={`relative z-10 transition-all duration-500 w-full min-h-full pt-4 md:pt-20 pb-20 px-2 md:px-0 ${isDarkMode ? 'dark' : ''}`}>\r\n          {brand ? (\r\n            <div className=\"max-w-7xl mx-auto\">\r\n              <WorkbenchBentoGrid\r\n                brand={brand}\r\n                isDark={isDarkMode}\r\n                onShuffleLogo={() => generateBrand(selectedVibe, brand.name)}\r\n                onVariations={handleGenerateVariations}\r\n                onUpdateBrand={brandGenerators.updateBrand}\r\n                onUpdateFont={(newFont) => {\r\n                  brandGenerators.updateBrand({\r\n                    font: {\r\n                      id: newFont.id,\r\n                      name: newFont.name,\r\n                      heading: newFont.heading.className,\r\n                      body: newFont.body.className,\r\n                      headingName: newFont.headingName,\r\n                      bodyName: newFont.bodyName,\r\n                      tags: newFont.tags\r\n                    }\r\n                  });\r\n                }}\r\n                onSelectColor={(selectedColor) => {\r\n                  if (!brand) return;\r\n\r\n                  // Replace colors in existing SVG strings (keep same logo, just change color)\r\n                  let updatedLogos = brand.generatedLogos;\r\n\r\n                  if (brand.generatedLogos && brand.generatedLogos.length > 0) {\r\n                    // Update all logos\r\n                    updatedLogos = brand.generatedLogos.map(logo => {\r\n                      let newSvg = logo.svg;\r\n\r\n                      // 1. Find all hex colors in the SVG\r\n                      const hexRegex = /#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})/g;\r\n                      const foundColors = [...newSvg.matchAll(hexRegex)].map(m => m[0]);\r\n                      const uniqueColors = Array.from(new Set(foundColors.map(c => c.toLowerCase())));\r\n\r\n                      if (uniqueColors.length === 0) return logo;\r\n\r\n                      // 2. Sort unique colors by luminance to map gradients correctly (dark -> light)\r\n                      // Simple approach: just replace all of them with the new color for a solid look,\r\n                      // OR map them to a new monochromatic palette if there are multiple.\r\n\r\n                      const newColor = selectedColor.light;\r\n\r\n                      if (uniqueColors.length === 1) {\r\n                        // Simple replacement for single color\r\n                        newSvg = newSvg.replace(new RegExp(uniqueColors[0], 'gi'), newColor);\r\n                      } else {\r\n                        // For multi-color (gradients), we need to generate a palette from the new color\r\n                        // We'll replace the existing colors with a monochromatic scale of the new color.\r\n                        // But for now, user asked to \"change whole logo color\", so let's try making it solid first?\r\n                        // \"when i changed this in blue why its coming in middle remove that logic and change whole logo color\"\r\n                        // This implies they want the WHOLE thing to be the new color.\r\n                        // However, flattening a gradient to a single color destroys the 3D effect.\r\n                        // Better approach: Map the old colors to new tonal variants.\r\n\r\n                        // Helper to adjust brightness\r\n                        const adjustBrightness = (hex: string, percent: number) => {\r\n                          const num = parseInt(hex.replace('#', ''), 16);\r\n                          const amt = Math.round(2.55 * percent);\r\n                          const R = (num >> 16) + amt;\r\n                          const G = (num >> 8 & 0x00FF) + amt;\r\n                          const B = (num & 0x0000FF) + amt;\r\n                          return '#' + (0x1000000 + (R < 255 ? R < 1 ? 0 : R : 255) * 0x10000 + (G < 255 ? G < 1 ? 0 : G : 255) * 0x100 + (B < 255 ? B < 1 ? 0 : B : 255)).toString(16).slice(1);\r\n                        };\r\n\r\n                        // Replace each unique color with a variant of the new color\r\n                        // We map the \"middle\" color to the selected color, and others to lighter/darker\r\n                        uniqueColors.forEach((oldHex, index) => {\r\n                          // Naive mapping: just assign variants\r\n                          // Ideally we'd sort by brightness, but index based might work if SVG order is consistent\r\n                          let replacement = newColor;\r\n\r\n                          // If it's a gradient, try to preserve some variation\r\n                          if (index === 0) replacement = newColor; // Main\r\n                          else if (index === 1) replacement = adjustBrightness(newColor, 20); // Lighter\r\n                          else if (index === 2) replacement = adjustBrightness(newColor, -20); // Darker\r\n                          else replacement = adjustBrightness(newColor, (index % 2 === 0 ? 10 : -10) * index);\r\n\r\n                          newSvg = newSvg.split(oldHex).join(replacement);\r\n                          newSvg = newSvg.split(oldHex.toUpperCase()).join(replacement);\r\n                        });\r\n                      }\r\n\r\n                      return {\r\n                        ...logo,\r\n                        svg: newSvg,\r\n                        meta: {\r\n                          ...logo.meta,\r\n                          colors: {\r\n                            ...logo.meta.colors,\r\n                            primary: newColor,\r\n                            // Update palette too\r\n                            palette: [newColor, selectedColor.dark]\r\n                          }\r\n                        }\r\n                      };\r\n                    });\r\n                  }\r\n\r\n                  // Update theme colors AND logos with new color\r\n                  brandGenerators.updateBrand({\r\n                    theme: {\r\n                      ...brand.theme,\r\n                      tokens: {\r\n                        light: {\r\n                          ...brand.theme.tokens.light,\r\n                          primary: selectedColor.light\r\n                        },\r\n                        dark: {\r\n                          ...brand.theme.tokens.dark,\r\n                          primary: selectedColor.dark\r\n                        }\r\n                      }\r\n                    },\r\n                    generatedLogos: updatedLogos,\r\n                  });\r\n                }}\r\n                onSwapFont={() => {\r\n                  import('@/lib/fonts').then(({ fontPairings }) => {\r\n                    const currentFontId = brand.font.id;\r\n                    const currentIndex = fontPairings.findIndex(f => f.id === currentFontId);\r\n                    const nextFont = fontPairings[(currentIndex + 1) % fontPairings.length];\r\n                    brandGenerators.updateBrand({\r\n                      font: {\r\n                        id: nextFont.id,\r\n                        name: nextFont.name,\r\n                        heading: nextFont.heading.className,\r\n                        body: nextFont.body.className,\r\n                        headingName: nextFont.headingName,\r\n                        bodyName: nextFont.bodyName,\r\n                        tags: nextFont.tags\r\n                      }\r\n                    });\r\n                  });\r\n                }}\r\n                viewMode={viewMode}\r\n                setViewMode={async (mode) => {\r\n                  if (mode === 'presentation') {\r\n                    // GATE: Guidelines require login\r\n                    const isAuthed = await checkAuth();\r\n                    if (!isAuthed) return;\r\n                  }\r\n                  setViewMode(mode);\r\n                }}\r\n              />\r\n\r\n              {/* SOFT GATE for Email Capture */}\r\n              <div className=\"max-w-3xl mx-auto px-4\">\r\n                <SoftGateVariations onUnlock={handleGenerateVariations} />\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <RobotEmptyState />\r\n          )}\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\app\\history\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\app\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\app\\legal\\privacy\\page.tsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":41,"column":217,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[2217,2584],"text":"\r\n                        We may use third-party services (such as authentication providers like Supabase or analytics tools) that collect, monitor, and analyze this type of information in order to increase our Service&apos;s functionality. These third-party service providers have their own privacy policies addressing how they use such information.\r\n                    "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[2217,2584],"text":"\r\n                        We may use third-party services (such as authentication providers like Supabase or analytics tools) that collect, monitor, and analyze this type of information in order to increase our Service&lsquo;s functionality. These third-party service providers have their own privacy policies addressing how they use such information.\r\n                    "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[2217,2584],"text":"\r\n                        We may use third-party services (such as authentication providers like Supabase or analytics tools) that collect, monitor, and analyze this type of information in order to increase our Service&#39;s functionality. These third-party service providers have their own privacy policies addressing how they use such information.\r\n                    "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[2217,2584],"text":"\r\n                        We may use third-party services (such as authentication providers like Supabase or analytics tools) that collect, monitor, and analyze this type of information in order to increase our Service&rsquo;s functionality. These third-party service providers have their own privacy policies addressing how they use such information.\r\n                    "},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// app/legal/privacy/page.tsx\r\nimport React from 'react';\r\n\r\nexport default function PrivacyPage() {\r\n    return (\r\n        <div className=\"max-w-3xl mx-auto px-6 py-24 leading-relaxed text-stone-700\">\r\n            <h1 className=\"text-4xl font-bold mb-8 text-stone-900\">Privacy Policy</h1>\r\n            <p className=\"mb-4 text-stone-500 text-sm\">Last updated: January 2026</p>\r\n\r\n            <div className=\"space-y-6\">\r\n                <section>\r\n                    <h2 className=\"text-2xl font-semibold mb-4 text-stone-900\">1. Information We Collect</h2>\r\n                    <p>\r\n                        We collect information you provide directly to us when you create an account, generate a brand, or communicate with us. This may include your email address, project names, and generation preferences (&quot;vibe&quot;, &quot;prompt&quot;).\r\n                    </p>\r\n                </section>\r\n\r\n                <section>\r\n                    <h2 className=\"text-2xl font-semibold mb-4 text-stone-900\">2. How We Use Your Information</h2>\r\n                    <p>\r\n                        We use the information we collect to:\r\n                    </p>\r\n                    <ul className=\"list-disc list-inside mt-2 space-y-1\">\r\n                        <li>Provide, maintain, and improve our Services.</li>\r\n                        <li>Process your brand generation requests.</li>\r\n                        <li>Send you technical notices and support messages.</li>\r\n                        <li>Monitor and analyze trends and usage.</li>\r\n                    </ul>\r\n                </section>\r\n\r\n                <section>\r\n                    <h2 className=\"text-2xl font-semibold mb-4 text-stone-900\">3. Data Storage and Security</h2>\r\n                    <p>\r\n                        We use industry-standard security measures to protect your personal information. Your generation data is stored securely and is associated with your account. We do not sell your personal data to third parties.\r\n                    </p>\r\n                </section>\r\n\r\n                <section>\r\n                    <h2 className=\"text-2xl font-semibold mb-4 text-stone-900\">4. Third-Party Services</h2>\r\n                    <p>\r\n                        We may use third-party services (such as authentication providers like Supabase or analytics tools) that collect, monitor, and analyze this type of information in order to increase our Service's functionality. These third-party service providers have their own privacy policies addressing how they use such information.\r\n                    </p>\r\n                </section>\r\n\r\n                <section>\r\n                    <h2 className=\"text-2xl font-semibold mb-4 text-stone-900\">5. Your Rights</h2>\r\n                    <p>\r\n                        You have the right to access, correct, or delete your personal information. You can manage your account settings directly within the application or contact us for assistance.\r\n                    </p>\r\n                </section>\r\n\r\n                <section>\r\n                    <h2 className=\"text-2xl font-semibold mb-4 text-stone-900\">6. Changes to This Policy</h2>\r\n                    <p>\r\n                        We may update our Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page.\r\n                    </p>\r\n                </section>\r\n\r\n                <section>\r\n                    <h2 className=\"text-2xl font-semibold mb-4 text-stone-900\">7. Contact Us</h2>\r\n                    <p>\r\n                        If you have any questions about this Privacy Policy, please contact us at privacy@glyph.com.\r\n                    </p>\r\n                </section>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\app\\legal\\terms\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\app\\login\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Github' is defined but never used.","line":5,"column":22,"nodeType":null,"messageId":"unusedVar","endLine":5,"endColumn":28},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'loadingMessage' is assigned a value but never used.","line":14,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":14,"endColumn":26},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'setLoadingMessage' is assigned a value but never used.","line":14,"column":28,"nodeType":null,"messageId":"unusedVar","endLine":14,"endColumn":45}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState } from 'react';\r\nimport Image from 'next/image';\r\nimport { ArrowRight, Github, AlertCircle } from 'lucide-react';\r\nimport { useRouter } from 'next/navigation';\r\nimport Link from 'next/link';\r\nimport { createClient } from '@/lib/supabase/client';\r\n\r\nexport default function LoginPage() {\r\n    const router = useRouter();\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [email, setEmail] = useState('');\r\n    const [loadingMessage, setLoadingMessage] = useState('Sending magic link...');\r\n    const [error, setError] = useState<string | null>(null);\r\n    const [message, setMessage] = useState<string | null>(null);\r\n\r\n    const supabase = createClient();\r\n\r\n    const handleGoogleLogin = async () => {\r\n        setIsLoading(true);\r\n        try {\r\n            const { error } = await supabase.auth.signInWithOAuth({\r\n                provider: 'google',\r\n                options: {\r\n                    redirectTo: `${window.location.origin}/auth/callback?next=/generator`,\r\n                },\r\n            });\r\n            if (error) throw error;\r\n        } catch (err: unknown) {\r\n            setError(err instanceof Error ? err.message : 'An error occurred');\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleMagicLink = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setIsLoading(true);\r\n        setError(null);\r\n        setMessage(null);\r\n\r\n        try {\r\n            // DEVELOPER BACKDOOR\r\n            // Sets a cookie to bypass middleware checks\r\n            if (email === 'sumitsharma9128@gmail.com') {\r\n                document.cookie = \"admin-bypass=true; path=/; max-age=31536000\"; // 1 year\r\n                router.push('/generator');\r\n                return;\r\n            }\r\n\r\n            const { error } = await supabase.auth.signInWithOtp({\r\n                email,\r\n                options: {\r\n                    emailRedirectTo: `${window.location.origin}/auth/callback?next=/generator`,\r\n                },\r\n            });\r\n\r\n            if (error) throw error;\r\n            setMessage('Magic link sent! Check your email to log in.');\r\n        } catch (err: unknown) {\r\n            setError(err instanceof Error ? err.message : 'An error occurred');\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"flex min-h-screen w-full bg-white\">\r\n            {/* 1. Visual Side (Half) */}\r\n            <div className=\"hidden lg:block w-1/2 relative bg-stone-900 overflow-hidden\">\r\n                <Image\r\n                    src=\"/auth-visual.jpg\"\r\n                    alt=\"Design Engineer Aesthetic\"\r\n                    fill\r\n                    className=\"object-cover\"\r\n                    priority\r\n                />\r\n                <div className=\"absolute inset-0 bg-black/10\" />\r\n\r\n                {/* Overlay Text */}\r\n                <div className=\"absolute bottom-12 left-12 right-12 text-white\">\r\n                    <h2 className=\"text-3xl font-bold tracking-tight mb-2\">Glyph Station</h2>\r\n                    <p className=\"text-stone-300 opacity-80\">Access the parametric brand generation engine.</p>\r\n                </div>\r\n            </div>\r\n\r\n            {/* 2. Auth Form Side (Half) */}\r\n            <div className=\"w-full lg:w-1/2 flex items-center justify-center p-8 lg:p-20 relative\">\r\n                <Link href=\"/\" className=\"absolute top-8 right-8 text-sm text-stone-500 hover:text-stone-900 transition-colors\">\r\n                    Back to Home\r\n                </Link>\r\n\r\n                <div className=\"w-full max-w-md space-y-8\">\r\n                    <div className=\"text-center lg:text-left\">\r\n                        <h1 className=\"text-3xl font-bold tracking-tight text-stone-900\">\r\n                            Welcome <span className=\"text-[#FF4500]\">Back</span>.\r\n                        </h1>\r\n                        <p className=\"mt-2 text-stone-500\">\r\n                            Enter your email to receive a secure login link.\r\n                        </p>\r\n                    </div>\r\n\r\n                    {/* Error / Success Messages */}\r\n                    {error && (\r\n                        <div className=\"p-3 rounded-lg bg-red-50 text-red-600 text-sm flex items-center gap-2\">\r\n                            <AlertCircle className=\"w-4 h-4\" />\r\n                            {error}\r\n                        </div>\r\n                    )}\r\n                    {message && (\r\n                        <div className=\"p-3 rounded-lg bg-green-50 text-green-600 text-sm flex items-center gap-2\">\r\n                            <AlertCircle className=\"w-4 h-4\" />\r\n                            {message}\r\n                        </div>\r\n                    )}\r\n\r\n\r\n\r\n                    {/* Google Login */}\r\n                    <button\r\n                        onClick={handleGoogleLogin}\r\n                        disabled={isLoading}\r\n                        className=\"w-full h-12 bg-white text-stone-900 border border-stone-200 rounded-xl font-bold hover:bg-stone-50 transition-all shadow-sm hover:shadow-md active:scale-95 flex items-center justify-center gap-2 mb-6\"\r\n                    >\r\n                        <svg className=\"w-5 h-5\" viewBox=\"0 0 24 24\">\r\n                            <path d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\" fill=\"#4285F4\" />\r\n                            <path d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\" fill=\"#34A853\" />\r\n                            <path d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\" fill=\"#FBBC05\" />\r\n                            <path d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\" fill=\"#EA4335\" />\r\n                        </svg>\r\n                        Sign in with Google\r\n                    </button>\r\n\r\n                    <div className=\"relative\">\r\n                        <div className=\"absolute inset-0 flex items-center\">\r\n                            <span className=\"w-full border-t border-stone-200\" />\r\n                        </div>\r\n                        <div className=\"relative flex justify-center text-xs uppercase\">\r\n                            <span className=\"bg-white px-2 text-stone-500\">Or continue with email</span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Email Form */}\r\n                    <form onSubmit={handleMagicLink} className=\"space-y-4\">\r\n                        <div className=\"space-y-4\">\r\n                            <div>\r\n                                <label htmlFor=\"email\" className=\"block text-sm font-medium text-stone-700 mb-1\">Email address</label>\r\n                                <input\r\n                                    type=\"email\"\r\n                                    id=\"email\"\r\n                                    value={email}\r\n                                    onChange={(e) => setEmail(e.target.value)}\r\n                                    required\r\n                                    className=\"w-full px-4 py-3 rounded-lg border border-stone-200 focus:ring-2 focus:ring-[#FF4500] focus:border-transparent outline-none transition-all placeholder:text-stone-400 font-medium\"\r\n                                    placeholder=\"you@example.com\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <button\r\n                            type=\"submit\"\r\n                            disabled={isLoading}\r\n                            className=\"w-full h-12 bg-stone-900 text-white rounded-xl font-bold hover:bg-stone-800 transition-all shadow-xl active:scale-95 flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed\"\r\n                        >\r\n                            {isLoading ? 'Sending Link...' : 'Send Magic Link'}\r\n                            {!isLoading && <ArrowRight className=\"w-4 h-4\" />}\r\n                        </button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\app\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'motion' is defined but never used.","line":5,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":5,"endColumn":16},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'AnimatePresence' is defined but never used.","line":5,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":5,"endColumn":33},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Sparkles' is defined but never used.","line":6,"column":22,"nodeType":null,"messageId":"unusedVar","endLine":6,"endColumn":30},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Layers' is defined but never used.","line":6,"column":37,"nodeType":null,"messageId":"unusedVar","endLine":6,"endColumn":43},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Layout' is defined but never used.","line":6,"column":54,"nodeType":null,"messageId":"unusedVar","endLine":6,"endColumn":60},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Type' is defined but never used.","line":6,"column":62,"nodeType":null,"messageId":"unusedVar","endLine":6,"endColumn":66},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ShieldCheck' is defined but never used.","line":6,"column":68,"nodeType":null,"messageId":"unusedVar","endLine":6,"endColumn":79},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'MockupBrowser' is defined but never used.","line":11,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":11,"endColumn":23},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'MockupDevice' is defined but never used.","line":11,"column":25,"nodeType":null,"messageId":"unusedVar","endLine":11,"endColumn":37},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Mockup3DCard' is defined but never used.","line":12,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":12,"endColumn":22},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Button' is defined but never used.","line":13,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":13,"endColumn":16},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'EXAMPLE_THEME' is assigned a value but never used.","line":33,"column":7,"nodeType":null,"messageId":"unusedVar","endLine":33,"endColumn":20},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'EXAMPLE_SHAPE' is assigned a value but never used.","line":34,"column":7,"nodeType":null,"messageId":"unusedVar","endLine":34,"endColumn":20},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'FEATURES' is assigned a value but never used.","line":36,"column":7,"nodeType":null,"messageId":"unusedVar","endLine":36,"endColumn":15},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'currentDemoTheme' is assigned a value but never used.","line":71,"column":9,"nodeType":null,"messageId":"unusedVar","endLine":71,"endColumn":25},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'currentDemoShape' is assigned a value but never used.","line":72,"column":9,"nodeType":null,"messageId":"unusedVar","endLine":72,"endColumn":25},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":183,"column":61,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":183,"endColumn":64,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8470,8473],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8470,8473],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":16,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport Link from 'next/link';\r\nimport { useState, useEffect } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { ArrowRight, Sparkles, Zap, Layers, Palette, Layout, Type, ShieldCheck, Download, Check, Code } from 'lucide-react';\r\nimport { Navbar } from '@/components/layout/Navbar';\r\nimport { Footer } from '@/components/layout/Footer';\r\nimport { THEMES } from '@/lib/themes';\r\nimport { SHAPES } from '@/lib/shapes';\r\nimport { MockupBrowser, MockupDevice } from '@/components/preview/MockupDevice';\r\nimport { Mockup3DCard } from '@/components/preview/Mockup3DCard';\r\nimport { Button } from '@/components/ui/button';\r\nimport { FAQ } from '@/components/landing/FAQ';\r\nimport Pricing from '@/components/landing/Pricing';\r\nimport { AuthRescue } from '@/components/auth/AuthRescue';\r\nimport { Suspense } from 'react';\r\nimport { LogoComposition } from '@/components/logo-engine/LogoComposition';\r\nimport HeroAnimation from '@/components/landing/HeroAnimation';\r\nimport { LiveCounter } from '@/components/landing/LiveCounter';\r\n\r\nconst DEMO_BRAND = {\r\n  id: 'demo',\r\n  name: 'Visionary',\r\n  vibe: 'Premium',\r\n  font: { name: 'Instrument Sans', weights: [400, 700] },\r\n  theme: THEMES[0], // Architect\r\n  shape: SHAPES[3], // Hexagon\r\n  generationSeed: 12345,\r\n};\r\n\r\n// Sample data for the \"How It Works\" bento\r\nconst EXAMPLE_THEME = THEMES[0]; // \"Architect\"\r\nconst EXAMPLE_SHAPE = SHAPES[3]; // Hexagon\r\n\r\nconst FEATURES = [\r\n  {\r\n    icon: Zap,\r\n    title: 'Instant Generation',\r\n    description: 'Get a complete brand system in under 3 seconds. No waiting for AI to \"think\".',\r\n  },\r\n  {\r\n    icon: Palette,\r\n    title: 'Dual-Mode Tokens',\r\n    description: 'Every brand includes both Light and Dark mode color tokens, ready for production.',\r\n  },\r\n  {\r\n    icon: Code,\r\n    title: 'Developer-First Export',\r\n    description: 'Export directly to Tailwind CSS config. Copy, paste, ship.',\r\n  },\r\n  {\r\n    icon: Download,\r\n    title: 'SVG Assets',\r\n    description: 'Download your logo as a clean, scalable SVG file.',\r\n  },\r\n];\r\n\r\nexport default function LandingPage() {\r\n  const [demoIndex, setDemoIndex] = useState(0);\r\n\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      setDemoIndex((prev) => (prev + 1) % 3);\r\n    }, 3000);\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  const demoThemes = [THEMES[0], THEMES[1], THEMES[2]];\r\n  const demoShapes = [SHAPES[3], SHAPES[2], SHAPES[0]];\r\n  const currentDemoTheme = demoThemes[demoIndex % demoThemes.length];\r\n  const currentDemoShape = demoShapes[demoIndex % demoShapes.length];\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-stone-50 text-stone-950 font-sans\">\r\n      <Suspense fallback={null}>\r\n        <AuthRescue />\r\n      </Suspense>\r\n      <Navbar />\r\n\r\n      {/* ==================== HERO SECTION ==================== */}\r\n      <section className=\"relative pt-32 pb-20 md:pt-40 md:pb-32 overflow-hidden\">\r\n        {/* Background Grid */}\r\n        <div\r\n          className=\"absolute inset-0 opacity-40\"\r\n          style={{ backgroundImage: 'radial-gradient(#A8A29E 1px, transparent 1px)', backgroundSize: '24px 24px' }}\r\n        ></div>\r\n\r\n        <div className=\"relative max-w-7xl mx-auto px-6 lg:px-8\">\r\n          <div className=\"grid lg:grid-cols-2 gap-12 lg:gap-20 items-center\">\r\n            {/* Left: Content */}\r\n            <div className=\"text-center lg:text-left\">\r\n              <div className=\"hidden lg:block w-full\"></div>\r\n\r\n              <h1 className=\"text-5xl md:text-6xl lg:text-7xl font-bold tracking-tight leading-[1.1] mb-6\">\r\n                The Design Engineer <br className=\"hidden sm:block\" />\r\n                for <span className=\"font-editorial text-stone-400\">Startups</span>.\r\n              </h1>\r\n\r\n              <p className=\"text-lg md:text-xl text-stone-600 max-w-xl mx-auto lg:mx-0 leading-relaxed mb-10\">\r\n                Glyph uses curated algorithms to generate complete, premium brand identity systems.\r\n                No hallucinations, just design logic.\r\n              </p>\r\n\r\n              <div className=\"flex flex-col sm:flex-row gap-4 justify-center lg:justify-start\">\r\n                <Link\r\n                  href=\"/generator\"\r\n                  className=\"inline-flex items-center justify-center h-10 px-6 rounded-full bg-stone-950 text-white text-sm font-semibold hover:bg-stone-800 transition-all shadow-lg hover:shadow-xl active:scale-95\"\r\n                >\r\n                  Start Generating\r\n                </Link>\r\n                <a\r\n                  href=\"#how-it-works\"\r\n                  className=\"inline-flex items-center justify-center gap-2 h-10 px-6 rounded-full border border-stone-200 bg-white text-stone-600 text-sm font-medium hover:border-stone-950 hover:text-stone-950 transition-all\"\r\n                >\r\n                  See How It Works\r\n                </a>\r\n              </div>\r\n\r\n              <div className=\"flex justify-center lg:justify-start mt-6\">\r\n                <LiveCounter />\r\n              </div>\r\n\r\n            </div>\r\n\r\n            {/* Right: The Living Hero Animation */}\r\n            <div className=\"flex justify-center items-center mt-8 lg:mt-0\">\r\n              <HeroAnimation />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n\r\n\r\n      {/* ==================== SHOWCASE SECTION - The \"Bridge\" ==================== */}\r\n      <section id=\"how-it-works\" className=\"py-24 bg-stone-50 overflow-hidden\">\r\n        <div className=\"max-w-[95%] xl:max-w-7xl mx-auto\">\r\n          {/* Dark Container - The Bridge */}\r\n          <div className=\"bg-stone-950 text-white rounded-2xl md:rounded-3xl p-6 md:p-8 lg:p-16 overflow-hidden relative\">\r\n            {/* Subtle background pattern */}\r\n            <div className=\"absolute inset-0 opacity-5\"\r\n              style={{ backgroundImage: 'linear-gradient(#fff 1px, transparent 1px), linear-gradient(90deg, #fff 1px, transparent 1px)', backgroundSize: '40px 40px' }}>\r\n            </div>\r\n\r\n            <div className=\"relative z-10 grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-16 items-center\">\r\n              <div>\r\n\r\n                <h2 className=\"text-3xl md:text-4xl lg:text-5xl font-bold tracking-tight mb-6\">\r\n                  Visualize your startup in <br className=\"hidden md:block\" /> <span className=\"text-[#FF4500]\">High Fidelity</span>.\r\n                </h2>\r\n                <p className=\"text-stone-400 text-lg mb-8 leading-relaxed\">\r\n                  Stop guessing how your color palette looks on a mobile device or a business card. Glyph renders real-time 3D mockups of your brand identity system.\r\n                </p>\r\n\r\n                <ul className=\"space-y-4 mb-10\">\r\n                  <li className=\"flex items-center gap-3 text-stone-300\">\r\n                    <div className=\"w-6 h-6 rounded-full bg-green-500/20 flex items-center justify-center text-green-500\"><Check className=\"w-3.5 h-3.5\" /></div>\r\n                    Instant Mobile & Web Previews\r\n                  </li>\r\n                  <li className=\"flex items-center gap-3 text-stone-300\">\r\n                    <div className=\"w-6 h-6 rounded-full bg-green-500/20 flex items-center justify-center text-green-500\"><Check className=\"w-3.5 h-3.5\" /></div>\r\n                    Automatic Social Media Assets\r\n                  </li>\r\n                  <li className=\"flex items-center gap-3 text-stone-300\">\r\n                    <div className=\"w-6 h-6 rounded-full bg-green-500/20 flex items-center justify-center text-green-500\"><Check className=\"w-3.5 h-3.5\" /></div>\r\n                    Vector-Perfect Logo Export\r\n                  </li>\r\n                </ul>\r\n\r\n                <Link href=\"/generator\" className=\"inline-flex items-center gap-2 text-white font-bold hover:underline underline-offset-4 decoration-[#FF4500]\">\r\n                  Try the Demo <ArrowRight className=\"w-4 h-4\" />\r\n                </Link>\r\n              </div>\r\n\r\n              {/* Brand Identity Bento Grid */}\r\n              <div className=\"hidden lg:grid grid-cols-3 grid-rows-3 gap-3 h-[480px]\">\r\n\r\n                {/* Logo Block - Large */}\r\n                <div className=\"col-span-2 row-span-1 bg-white rounded-2xl p-6 flex items-center justify-between overflow-hidden group hover:shadow-lg transition-shadow\">\r\n                  <div className=\"flex items-center gap-4\">\r\n                    <div className=\"w-14 h-14 relative\">\r\n                      <LogoComposition brand={DEMO_BRAND as any} />\r\n                    </div>\r\n                    <span className=\"text-3xl font-bold text-stone-900 tracking-tight\">{DEMO_BRAND.name}</span>\r\n                  </div>\r\n                  <div className=\"text-xs text-stone-400 font-mono uppercase\">Logo</div>\r\n                </div>\r\n\r\n                {/* Phone Mockup - Tall */}\r\n                <div className=\"col-span-1 row-span-2 bg-stone-100 rounded-2xl overflow-hidden relative group hover:shadow-lg transition-shadow\">\r\n                  <div className=\"absolute inset-0 flex items-center justify-center p-4\">\r\n                    <div className=\"w-full max-w-[180px] bg-stone-800 rounded-[2rem] p-2 shadow-xl\">\r\n                      {/* Phone Frame */}\r\n                      <div className=\"bg-white rounded-[1.5rem] overflow-hidden aspect-[9/19]\">\r\n                        {/* Status Bar */}\r\n                        <div className=\"h-6 bg-stone-100 flex items-center justify-center\">\r\n                          <div className=\"w-16 h-1 bg-stone-300 rounded-full\"></div>\r\n                        </div>\r\n                        {/* App Content */}\r\n                        <div className=\"p-3 space-y-2\">\r\n                          <div className=\"flex items-center gap-2\">\r\n                            <div className=\"w-6 h-6 rounded-lg bg-[#FF4500] flex items-center justify-center\">\r\n                              <svg viewBox=\"0 0 24 24\" className=\"w-3 h-3 fill-white\">\r\n                                <path d={DEMO_BRAND.shape.path} />\r\n                              </svg>\r\n                            </div>\r\n                            <span className=\"text-[8px] font-bold text-stone-900\">{DEMO_BRAND.name}</span>\r\n                          </div>\r\n                          <div className=\"h-16 rounded-lg\" style={{ backgroundColor: DEMO_BRAND.theme.tokens.light.primary }}></div>\r\n                          <div className=\"space-y-1\">\r\n                            <div className=\"h-2 w-3/4 bg-stone-200 rounded\"></div>\r\n                            <div className=\"h-2 w-1/2 bg-stone-100 rounded\"></div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"absolute bottom-3 right-3 text-xs text-stone-400 font-mono uppercase\">Mobile</div>\r\n                </div>\r\n\r\n                {/* Typography Block */}\r\n                <div className=\"col-span-1 row-span-1 rounded-2xl p-5 overflow-hidden group hover:shadow-lg transition-shadow\" style={{ backgroundColor: DEMO_BRAND.theme.tokens.light.primary }}>\r\n                  <div className=\"text-white\">\r\n                    <div className=\"text-[10px] font-mono uppercase opacity-70 mb-2\">Typography</div>\r\n                    <div className=\"text-4xl font-bold tracking-tight opacity-30\">Aa</div>\r\n                    <div className=\"text-xs space-y-0.5 mt-2\">\r\n                      <div className=\"font-normal opacity-70\">Regular</div>\r\n                      <div className=\"font-medium opacity-80\">Medium</div>\r\n                      <div className=\"font-bold\">Bold</div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Color Palette Block */}\r\n                <div className=\"col-span-1 row-span-1 bg-white rounded-2xl p-4 overflow-hidden group hover:shadow-lg transition-shadow\">\r\n                  <div className=\"text-[10px] text-stone-400 font-mono uppercase mb-3\">Palette</div>\r\n                  <div className=\"flex gap-1.5 h-full pb-6\">\r\n                    <div className=\"flex-1 rounded-lg\" style={{ backgroundColor: DEMO_BRAND.theme.tokens.light.primary }}></div>\r\n                    <div className=\"flex-1 rounded-lg\" style={{ backgroundColor: DEMO_BRAND.theme.tokens.light.text }}></div>\r\n                    <div className=\"flex-1 rounded-lg\" style={{ backgroundColor: DEMO_BRAND.theme.tokens.light.surface }}></div>\r\n                    <div className=\"flex-1 rounded-lg border border-stone-200\" style={{ backgroundColor: DEMO_BRAND.theme.tokens.light.bg }}></div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Business Card Block */}\r\n                <div className=\"col-span-2 row-span-1 bg-stone-100 rounded-2xl p-4 overflow-hidden relative group hover:shadow-lg transition-shadow\">\r\n                  <div className=\"absolute top-3 right-3 text-xs text-stone-400 font-mono uppercase\">Card</div>\r\n                  <div className=\"flex items-center justify-center h-full gap-4\">\r\n                    {/* Card Front */}\r\n                    <div className=\"w-40 h-24 rounded-lg shadow-lg transform -rotate-6 hover:rotate-0 transition-transform\" style={{ backgroundColor: DEMO_BRAND.theme.tokens.light.primary }}>\r\n                      <div className=\"p-3 flex items-center gap-2\">\r\n                        <div className=\"w-6 h-6 rounded bg-white/20 flex items-center justify-center\">\r\n                          <svg viewBox=\"0 0 24 24\" className=\"w-3 h-3 fill-white\">\r\n                            <path d={DEMO_BRAND.shape.path} />\r\n                          </svg>\r\n                        </div>\r\n                        <span className=\"text-[10px] font-bold text-white\">{DEMO_BRAND.name}</span>\r\n                      </div>\r\n                    </div>\r\n                    {/* Card Back */}\r\n                    <div className=\"w-40 h-24 bg-white rounded-lg shadow-lg transform rotate-3 hover:rotate-0 transition-transform p-3\">\r\n                      <div className=\"flex items-center gap-2 mb-2\">\r\n                        <div className=\"w-5 h-5 rounded\" style={{ backgroundColor: DEMO_BRAND.theme.tokens.light.primary }}>\r\n                          <svg viewBox=\"0 0 24 24\" className=\"w-full h-full p-1 fill-white\">\r\n                            <path d={DEMO_BRAND.shape.path} />\r\n                          </svg>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"space-y-1\">\r\n                        <div className=\"h-1.5 w-2/3 bg-stone-200 rounded\"></div>\r\n                        <div className=\"h-1.5 w-1/2 bg-stone-100 rounded\"></div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* ==================== PRICING SECTION ==================== */}\r\n      <Pricing />\r\n\r\n      {/* ==================== FAQ SECTION ==================== */}\r\n      <FAQ />\r\n\r\n      <Footer />\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\auth\\AuthRescue.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\auth\\UserProfile.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'isPro' is assigned a value but never used.","line":25,"column":22,"nodeType":null,"messageId":"unusedVar","endLine":25,"endColumn":27},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'planInfo' is assigned a value but never used.","line":26,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":26,"endColumn":19},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":77,"column":21,"nodeType":"JSXOpeningElement","endLine":81,"endColumn":23},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":109,"column":25,"nodeType":"JSXOpeningElement","endLine":113,"endColumn":27},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":158,"column":41,"nodeType":"JSXOpeningElement","endLine":162,"endColumn":43}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useEffect, useState, useMemo } from 'react';\r\nimport { createClient } from '@/lib/supabase/client';\r\nimport { User } from '@supabase/supabase-js';\r\nimport { getSubscriptionStatus, getPlanDisplayInfo } from '@/lib/subscription';\r\n\r\n// Generate a consistent DiceBear avatar URL based on user identifier\r\nfunction getAvatarUrl(seed: string): string {\r\n    // Using 'notionists' style for professional, stylized avatars\r\n    return `https://api.dicebear.com/7.x/notionists/svg?seed=${encodeURIComponent(seed)}&backgroundColor=b6e3f4,c0aede,d1d4f9,ffd5dc,ffdfbf`;\r\n}\r\n\r\nexport default function UserProfile() {\r\n    const [user, setUser] = useState<User | null>(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    const supabase = createClient();\r\n\r\n    // Get subscription status\r\n    const subscriptionStatus = useMemo(() => {\r\n        return getSubscriptionStatus(user?.email);\r\n    }, [user?.email]);\r\n\r\n    const { isAdmin, isPro, plan } = subscriptionStatus;\r\n    const planInfo = getPlanDisplayInfo(plan);\r\n\r\n    // Generate avatar URL based on user email (consistent per user)\r\n    const avatarUrl = useMemo(() => {\r\n        if (!user?.email) return getAvatarUrl('guest');\r\n        return getAvatarUrl(user.email);\r\n    }, [user?.email]);\r\n\r\n    useEffect(() => {\r\n        const getUser = async () => {\r\n            try {\r\n                const { data: { user } } = await supabase.auth.getUser();\r\n                setUser(user);\r\n            } catch (e) {\r\n                console.error('Auth Error', e);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n        getUser();\r\n\r\n        const { data: { subscription } } = supabase.auth.onAuthStateChange((_event, session) => {\r\n            setUser(session?.user ?? null);\r\n        });\r\n        return () => subscription.unsubscribe();\r\n    }, [supabase]);\r\n\r\n    const handleSignOut = async () => {\r\n        await supabase.auth.signOut();\r\n        window.location.reload();\r\n    };\r\n\r\n    const handleLogin = () => {\r\n        window.location.href = '/login';\r\n    };\r\n\r\n    // Loading skeleton\r\n    if (loading) {\r\n        return (\r\n            <div className=\"animate-pulse w-10 h-10 rounded-full bg-gradient-to-br from-stone-200 to-stone-300\" />\r\n        );\r\n    }\r\n\r\n    // Not logged in - show login button with guest avatar\r\n    if (!user) {\r\n        return (\r\n            <button\r\n                onClick={handleLogin}\r\n                className=\"flex items-center gap-2 px-3 py-2 h-10 border border-stone-200 rounded-full bg-white shadow-sm text-sm font-medium text-stone-700 hover:border-stone-400 transition-all\"\r\n            >\r\n                <div className=\"w-6 h-6 rounded-full overflow-hidden ring-2 ring-stone-100\">\r\n                    <img\r\n                        src={getAvatarUrl('guest')}\r\n                        alt=\"Guest\"\r\n                        className=\"w-full h-full\"\r\n                    />\r\n                </div>\r\n                <span className=\"hidden md:inline\">Sign In</span>\r\n            </button>\r\n        );\r\n    }\r\n\r\n    // Get first name from full name or email\r\n    const getFirstName = () => {\r\n        if (user.user_metadata?.full_name) {\r\n            return user.user_metadata.full_name.split(' ')[0];\r\n        }\r\n        if (user.email) {\r\n            return user.email.split('@')[0];\r\n        }\r\n        return 'User';\r\n    };\r\n\r\n    // Logged in - show profile with avatar dropdown\r\n    return (\r\n        <div className=\"relative\">\r\n            <button\r\n                onClick={() => setIsOpen(!isOpen)}\r\n                className=\"flex items-center gap-2 px-2 py-1.5 hover:bg-stone-100 rounded-full transition-colors border border-transparent hover:border-stone-200 group\"\r\n            >\r\n                {/* Cool DiceBear Avatar */}\r\n                <div className=\"relative\">\r\n                    <div className=\"w-9 h-9 rounded-full overflow-hidden ring-2 ring-stone-200 group-hover:ring-stone-300 transition-all shadow-sm\">\r\n                        <img\r\n                            src={avatarUrl}\r\n                            alt={user.user_metadata?.full_name || 'User'}\r\n                            className=\"w-full h-full object-cover\"\r\n                        />\r\n                    </div>\r\n                    {/* Admin badge */}\r\n                    {isAdmin && (\r\n                        <div className=\"absolute -bottom-0.5 -right-0.5 w-4 h-4 bg-gradient-to-br from-amber-400 to-orange-500 rounded-full flex items-center justify-center ring-2 ring-white\">\r\n                            <svg className=\"w-2.5 h-2.5 text-white\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                                <path d=\"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\" />\r\n                            </svg>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                {/* User's first name - hidden on mobile */}\r\n                <span className=\"hidden md:inline text-sm font-medium text-stone-700 max-w-[100px] truncate\">\r\n                    {getFirstName()}\r\n                </span>\r\n\r\n                {/* Dropdown indicator */}\r\n                <svg\r\n                    className={`w-3 h-3 text-stone-400 transition-transform ${isOpen ? 'rotate-180' : ''}`}\r\n                    viewBox=\"0 0 24 24\"\r\n                    fill=\"none\"\r\n                    stroke=\"currentColor\"\r\n                    strokeWidth=\"3\"\r\n                >\r\n                    <path d=\"M6 9l6 6 6-6\" />\r\n                </svg>\r\n            </button>\r\n\r\n            {/* Dropdown Menu */}\r\n            {isOpen && (\r\n                <>\r\n                    {/* Backdrop */}\r\n                    <div\r\n                        className=\"fixed inset-0 z-40\"\r\n                        onClick={() => setIsOpen(false)}\r\n                    />\r\n\r\n                    {/* Menu */}\r\n                    <div className=\"absolute top-full right-0 mt-2 w-72 bg-white border border-stone-200 rounded-2xl shadow-2xl overflow-hidden z-50 animate-in fade-in zoom-in-95 duration-200\">\r\n                        {/* User Header */}\r\n                        <div className={`p-4 border-b border-stone-200 ${isAdmin ? 'bg-gradient-to-br from-amber-50 to-orange-50' : 'bg-gradient-to-br from-stone-50 to-stone-100'}`}>\r\n                            <div className=\"flex items-center gap-3\">\r\n                                <div className=\"relative\">\r\n                                    <div className=\"w-14 h-14 rounded-full overflow-hidden ring-2 ring-white shadow-lg\">\r\n                                        <img\r\n                                            src={avatarUrl}\r\n                                            alt={user.user_metadata?.full_name || 'User'}\r\n                                            className=\"w-full h-full object-cover\"\r\n                                        />\r\n                                    </div>\r\n                                    {isAdmin && (\r\n                                        <div className=\"absolute -bottom-1 -right-1 w-5 h-5 bg-gradient-to-br from-amber-400 to-orange-500 rounded-full flex items-center justify-center ring-2 ring-white\">\r\n                                            <svg className=\"w-3 h-3 text-white\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                                                <path d=\"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\" />\r\n                                            </svg>\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n                                <div className=\"flex-1 min-w-0\">\r\n                                    <div className=\"font-bold text-stone-900 truncate\">\r\n                                        {user.user_metadata?.full_name || 'User'}\r\n                                    </div>\r\n                                    <div className=\"text-xs text-stone-500 truncate\">\r\n                                        {user.email}\r\n                                    </div>\r\n                                    <div className=\"flex items-center gap-1.5 mt-1\">\r\n                                        {plan === 'admin' ? (\r\n                                            <>\r\n                                                <div className=\"w-1.5 h-1.5 rounded-full bg-amber-500\" />\r\n                                                <span className=\"text-[10px] text-amber-600 font-bold uppercase tracking-wider\">Admin</span>\r\n                                            </>\r\n                                        ) : plan === 'pro' ? (\r\n                                            <>\r\n                                                <div className=\"w-1.5 h-1.5 rounded-full bg-green-500\" />\r\n                                                <span className=\"text-[10px] text-green-600 font-semibold uppercase tracking-wider\">Pro Plan</span>\r\n                                            </>\r\n                                        ) : (\r\n                                            <>\r\n                                                <div className=\"w-1.5 h-1.5 rounded-full bg-stone-400\" />\r\n                                                <span className=\"text-[10px] text-stone-500 font-semibold uppercase tracking-wider\">Free Plan</span>\r\n                                            </>\r\n                                        )}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Menu Items */}\r\n                        <div className=\"p-2\">\r\n                            <button\r\n                                onClick={() => window.location.href = '/history'}\r\n                                className=\"w-full text-left px-3 py-2.5 text-sm text-stone-600 hover:bg-stone-50 hover:text-stone-900 rounded-xl flex items-center gap-3 transition-colors\"\r\n                            >\r\n                                <div className=\"w-8 h-8 rounded-lg bg-blue-50 flex items-center justify-center\">\r\n                                    <svg className=\"w-4 h-4 text-blue-600\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                                        <path d=\"M12 8v4l3 3m6-3a9 9 0 1 1-18 0 9 9 0 0 1 18 0z\" />\r\n                                    </svg>\r\n                                </div>\r\n                                <div>\r\n                                    <div className=\"font-medium\">Generation History</div>\r\n                                    <div className=\"text-[10px] text-stone-400\">View past brands</div>\r\n                                </div>\r\n                            </button>\r\n\r\n                            <button\r\n                                className=\"w-full text-left px-3 py-2.5 text-sm text-stone-600 hover:bg-stone-50 hover:text-stone-900 rounded-xl flex items-center gap-3 transition-colors\"\r\n                            >\r\n                                <div className=\"w-8 h-8 rounded-lg bg-purple-50 flex items-center justify-center\">\r\n                                    <svg className=\"w-4 h-4 text-purple-600\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                                        <path d=\"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2\" />\r\n                                        <circle cx=\"12\" cy=\"7\" r=\"4\" />\r\n                                    </svg>\r\n                                </div>\r\n                                <div>\r\n                                    <div className=\"font-medium\">Profile Settings</div>\r\n                                    <div className=\"text-[10px] text-stone-400\">Manage account</div>\r\n                                </div>\r\n                            </button>\r\n\r\n                            {/* Admin-only options */}\r\n                            {isAdmin && (\r\n                                <button\r\n                                    className=\"w-full text-left px-3 py-2.5 text-sm text-stone-600 hover:bg-stone-50 hover:text-stone-900 rounded-xl flex items-center gap-3 transition-colors\"\r\n                                >\r\n                                    <div className=\"w-8 h-8 rounded-lg bg-gradient-to-br from-amber-50 to-orange-50 flex items-center justify-center\">\r\n                                        <svg className=\"w-4 h-4 text-amber-600\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                                            <path d=\"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z\" />\r\n                                        </svg>\r\n                                    </div>\r\n                                    <div>\r\n                                        <div className=\"font-medium\">Admin Dashboard</div>\r\n                                        <div className=\"text-[10px] text-stone-400\">Manage users & system</div>\r\n                                    </div>\r\n                                </button>\r\n                            )}\r\n\r\n                            {plan === 'free' ? (\r\n                                <button\r\n                                    onClick={() => window.location.href = '/pricing'}\r\n                                    className=\"w-full text-left px-3 py-2.5 text-sm text-stone-600 hover:bg-amber-50 hover:text-stone-900 rounded-xl flex items-center gap-3 transition-colors\"\r\n                                >\r\n                                    <div className=\"w-8 h-8 rounded-lg bg-gradient-to-br from-amber-400 to-orange-500 flex items-center justify-center\">\r\n                                        <svg className=\"w-4 h-4 text-white\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                                            <path d=\"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\" />\r\n                                        </svg>\r\n                                    </div>\r\n                                    <div>\r\n                                        <div className=\"font-medium text-amber-700\">Upgrade to Pro</div>\r\n                                        <div className=\"text-[10px] text-amber-600\">Unlimited brands & exports</div>\r\n                                    </div>\r\n                                </button>\r\n                            ) : (\r\n                                <button\r\n                                    className=\"w-full text-left px-3 py-2.5 text-sm text-stone-600 hover:bg-stone-50 hover:text-stone-900 rounded-xl flex items-center gap-3 transition-colors\"\r\n                                >\r\n                                    <div className=\"w-8 h-8 rounded-lg bg-emerald-50 flex items-center justify-center\">\r\n                                        <svg className=\"w-4 h-4 text-emerald-600\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                                            <path d=\"M5 13l4 4L19 7\" />\r\n                                        </svg>\r\n                                    </div>\r\n                                    <div>\r\n                                        <div className=\"font-medium\">{isAdmin ? 'All Features Unlocked' : 'Pro Active'}</div>\r\n                                        <div className=\"text-[10px] text-stone-400\">{isAdmin ? 'Full admin access' : 'Unlimited brands & exports'}</div>\r\n                                    </div>\r\n                                </button>\r\n                            )}\r\n                        </div>\r\n\r\n                        {/* Sign Out */}\r\n                        <div className=\"p-2 pt-0 border-t border-stone-100 mt-1\">\r\n                            <button\r\n                                onClick={handleSignOut}\r\n                                className=\"w-full text-left px-3 py-2.5 text-sm text-red-600 hover:bg-red-50 rounded-xl flex items-center gap-3 transition-colors mt-1\"\r\n                            >\r\n                                <div className=\"w-8 h-8 rounded-lg bg-red-50 flex items-center justify-center\">\r\n                                    <svg className=\"w-4 h-4 text-red-600\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                                        <path d=\"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4\" />\r\n                                        <polyline points=\"16 17 21 12 16 7\" />\r\n                                        <line x1=\"21\" y1=\"12\" x2=\"9\" y2=\"12\" />\r\n                                    </svg>\r\n                                </div>\r\n                                <div className=\"font-medium\">Sign Out</div>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\dashboard\\BentoGrid.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Download' is defined but never used.","line":16,"column":32,"nodeType":null,"messageId":"unusedVar","endLine":16,"endColumn":40}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { BrandIdentity } from '@/lib/data';\r\nimport { LogoCell } from './LogoCell';\r\nimport { PaletteCell } from './PaletteCell';\r\nimport { CodeCell } from './CodeCell';\r\nimport { BusinessCardsCell } from './BusinessCardsCell';\r\nimport { IconVariantsCell } from './IconVariantsCell';\r\nimport { TypographyCell } from './TypographyCell';\r\nimport { MugCell } from './MugCell';\r\nimport { TumblerCell } from './TumblerCell';\r\nimport { ToteBagCell } from './ToteBagCell';\r\nimport { TShirtCell } from './TShirtCell';\r\nimport { PhoneCell } from './PhoneCell';\r\nimport { useState } from 'react';\r\nimport { Moon, Sun, ArrowLeft, Download, Copy, Check } from 'lucide-react';\r\nimport Link from 'next/link';\r\n\r\ninterface BentoGridProps {\r\n    brand: BrandIdentity;\r\n    onBack: () => void;\r\n}\r\n\r\nexport function BentoGrid({ brand, onBack }: BentoGridProps) {\r\n    const [mode, setMode] = useState<'light' | 'dark'>('light');\r\n    const [copied, setCopied] = useState(false);\r\n\r\n    const handleCopyConfig = () => {\r\n        const t = brand.theme.tokens;\r\n        const configString = `// ${brand.name} - Tailwind Config\r\ncolors: {\r\n  primary: \"${t.light.primary}\",\r\n  background: \"${t.light.bg}\",\r\n  surface: \"${t.light.surface}\",\r\n  foreground: \"${t.light.text}\",\r\n}`;\r\n        navigator.clipboard.writeText(configString);\r\n        setCopied(true);\r\n        setTimeout(() => setCopied(false), 2000);\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-stone-50 text-stone-950\">\r\n            {/* Header */}\r\n            <header className=\"sticky top-0 z-50 bg-stone-50/80 backdrop-blur-sm border-b border-stone-200\">\r\n                <div className=\"max-w-7xl mx-auto px-6 py-4 flex justify-between items-center\">\r\n                    <Link\r\n                        href=\"/generate\"\r\n                        onClick={(e) => { e.preventDefault(); onBack(); }}\r\n                        className=\"flex items-center gap-2 text-stone-500 hover:text-stone-900 transition-colors\"\r\n                    >\r\n                        <ArrowLeft className=\"w-4 h-4\" />\r\n                        <span className=\"font-semibold tracking-tight\">New Brand</span>\r\n                    </Link>\r\n\r\n                    <div className=\"flex items-center gap-4\">\r\n                        {/* Mode Toggle */}\r\n                        <div className=\"flex border border-stone-200 rounded-full p-0.5\">\r\n                            <button\r\n                                onClick={() => setMode('light')}\r\n                                className={`p-2 rounded-full transition-all ${mode === 'light' ? 'bg-stone-900 text-white' : 'text-stone-400 hover:text-stone-600'}`}\r\n                            >\r\n                                <Sun className=\"w-4 h-4\" />\r\n                            </button>\r\n                            <button\r\n                                onClick={() => setMode('dark')}\r\n                                className={`p-2 rounded-full transition-all ${mode === 'dark' ? 'bg-stone-900 text-white' : 'text-stone-400 hover:text-stone-600'}`}\r\n                            >\r\n                                <Moon className=\"w-4 h-4\" />\r\n                            </button>\r\n                        </div>\r\n\r\n                        {/* Copy Config */}\r\n                        <button\r\n                            onClick={handleCopyConfig}\r\n                            className=\"flex items-center gap-2 px-4 py-2 border border-stone-200 rounded-full text-sm font-medium hover:border-stone-900 transition-colors\"\r\n                        >\r\n                            {copied ? <Check className=\"w-4 h-4 text-green-600\" /> : <Copy className=\"w-4 h-4\" />}\r\n                            {copied ? 'Copied!' : 'Copy Config'}\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </header>\r\n\r\n            {/* Bento Grid - Responsive Layout */}\r\n            <main className=\"max-w-7xl mx-auto px-4 md:px-6 py-8\">\r\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-1 border-0 md:border md:border-stone-200 rounded-none md:rounded-2xl overflow-visible md:overflow-hidden bg-transparent md:bg-stone-200\">\r\n                    {/* Row 1 */}\r\n                    {/* A1: Logo + Brand Name */}\r\n                    <div className=\"relative h-64 md:h-64 rounded-2xl md:rounded-none overflow-hidden\">\r\n                        <LogoCell brand={brand} mode={mode} />\r\n                    </div>\r\n\r\n                    {/* A2: Business Cards */}\r\n                    <div className=\"relative h-64 md:h-64 rounded-2xl md:rounded-none overflow-hidden\">\r\n                        <BusinessCardsCell brand={brand} mode={mode} variant=\"primary\" />\r\n                    </div>\r\n\r\n                    {/* A3: Mug */}\r\n                    <div className=\"relative h-64 md:h-64 rounded-2xl md:rounded-none overflow-hidden\">\r\n                        <MugCell brand={brand} mode={mode} variant=\"light\" />\r\n                    </div>\r\n\r\n                    {/* Row 2 */}\r\n                    {/* B1: Icon Variants */}\r\n                    <div className=\"relative h-64 md:h-64 rounded-2xl md:rounded-none overflow-hidden\">\r\n                        <IconVariantsCell brand={brand} mode={mode} variant=\"light\" />\r\n                    </div>\r\n\r\n                    {/* B2: Tumbler */}\r\n                    <div className=\"relative h-64 md:h-64 rounded-2xl md:rounded-none overflow-hidden\">\r\n                        <TumblerCell brand={brand} mode={mode} variant=\"light\" />\r\n                    </div>\r\n\r\n                    {/* B3: Tote Bag */}\r\n                    <div className=\"relative h-64 md:h-64 rounded-2xl md:rounded-none overflow-hidden\">\r\n                        <ToteBagCell brand={brand} mode={mode} variant=\"primary\" />\r\n                    </div>\r\n\r\n                    {/* Row 3 */}\r\n                    {/* C1: T-Shirt */}\r\n                    <div className=\"relative h-64 md:h-64 rounded-2xl md:rounded-none overflow-hidden\">\r\n                        <TShirtCell brand={brand} mode={mode} variant=\"primary\" />\r\n                    </div>\r\n\r\n                    {/* C2: Typography */}\r\n                    <div className=\"relative h-64 md:h-64 rounded-2xl md:rounded-none overflow-hidden\">\r\n                        <TypographyCell brand={brand} mode={mode} variant=\"primary\" />\r\n                    </div>\r\n\r\n                    {/* C3: Phone */}\r\n                    <div className=\"relative h-64 md:h-64 rounded-2xl md:rounded-none overflow-hidden\">\r\n                        <PhoneCell brand={brand} mode={mode} variant=\"light\" />\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Palette Strip Below */}\r\n                <div className=\"mt-4 md:mt-1 border border-stone-200 rounded-2xl overflow-hidden h-24\">\r\n                    <PaletteCell brand={brand} mode={mode} />\r\n                </div>\r\n\r\n                {/* Code Cell */}\r\n                <div className=\"mt-4 md:mt-1 border border-stone-200 rounded-2xl overflow-hidden h-64 md:h-48\">\r\n                    <CodeCell brand={brand} mode={mode} />\r\n                </div>\r\n            </main>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\dashboard\\BusinessCardsCell.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\dashboard\\CodeCell.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'cn' is defined but never used.","line":2,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":2,"endColumn":12},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'mode' is defined but never used.","line":11,"column":35,"nodeType":null,"messageId":"unusedVar","endLine":11,"endColumn":39}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { BrandIdentity } from '@/lib/data';\r\nimport { cn } from '@/lib/utils';\r\nimport { Check, Copy } from 'lucide-react';\r\nimport { useState } from 'react';\r\n\r\ninterface CodeCellProps {\r\n  brand: BrandIdentity;\r\n  mode: 'light' | 'dark';\r\n}\r\n\r\nexport function CodeCell({ brand, mode }: CodeCellProps) {\r\n  const [copied, setCopied] = useState(false);\r\n  const t = brand.theme.tokens;\r\n\r\n  const configString = `import { type Config } from \"tailwindcss\";\r\n\r\nexport default {\r\n  theme: {\r\n    extend: {\r\n      colors: {\r\n        background: \"var(--background)\",\r\n        foreground: \"var(--foreground)\",\r\n        primary: {\r\n          DEFAULT: \"${t.light.primary}\",\r\n          dark: \"${t.dark.primary}\",\r\n        },\r\n        surface: {\r\n          DEFAULT: \"${t.light.surface}\",\r\n          dark: \"${t.dark.surface}\",\r\n        }\r\n      },\r\n      fontFamily: {\r\n        heading: [\"${brand.font.name.split('+')[0].trim()}\", \"sans-serif\"],\r\n        body: [\"${brand.font.name.split('+').pop()?.trim()}\", \"sans-serif\"],\r\n      }\r\n    },\r\n  },\r\n} satisfies Config;`;\r\n\r\n  const handleCopy = () => {\r\n    navigator.clipboard.writeText(configString);\r\n    setCopied(true);\r\n    setTimeout(() => setCopied(false), 2000);\r\n  };\r\n\r\n  return (\r\n    <div className=\"relative h-full w-full rounded-2xl bg-[#1E1E1E] text-gray-300 p-4 md:p-6 overflow-hidden flex flex-col font-mono text-[10px] md:text-xs\">\r\n      <div className=\"flex justify-between items-center mb-4 pb-2 border-b border-gray-700\">\r\n        <span className=\"text-gray-500\">tailwind.config.ts</span>\r\n        <button\r\n          onClick={handleCopy}\r\n          className=\"hover:text-white transition-colors\"\r\n        >\r\n          {copied ? <Check className=\"w-4 h-4 text-green-500\" /> : <Copy className=\"w-4 h-4\" />}\r\n        </button>\r\n      </div>\r\n      <div className=\"overflow-auto custom-scrollbar\">\r\n        <pre className=\"whitespace-pre\">\r\n          {configString}\r\n        </pre>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\dashboard\\IconVariantsCell.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\dashboard\\LogoCell.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\dashboard\\MockupCell.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\dashboard\\MugCell.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\dashboard\\PaletteCell.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'cn' is defined but never used.","line":2,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":2,"endColumn":12}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { BrandIdentity } from '@/lib/data';\r\nimport { cn } from '@/lib/utils';\r\n\r\ninterface PaletteCellProps {\r\n    brand: BrandIdentity;\r\n    mode: 'light' | 'dark';\r\n}\r\n\r\nexport function PaletteCell({ brand, mode }: PaletteCellProps) {\r\n    const tokens = brand.theme.tokens[mode];\r\n    const colors = [\r\n        { name: 'Background', value: tokens.bg },\r\n        { name: 'Surface', value: tokens.surface },\r\n        { name: 'Primary', value: tokens.primary },\r\n        { name: 'Text', value: tokens.text },\r\n    ];\r\n\r\n    return (\r\n        <div\r\n            className=\"flex h-full w-full rounded-2xl overflow-hidden border border-gray-200\"\r\n            style={{ borderColor: brand.theme.tokens[mode].border }}\r\n        >\r\n            {colors.map((color) => (\r\n                <div\r\n                    key={color.name}\r\n                    className=\"flex-1 flex flex-col justify-end p-4 transition-colors duration-500 group relative\"\r\n                    style={{ backgroundColor: color.value }}\r\n                >\r\n                    <div className=\"bg-white/90 dark:bg-black/90 p-2 rounded text-xs font-mono shadow-sm opacity-0 group-hover:opacity-100 transition-opacity absolute bottom-4 left-4 right-4 text-center\">\r\n                        <span className=\"block font-bold text-gray-500\">{color.name}</span>\r\n                        <span className=\"text-gray-900 dark:text-gray-100\">{color.value}</span>\r\n                    </div>\r\n                </div>\r\n            ))}\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\dashboard\\PhoneCell.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\dashboard\\TShirtCell.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\dashboard\\ToteBagCell.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\dashboard\\TumblerCell.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'patternColor' is assigned a value but never used.","line":14,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":14,"endColumn":23}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { BrandIdentity } from '@/lib/data';\r\n\r\ninterface TumblerCellProps {\r\n    brand: BrandIdentity;\r\n    mode: 'light' | 'dark';\r\n    variant: 'primary' | 'light';\r\n}\r\n\r\nexport function TumblerCell({ brand, mode, variant }: TumblerCellProps) {\r\n    const tokens = brand.theme.tokens[mode];\r\n    const isPrimary = variant === 'primary';\r\n    const bgColor = isPrimary ? tokens.primary : tokens.surface;\r\n    const tumblerBg = isPrimary ? tokens.surface : tokens.primary;\r\n    const patternColor = isPrimary ? `${tokens.primary}40` : `${tokens.surface}40`;\r\n\r\n    return (\r\n        <div\r\n            className=\"relative h-full w-full rounded-2xl flex items-center justify-center overflow-hidden p-4\"\r\n            style={{ backgroundColor: bgColor }}\r\n        >\r\n            {/* Tumbler/Can */}\r\n            <div className=\"relative\">\r\n                {/* Lid */}\r\n                <div\r\n                    className=\"w-16 h-4 rounded-t-lg mx-auto\"\r\n                    style={{ backgroundColor: isPrimary ? tokens.text : tokens.surface }}\r\n                />\r\n\r\n                {/* Body */}\r\n                <div\r\n                    className=\"w-20 h-40 rounded-b-2xl relative overflow-hidden shadow-lg\"\r\n                    style={{ backgroundColor: tumblerBg }}\r\n                >\r\n                    {/* Pattern - Repeated small logos */}\r\n                    <div\r\n                        className=\"absolute inset-0 opacity-30\"\r\n                        style={{\r\n                            backgroundImage: `url(\"data:image/svg+xml,${encodeURIComponent(`\r\n                <svg xmlns='http://www.w3.org/2000/svg' viewBox='${brand.shape.viewBox || \"0 0 24 24\"}' width='16' height='16'>\r\n                  <path d='${brand.shape.path}' fill='${isPrimary ? tokens.primary : tokens.surface}'/>\r\n                </svg>\r\n              `)}\")`,\r\n                            backgroundSize: '16px 16px',\r\n                            backgroundRepeat: 'repeat',\r\n                        }}\r\n                    />\r\n\r\n                    {/* Main Logo */}\r\n                    <div className=\"absolute inset-0 flex items-center justify-center\">\r\n                        <div className=\"w-10 h-10\" style={{ color: isPrimary ? tokens.primary : tokens.surface }}>\r\n                            <svg viewBox={brand.shape.viewBox || \"0 0 24 24\"} className=\"w-full h-full fill-current\">\r\n                                <path d={brand.shape.path} />\r\n                            </svg>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\dashboard\\TypographyCell.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\export\\ExportFavicon.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\export\\ExportPDF.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'getStoredLogoSVG' is defined but never used.","line":11,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":11,"endColumn":26},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'i' is defined but never used.","line":186,"column":51,"nodeType":null,"messageId":"unusedVar","endLine":186,"endColumn":52},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'i' is defined but never used.","line":364,"column":30,"nodeType":null,"messageId":"unusedVar","endLine":364,"endColumn":31},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'i' is defined but never used.","line":554,"column":34,"nodeType":null,"messageId":"unusedVar","endLine":554,"endColumn":35}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * PDF Generator for Brand Guidelines\r\n *\r\n * Uses jspdf to create comprehensive 15+ page brand guideline PDFs.\r\n * Includes logo usage, clear space rules, \"don't do this\" examples,\r\n * color palette, typography, and application examples.\r\n */\r\n\r\nimport { jsPDF } from 'jspdf';\r\nimport { BrandIdentity } from '@/lib/data';\r\nimport { getStoredLogoSVG } from '@/components/logo-engine/renderers/stored-logo-export';\r\n\r\n/**\r\n * Generate a comprehensive brand guidelines PDF (15+ pages)\r\n */\r\nexport async function generateBrandBookPDF(brand: BrandIdentity): Promise<Blob> {\r\n    const colors = brand.theme.tokens.light;\r\n    const darkColors = brand.theme.tokens.dark;\r\n    const doc = new jsPDF({\r\n        orientation: 'portrait',\r\n        unit: 'mm',\r\n        format: 'a4'\r\n    });\r\n\r\n    const pageWidth = doc.internal.pageSize.getWidth();\r\n    const pageHeight = doc.internal.pageSize.getHeight();\r\n    const margin = 20;\r\n    const contentWidth = pageWidth - (margin * 2);\r\n\r\n    // Helper functions\r\n    const hexToRgb = (hex: string) => {\r\n        const cleanHex = hex.replace('#', '');\r\n        return {\r\n            r: parseInt(cleanHex.substring(0, 2), 16),\r\n            g: parseInt(cleanHex.substring(2, 4), 16),\r\n            b: parseInt(cleanHex.substring(4, 6), 16)\r\n        };\r\n    };\r\n\r\n    const addText = (text: string, x: number, y: number, options?: {\r\n        fontSize?: number;\r\n        fontStyle?: 'normal' | 'bold';\r\n        color?: string;\r\n        maxWidth?: number;\r\n        align?: 'left' | 'center' | 'right';\r\n    }) => {\r\n        const { fontSize = 12, fontStyle = 'normal', color = '#1a1a1a', maxWidth, align = 'left' } = options || {};\r\n        doc.setFontSize(fontSize);\r\n        doc.setFont('helvetica', fontStyle);\r\n        const { r, g, b } = hexToRgb(color);\r\n        doc.setTextColor(r, g, b);\r\n\r\n        if (maxWidth) {\r\n            doc.text(text, x, y, { maxWidth, align });\r\n        } else {\r\n            doc.text(text, x, y, { align });\r\n        }\r\n    };\r\n\r\n    const drawRect = (x: number, y: number, w: number, h: number, color: string, radius = 0) => {\r\n        const { r, g, b } = hexToRgb(color);\r\n        doc.setFillColor(r, g, b);\r\n        if (radius > 0) {\r\n            doc.roundedRect(x, y, w, h, radius, radius, 'F');\r\n        } else {\r\n            doc.rect(x, y, w, h, 'F');\r\n        }\r\n    };\r\n\r\n    const drawColorSwatch = (x: number, y: number, width: number, height: number, color: string, label: string, showHex = true) => {\r\n        drawRect(x, y, width, height, color, 3);\r\n        addText(label, x, y + height + 6, { fontSize: 8, fontStyle: 'bold' });\r\n        if (showHex) {\r\n            addText(color.toUpperCase(), x, y + height + 12, { fontSize: 7, color: '#666666' });\r\n        }\r\n    };\r\n\r\n    const addPageNumber = (pageNum: number) => {\r\n        addText(`${pageNum}`, pageWidth - margin, pageHeight - 10, { fontSize: 8, color: '#999999' });\r\n    };\r\n\r\n    const addSectionHeader = (title: string, subtitle: string, y = 30) => {\r\n        addText(title, margin, y, { fontSize: 28, fontStyle: 'bold' });\r\n        addText(subtitle, margin, y + 12, { fontSize: 12, color: '#666666' });\r\n        return y + 30;\r\n    };\r\n\r\n    let pageNum = 1;\r\n\r\n    // ========== PAGE 1: COVER ==========\r\n    {\r\n        const { r, g, b } = hexToRgb(colors.primary);\r\n        doc.setFillColor(r, g, b);\r\n        doc.rect(0, 0, pageWidth, pageHeight, 'F');\r\n\r\n        addText(brand.name.toUpperCase(), pageWidth / 2, pageHeight / 2 - 10, {\r\n            fontSize: 42,\r\n            fontStyle: 'bold',\r\n            color: '#FFFFFF',\r\n            align: 'center'\r\n        });\r\n\r\n        const subtitle = brand.strategy?.tagline || `${brand.vibe} brand identity`;\r\n        addText(subtitle, pageWidth / 2, pageHeight / 2 + 8, {\r\n            fontSize: 14,\r\n            color: '#FFFFFF',\r\n            align: 'center',\r\n            maxWidth: contentWidth\r\n        });\r\n\r\n        addText('BRAND GUIDELINES', pageWidth / 2, pageHeight - 40, {\r\n            fontSize: 10,\r\n            color: '#FFFFFF',\r\n            align: 'center'\r\n        });\r\n        addText(`Generated by Glyph ΓÇó ${new Date().getFullYear()}`, pageWidth / 2, pageHeight - 30, {\r\n            fontSize: 8,\r\n            color: '#FFFFFF',\r\n            align: 'center'\r\n        });\r\n    }\r\n\r\n    // ========== PAGE 2: TABLE OF CONTENTS ==========\r\n    doc.addPage();\r\n    pageNum++;\r\n    {\r\n        addSectionHeader('Contents', 'Brand Guidelines Overview');\r\n\r\n        const tocItems = [\r\n            { page: 3, title: 'Brand Overview' },\r\n            { page: 4, title: 'Logo - Primary Mark' },\r\n            { page: 5, title: 'Logo - Color Variations' },\r\n            { page: 6, title: 'Logo - Clear Space Rules' },\r\n            { page: 7, title: 'Logo - Minimum Sizes' },\r\n            { page: 8, title: 'Logo - Don\\'ts' },\r\n            { page: 9, title: 'Color Palette - Primary' },\r\n            { page: 10, title: 'Color Palette - Extended' },\r\n            { page: 11, title: 'Typography - Headings' },\r\n            { page: 12, title: 'Typography - Body & Hierarchy' },\r\n            { page: 13, title: 'Typography - Don\\'ts' },\r\n            { page: 14, title: 'Iconography & Graphics' },\r\n            { page: 15, title: 'Application Examples' },\r\n            { page: 16, title: 'Digital Assets & Contact' },\r\n        ];\r\n\r\n        let tocY = 70;\r\n        tocItems.forEach(item => {\r\n            addText(item.title, margin, tocY, { fontSize: 11 });\r\n            addText(`${item.page}`, pageWidth - margin, tocY, { fontSize: 11, color: '#666666', align: 'right' });\r\n\r\n            // Dotted line\r\n            doc.setDrawColor(200, 200, 200);\r\n            doc.setLineDashPattern([1, 2], 0);\r\n            doc.line(margin + 80, tocY - 1, pageWidth - margin - 15, tocY - 1);\r\n            doc.setLineDashPattern([], 0);\r\n\r\n            tocY += 12;\r\n        });\r\n\r\n        addPageNumber(pageNum);\r\n    }\r\n\r\n    // ========== PAGE 3: BRAND OVERVIEW ==========\r\n    doc.addPage();\r\n    pageNum++;\r\n    {\r\n        addSectionHeader('Brand Overview', 'Who We Are');\r\n\r\n        let y = 70;\r\n\r\n        if (brand.strategy?.mission) {\r\n            addText('Mission', margin, y, { fontSize: 12, fontStyle: 'bold' });\r\n            addText(brand.strategy.mission, margin, y + 10, { fontSize: 10, maxWidth: contentWidth });\r\n            y += 35;\r\n        }\r\n\r\n        if (brand.strategy?.vision) {\r\n            addText('Vision', margin, y, { fontSize: 12, fontStyle: 'bold' });\r\n            addText(brand.strategy.vision, margin, y + 10, { fontSize: 10, maxWidth: contentWidth });\r\n            y += 35;\r\n        }\r\n\r\n        if (brand.strategy?.values && brand.strategy.values.length > 0) {\r\n            addText('Core Values', margin, y, { fontSize: 12, fontStyle: 'bold' });\r\n            y += 12;\r\n            brand.strategy.values.forEach((value, i) => {\r\n                addText(`ΓÇó ${value}`, margin + 5, y, { fontSize: 10 });\r\n                y += 8;\r\n            });\r\n            y += 10;\r\n        }\r\n\r\n        if (brand.strategy?.archetype) {\r\n            addText('Brand Archetype', margin, y, { fontSize: 12, fontStyle: 'bold' });\r\n            addText(brand.strategy.archetype, margin, y + 10, { fontSize: 10, color: colors.primary });\r\n            y += 30;\r\n        }\r\n\r\n        if (brand.strategy?.voice) {\r\n            addText('Brand Voice', margin, y, { fontSize: 12, fontStyle: 'bold' });\r\n            addText(`Tone: ${brand.strategy.voice.tone}`, margin, y + 12, { fontSize: 10 });\r\n        }\r\n\r\n        addPageNumber(pageNum);\r\n    }\r\n\r\n    // ========== PAGE 4: LOGO - PRIMARY MARK ==========\r\n    doc.addPage();\r\n    pageNum++;\r\n    {\r\n        addSectionHeader('Logo', 'Primary Mark');\r\n\r\n        addText(\r\n            `The ${brand.name} logo is the primary visual identifier of the brand. ` +\r\n            `It represents our values and should be treated with care in all applications.`,\r\n            margin, 70, { fontSize: 10, maxWidth: contentWidth }\r\n        );\r\n\r\n        // Logo placeholder (actual logo would need SVG rendering)\r\n        drawRect(margin, 90, contentWidth, 80, '#F5F5F5', 4);\r\n        addText('[ Logo Preview ]', pageWidth / 2, 135, {\r\n            fontSize: 14,\r\n            color: '#999999',\r\n            align: 'center'\r\n        });\r\n\r\n        addText('Logo Construction', margin, 190, { fontSize: 12, fontStyle: 'bold' });\r\n        addText(\r\n            'The logo is constructed using precise geometric principles to ensure ' +\r\n            'visual harmony and balance across all applications.',\r\n            margin, 202, { fontSize: 10, maxWidth: contentWidth }\r\n        );\r\n\r\n        addText('Algorithm:', margin, 225, { fontSize: 10, fontStyle: 'bold' });\r\n        const algorithm = brand.generatedLogos?.[0]?.algorithm || 'Custom';\r\n        addText(algorithm.replace(/-/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase()), margin + 30, 225, { fontSize: 10, color: '#666666' });\r\n\r\n        addPageNumber(pageNum);\r\n    }\r\n\r\n    // ========== PAGE 5: LOGO - COLOR VARIATIONS ==========\r\n    doc.addPage();\r\n    pageNum++;\r\n    {\r\n        addSectionHeader('Logo', 'Color Variations');\r\n\r\n        addText(\r\n            'The logo is available in multiple color variations for different contexts and backgrounds.',\r\n            margin, 70, { fontSize: 10, maxWidth: contentWidth }\r\n        );\r\n\r\n        // Full Color\r\n        addText('Full Color (Primary)', margin, 95, { fontSize: 11, fontStyle: 'bold' });\r\n        drawRect(margin, 105, 70, 50, '#F5F5F5', 3);\r\n        addText('Use on light backgrounds', margin, 165, { fontSize: 9, color: '#666666' });\r\n\r\n        // Single Color\r\n        addText('Single Color', margin + 90, 95, { fontSize: 11, fontStyle: 'bold' });\r\n        drawRect(margin + 90, 105, 70, 50, '#F5F5F5', 3);\r\n        addText('Use for print/embroidery', margin + 90, 165, { fontSize: 9, color: '#666666' });\r\n\r\n        // Reversed\r\n        addText('Reversed (White)', margin, 185, { fontSize: 11, fontStyle: 'bold' });\r\n        drawRect(margin, 195, 70, 50, colors.primary, 3);\r\n        addText('Use on dark/brand color backgrounds', margin, 255, { fontSize: 9, color: '#666666' });\r\n\r\n        // Dark Mode\r\n        addText('Dark Mode', margin + 90, 185, { fontSize: 11, fontStyle: 'bold' });\r\n        drawRect(margin + 90, 195, 70, 50, darkColors?.bg || '#1a1a1a', 3);\r\n        addText('Optimized for dark interfaces', margin + 90, 255, { fontSize: 9, color: '#666666' });\r\n\r\n        addPageNumber(pageNum);\r\n    }\r\n\r\n    // ========== PAGE 6: LOGO - CLEAR SPACE RULES ==========\r\n    doc.addPage();\r\n    pageNum++;\r\n    {\r\n        addSectionHeader('Logo', 'Clear Space Rules');\r\n\r\n        addText(\r\n            'Maintain a minimum clear space around the logo to ensure visual impact and legibility. ' +\r\n            'The clear space is defined as \"X\" where X equals the height of the logo icon.',\r\n            margin, 70, { fontSize: 10, maxWidth: contentWidth }\r\n        );\r\n\r\n        // Clear space diagram\r\n        drawRect(margin + 30, 100, 110, 80, '#E8F4FF', 0);\r\n        drawRect(margin + 50, 115, 70, 50, '#F5F5F5', 3);\r\n\r\n        // X markers\r\n        addText('X', margin + 35, 115, { fontSize: 8, color: colors.primary });\r\n        addText('X', margin + 35, 145, { fontSize: 8, color: colors.primary });\r\n        addText('X', margin + 125, 140, { fontSize: 8, color: colors.primary });\r\n        addText('X', margin + 85, 105, { fontSize: 8, color: colors.primary });\r\n\r\n        addText('Clear Space Diagram', margin + 50, 195, { fontSize: 10, fontStyle: 'bold' });\r\n        addText('The blue area represents the minimum clear space required.', margin, 210, { fontSize: 9, color: '#666666' });\r\n\r\n        addText('Rules:', margin, 235, { fontSize: 11, fontStyle: 'bold' });\r\n        addText('ΓÇó No text, graphics, or other elements within the clear space', margin, 248, { fontSize: 9 });\r\n        addText('ΓÇó Clear space scales proportionally with logo size', margin, 258, { fontSize: 9 });\r\n        addText('ΓÇó When in doubt, add more space', margin, 268, { fontSize: 9 });\r\n\r\n        addPageNumber(pageNum);\r\n    }\r\n\r\n    // ========== PAGE 7: LOGO - MINIMUM SIZES ==========\r\n    doc.addPage();\r\n    pageNum++;\r\n    {\r\n        addSectionHeader('Logo', 'Minimum Sizes');\r\n\r\n        addText(\r\n            'To maintain legibility and visual quality, never use the logo smaller than these minimum sizes.',\r\n            margin, 70, { fontSize: 10, maxWidth: contentWidth }\r\n        );\r\n\r\n        // Digital minimum\r\n        addText('Digital Applications', margin, 100, { fontSize: 11, fontStyle: 'bold' });\r\n        drawRect(margin, 110, 24, 24, '#F5F5F5', 2);\r\n        addText('24px', margin + 30, 125, { fontSize: 10 });\r\n        addText('Minimum for favicon/small icons', margin + 30, 135, { fontSize: 9, color: '#666666' });\r\n\r\n        drawRect(margin, 150, 32, 32, '#F5F5F5', 2);\r\n        addText('32px', margin + 40, 170, { fontSize: 10 });\r\n        addText('Minimum for UI elements', margin + 40, 180, { fontSize: 9, color: '#666666' });\r\n\r\n        // Print minimum\r\n        addText('Print Applications', margin, 210, { fontSize: 11, fontStyle: 'bold' });\r\n        addText('Minimum width: 15mm (0.6 inches)', margin, 225, { fontSize: 10 });\r\n        addText('For business cards, letterheads, and small print materials', margin, 237, { fontSize: 9, color: '#666666' });\r\n\r\n        addText('Large Format', margin, 260, { fontSize: 11, fontStyle: 'bold' });\r\n        addText('No maximum size limit. Logo is vector-based and scales infinitely.', margin, 273, { fontSize: 10 });\r\n\r\n        addPageNumber(pageNum);\r\n    }\r\n\r\n    // ========== PAGE 8: LOGO - DON'TS ==========\r\n    doc.addPage();\r\n    pageNum++;\r\n    {\r\n        addSectionHeader('Logo', 'Don\\'ts');\r\n\r\n        addText(\r\n            'To maintain brand consistency, avoid these common mistakes when using the logo.',\r\n            margin, 70, { fontSize: 10, maxWidth: contentWidth }\r\n        );\r\n\r\n        const donts = [\r\n            { title: 'Don\\'t stretch or distort', desc: 'Always maintain the original aspect ratio' },\r\n            { title: 'Don\\'t rotate', desc: 'Keep the logo in its original orientation' },\r\n            { title: 'Don\\'t change colors', desc: 'Only use approved color variations' },\r\n            { title: 'Don\\'t add effects', desc: 'No shadows, glows, or gradients' },\r\n            { title: 'Don\\'t outline', desc: 'Never use outlined versions' },\r\n            { title: 'Don\\'t crop', desc: 'Always show the complete logo' },\r\n            { title: 'Don\\'t use on busy backgrounds', desc: 'Ensure sufficient contrast' },\r\n            { title: 'Don\\'t recreate', desc: 'Always use official logo files' },\r\n        ];\r\n\r\n        let y = 95;\r\n        let col = 0;\r\n        donts.forEach((item, i) => {\r\n            const x = margin + (col * 90);\r\n            drawRect(x, y, 75, 45, '#FEE2E2', 2);\r\n\r\n            // X mark\r\n            doc.setDrawColor(239, 68, 68);\r\n            doc.setLineWidth(0.5);\r\n            doc.line(x + 60, y + 5, x + 70, y + 15);\r\n            doc.line(x + 70, y + 5, x + 60, y + 15);\r\n\r\n            addText(item.title, x + 3, y + 55, { fontSize: 8, fontStyle: 'bold', color: '#DC2626' });\r\n            addText(item.desc, x + 3, y + 62, { fontSize: 7, color: '#666666', maxWidth: 72 });\r\n\r\n            col++;\r\n            if (col >= 2) {\r\n                col = 0;\r\n                y += 80;\r\n            }\r\n        });\r\n\r\n        addPageNumber(pageNum);\r\n    }\r\n\r\n    // ========== PAGE 9: COLOR PALETTE - PRIMARY ==========\r\n    doc.addPage();\r\n    pageNum++;\r\n    {\r\n        addSectionHeader('Color Palette', 'Primary Colors');\r\n\r\n        addText(\r\n            'These are the core colors that define the brand identity. Use them consistently across all touchpoints.',\r\n            margin, 70, { fontSize: 10, maxWidth: contentWidth }\r\n        );\r\n\r\n        // Primary color (large swatch)\r\n        drawRect(margin, 90, contentWidth, 60, colors.primary, 4);\r\n        addText('PRIMARY', margin + 10, 105, { fontSize: 10, fontStyle: 'bold', color: '#FFFFFF' });\r\n        addText(colors.primary.toUpperCase(), margin + 10, 140, { fontSize: 12, color: '#FFFFFF' });\r\n\r\n        // Secondary colors\r\n        const swatchY = 170;\r\n        const swatchSize = 40;\r\n\r\n        if (colors.accent) {\r\n            drawColorSwatch(margin, swatchY, swatchSize, swatchSize, colors.accent, 'Accent');\r\n        }\r\n        drawColorSwatch(margin + 55, swatchY, swatchSize, swatchSize, colors.surface, 'Surface');\r\n        drawColorSwatch(margin + 110, swatchY, swatchSize, swatchSize, colors.bg, 'Background');\r\n\r\n        // Text colors\r\n        addText('Text Colors', margin, 240, { fontSize: 11, fontStyle: 'bold' });\r\n        drawColorSwatch(margin, 252, 30, 30, colors.text, 'Primary');\r\n        drawColorSwatch(margin + 45, 252, 30, 30, colors.muted || '#666666', 'Muted');\r\n\r\n        addPageNumber(pageNum);\r\n    }\r\n\r\n    // ========== PAGE 10: COLOR PALETTE - EXTENDED ==========\r\n    doc.addPage();\r\n    pageNum++;\r\n    {\r\n        addSectionHeader('Color Palette', 'Dark Mode & Extended');\r\n\r\n        addText('Dark Mode Colors', margin, 70, { fontSize: 11, fontStyle: 'bold' });\r\n        addText('Optimized colors for dark interfaces and backgrounds.', margin, 82, { fontSize: 10, color: '#666666' });\r\n\r\n        // Dark mode swatches\r\n        const darkSwatchY = 95;\r\n        drawColorSwatch(margin, darkSwatchY, 35, 35, darkColors?.primary || colors.primary, 'Primary');\r\n        drawColorSwatch(margin + 50, darkSwatchY, 35, 35, darkColors?.bg || '#1a1a1a', 'Background');\r\n        drawColorSwatch(margin + 100, darkSwatchY, 35, 35, darkColors?.surface || '#262626', 'Surface');\r\n        drawColorSwatch(margin + 150, darkSwatchY, 35, 35, darkColors?.text || '#FFFFFF', 'Text');\r\n\r\n        // Color usage\r\n        addText('Color Usage Guidelines', margin, 165, { fontSize: 11, fontStyle: 'bold' });\r\n\r\n        const usages = [\r\n            { color: 'Primary', use: 'CTAs, links, key UI elements, brand moments' },\r\n            { color: 'Accent', use: 'Highlights, notifications, secondary actions' },\r\n            { color: 'Surface', use: 'Cards, modals, elevated containers' },\r\n            { color: 'Background', use: 'Page backgrounds, large areas' },\r\n            { color: 'Text', use: 'Body copy, headings, labels' },\r\n        ];\r\n\r\n        let usageY = 180;\r\n        usages.forEach(item => {\r\n            addText(item.color + ':', margin, usageY, { fontSize: 9, fontStyle: 'bold' });\r\n            addText(item.use, margin + 30, usageY, { fontSize: 9, color: '#666666' });\r\n            usageY += 12;\r\n        });\r\n\r\n        // Contrast requirements\r\n        addText('Accessibility', margin, 250, { fontSize: 11, fontStyle: 'bold' });\r\n        addText('Ensure minimum 4.5:1 contrast ratio for body text and 3:1 for large text (WCAG AA).', margin, 263, { fontSize: 9, maxWidth: contentWidth });\r\n\r\n        addPageNumber(pageNum);\r\n    }\r\n\r\n    // ========== PAGE 11: TYPOGRAPHY - HEADINGS ==========\r\n    doc.addPage();\r\n    pageNum++;\r\n    {\r\n        addSectionHeader('Typography', 'Heading Styles');\r\n\r\n        addText('Primary Typeface', margin, 70, { fontSize: 11, fontStyle: 'bold' });\r\n        addText(brand.font.headingName || brand.font.name, margin, 85, { fontSize: 24, fontStyle: 'bold' });\r\n        addText('Used for headlines, titles, and display text', margin, 98, { fontSize: 9, color: '#666666' });\r\n\r\n        // Type scale\r\n        addText('Heading Scale', margin, 125, { fontSize: 11, fontStyle: 'bold' });\r\n\r\n        const headings = [\r\n            { name: 'Display', size: 48, weight: 'Bold', use: 'Hero sections, landing pages' },\r\n            { name: 'H1', size: 36, weight: 'Bold', use: 'Page titles' },\r\n            { name: 'H2', size: 28, weight: 'Semibold', use: 'Section headers' },\r\n            { name: 'H3', size: 22, weight: 'Semibold', use: 'Subsection headers' },\r\n            { name: 'H4', size: 18, weight: 'Medium', use: 'Card titles, labels' },\r\n        ];\r\n\r\n        let headingY = 140;\r\n        headings.forEach(h => {\r\n            addText(h.name, margin, headingY, { fontSize: h.size > 30 ? 14 : 11, fontStyle: 'bold' });\r\n            addText(`${h.size}px ΓÇó ${h.weight}`, margin + 35, headingY, { fontSize: 9, color: '#666666' });\r\n            addText(h.use, margin + 90, headingY, { fontSize: 9, color: '#999999' });\r\n            headingY += 20;\r\n        });\r\n\r\n        addPageNumber(pageNum);\r\n    }\r\n\r\n    // ========== PAGE 12: TYPOGRAPHY - BODY ==========\r\n    doc.addPage();\r\n    pageNum++;\r\n    {\r\n        addSectionHeader('Typography', 'Body & Hierarchy');\r\n\r\n        addText('Body Typeface', margin, 70, { fontSize: 11, fontStyle: 'bold' });\r\n        addText(brand.font.bodyName || brand.font.name, margin, 85, { fontSize: 16 });\r\n        addText('Used for body copy, paragraphs, and UI text', margin, 98, { fontSize: 9, color: '#666666' });\r\n\r\n        // Body scale\r\n        addText('Body Text Scale', margin, 120, { fontSize: 11, fontStyle: 'bold' });\r\n\r\n        const bodyStyles = [\r\n            { name: 'Body Large', size: 18, lineHeight: '28px', use: 'Introductions, featured content' },\r\n            { name: 'Body', size: 16, lineHeight: '24px', use: 'Default paragraph text' },\r\n            { name: 'Body Small', size: 14, lineHeight: '20px', use: 'Secondary information' },\r\n            { name: 'Caption', size: 12, lineHeight: '16px', use: 'Labels, metadata, footnotes' },\r\n            { name: 'Overline', size: 10, lineHeight: '14px', use: 'Category labels, all-caps' },\r\n        ];\r\n\r\n        let bodyY = 135;\r\n        bodyStyles.forEach(s => {\r\n            addText(s.name, margin, bodyY, { fontSize: 10, fontStyle: 'bold' });\r\n            addText(`${s.size}px / ${s.lineHeight}`, margin + 40, bodyY, { fontSize: 9, color: '#666666' });\r\n            addText(s.use, margin + 90, bodyY, { fontSize: 9, color: '#999999' });\r\n            bodyY += 15;\r\n        });\r\n\r\n        // Spacing\r\n        addText('Spacing & Rhythm', margin, 220, { fontSize: 11, fontStyle: 'bold' });\r\n        addText('Use consistent spacing based on 4px grid. Common values: 4, 8, 12, 16, 24, 32, 48, 64px', margin, 235, { fontSize: 9, maxWidth: contentWidth });\r\n\r\n        addText('Line Length', margin, 255, { fontSize: 11, fontStyle: 'bold' });\r\n        addText('Optimal line length: 45-75 characters for body text to ensure readability.', margin, 268, { fontSize: 9, maxWidth: contentWidth });\r\n\r\n        addPageNumber(pageNum);\r\n    }\r\n\r\n    // ========== PAGE 13: TYPOGRAPHY - DON'TS ==========\r\n    doc.addPage();\r\n    pageNum++;\r\n    {\r\n        addSectionHeader('Typography', 'Don\\'ts');\r\n\r\n        addText(\r\n            'Avoid these common typography mistakes to maintain brand consistency.',\r\n            margin, 70, { fontSize: 10, maxWidth: contentWidth }\r\n        );\r\n\r\n        const typoDonts = [\r\n            { title: 'Don\\'t use unauthorized fonts', desc: 'Stick to the brand typefaces only' },\r\n            { title: 'Don\\'t stretch text', desc: 'Never horizontally or vertically scale type' },\r\n            { title: 'Don\\'t use low contrast', desc: 'Maintain WCAG accessibility standards' },\r\n            { title: 'Don\\'t mix too many sizes', desc: 'Use the defined type scale' },\r\n            { title: 'Don\\'t center long paragraphs', desc: 'Left-align body text for readability' },\r\n            { title: 'Don\\'t use ALL CAPS for body', desc: 'Reserve caps for overlines/labels only' },\r\n        ];\r\n\r\n        let y = 95;\r\n        typoDonts.forEach((item, i) => {\r\n            drawRect(margin, y, contentWidth, 25, '#FEE2E2', 2);\r\n            addText('Γ£ù ' + item.title, margin + 5, y + 10, { fontSize: 9, fontStyle: 'bold', color: '#DC2626' });\r\n            addText(item.desc, margin + 5, y + 19, { fontSize: 8, color: '#666666' });\r\n            y += 32;\r\n        });\r\n\r\n        addPageNumber(pageNum);\r\n    }\r\n\r\n    // ========== PAGE 14: ICONOGRAPHY ==========\r\n    doc.addPage();\r\n    pageNum++;\r\n    {\r\n        addSectionHeader('Iconography', 'Graphics & Patterns');\r\n\r\n        addText('Icon Style', margin, 70, { fontSize: 11, fontStyle: 'bold' });\r\n        addText(\r\n            'Use consistent icon styles that match the brand aesthetic. ' +\r\n            'Prefer outline icons at 24px default size with 1.5-2px stroke.',\r\n            margin, 82, { fontSize: 10, maxWidth: contentWidth }\r\n        );\r\n\r\n        // Icon guidelines\r\n        addText('Icon Guidelines', margin, 110, { fontSize: 11, fontStyle: 'bold' });\r\n        const iconRules = [\r\n            'ΓÇó Use 24x24px as the default icon size',\r\n            'ΓÇó Maintain consistent stroke width (1.5-2px)',\r\n            'ΓÇó Use brand primary color or neutral gray',\r\n            'ΓÇó Ensure icons are optically centered',\r\n            'ΓÇó Keep icons simple and recognizable',\r\n        ];\r\n        let iconY = 125;\r\n        iconRules.forEach(rule => {\r\n            addText(rule, margin, iconY, { fontSize: 9 });\r\n            iconY += 10;\r\n        });\r\n\r\n        // Patterns\r\n        addText('Graphic Elements', margin, 185, { fontSize: 11, fontStyle: 'bold' });\r\n        addText(\r\n            'Brand patterns and graphic elements should complement the logo. ' +\r\n            'Use geometric shapes derived from the logo construction.',\r\n            margin, 197, { fontSize: 10, maxWidth: contentWidth }\r\n        );\r\n\r\n        // Photography\r\n        addText('Photography Style', margin, 225, { fontSize: 11, fontStyle: 'bold' });\r\n        addText(\r\n            'Select imagery that reflects brand values: ' +\r\n            `${brand.vibe} aesthetic with balanced composition and authentic subjects.`,\r\n            margin, 237, { fontSize: 10, maxWidth: contentWidth }\r\n        );\r\n\r\n        addPageNumber(pageNum);\r\n    }\r\n\r\n    // ========== PAGE 15: APPLICATION EXAMPLES ==========\r\n    doc.addPage();\r\n    pageNum++;\r\n    {\r\n        addSectionHeader('Applications', 'Usage Examples');\r\n\r\n        addText('Business Card', margin, 70, { fontSize: 11, fontStyle: 'bold' });\r\n        drawRect(margin, 80, 85, 50, '#F5F5F5', 3);\r\n        addText('Standard size: 3.5\" x 2\"', margin, 140, { fontSize: 9, color: '#666666' });\r\n\r\n        addText('Letterhead', margin + 100, 70, { fontSize: 11, fontStyle: 'bold' });\r\n        drawRect(margin + 100, 80, 60, 80, '#F5F5F5', 3);\r\n        addText('A4 / US Letter', margin + 100, 170, { fontSize: 9, color: '#666666' });\r\n\r\n        addText('Social Media', margin, 185, { fontSize: 11, fontStyle: 'bold' });\r\n        addText('Profile pictures, cover images, and post templates are available in the Social Media Kit.', margin, 198, { fontSize: 10, maxWidth: contentWidth });\r\n\r\n        addText('Website', margin, 225, { fontSize: 11, fontStyle: 'bold' });\r\n        addText('Use the logo at minimum 32px height in the header. Favicon included in the asset package.', margin, 238, { fontSize: 10, maxWidth: contentWidth });\r\n\r\n        addText('Merchandise', margin, 260, { fontSize: 11, fontStyle: 'bold' });\r\n        addText('For apparel and physical products, use vector files. Minimum logo size: 1 inch.', margin, 273, { fontSize: 10, maxWidth: contentWidth });\r\n\r\n        addPageNumber(pageNum);\r\n    }\r\n\r\n    // ========== PAGE 16: DIGITAL ASSETS & CONTACT ==========\r\n    doc.addPage();\r\n    pageNum++;\r\n    {\r\n        addSectionHeader('Digital Assets', 'Files & Resources');\r\n\r\n        addText('Included Assets', margin, 70, { fontSize: 11, fontStyle: 'bold' });\r\n\r\n        const assets = [\r\n            'logo-composed-color.svg - Full color logo',\r\n            'logo-composed-black.svg - Single color black',\r\n            'logo-composed-white.svg - Reversed for dark backgrounds',\r\n            'logo-dark-mode.svg - Optimized for dark interfaces',\r\n            'favicon.ico - Browser favicon (16, 32, 48px)',\r\n            'apple-touch-icon.png - iOS home screen icon',\r\n            'theme.json - Color tokens for development',\r\n            'tailwind.config.js - Tailwind CSS configuration',\r\n        ];\r\n\r\n        let assetY = 85;\r\n        assets.forEach(asset => {\r\n            addText('ΓÇó ' + asset, margin, assetY, { fontSize: 9 });\r\n            assetY += 10;\r\n        });\r\n\r\n        addText('File Formats', margin, 180, { fontSize: 11, fontStyle: 'bold' });\r\n        addText('SVG - Vector format for web and print', margin, 193, { fontSize: 9 });\r\n        addText('PNG - Raster format at multiple sizes', margin, 203, { fontSize: 9 });\r\n        addText('ICO - Windows favicon format', margin, 213, { fontSize: 9 });\r\n\r\n        // Footer\r\n        drawRect(margin, 240, contentWidth, 40, colors.primary, 4);\r\n        addText('Generated with Glyph', margin + 10, 255, { fontSize: 10, color: '#FFFFFF' });\r\n        addText('glyph.software', margin + 10, 268, { fontSize: 10, fontStyle: 'bold', color: '#FFFFFF' });\r\n        addText(`┬⌐ ${new Date().getFullYear()} ${brand.name}`, pageWidth - margin - 50, 260, { fontSize: 9, color: '#FFFFFF' });\r\n\r\n        addPageNumber(pageNum);\r\n    }\r\n\r\n    return doc.output('blob');\r\n}\r\n\r\n/**\r\n * Download brand guidelines as PDF\r\n */\r\nexport async function downloadBrandBookPDF(brand: BrandIdentity): Promise<void> {\r\n    const blob = await generateBrandBookPDF(brand);\r\n    const url = URL.createObjectURL(blob);\r\n    const link = document.createElement('a');\r\n    link.href = url;\r\n    link.download = `${brand.name.toLowerCase().replace(/\\s+/g, '-')}-brand-guidelines.pdf`;\r\n    link.click();\r\n    URL.revokeObjectURL(url);\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\export\\ExportPackage.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\export\\ExportSVG.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Shape' is defined but never used.","line":9,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":9,"endColumn":23},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'secondaryScale' is assigned a value but never used.","line":55,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":55,"endColumn":25},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'accentColor' is assigned a value but never used.","line":76,"column":13,"nodeType":null,"messageId":"unusedVar","endLine":76,"endColumn":24},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'bgColor' is assigned a value but never used.","line":77,"column":13,"nodeType":null,"messageId":"unusedVar","endLine":77,"endColumn":20}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Logo Composition SVG Generator\r\n * \r\n * Server-side compatible version of LogoComposition that outputs pure SVG strings.\r\n * This matches the exact output of the React LogoComposition component.\r\n */\r\n\r\nimport { BrandIdentity } from '@/lib/data';\r\nimport { SHAPES, Shape } from '@/lib/shapes';\r\n\r\n/**\r\n * Deterministic PRNG based on string seed (same as LogoComposition)\r\n */\r\nfunction seededRandom(seed: string): number {\r\n    let hash = 0;\r\n    for (let i = 0; i < seed.length; i++) {\r\n        const char = seed.charCodeAt(i);\r\n        hash = ((hash << 5) - hash) + char;\r\n        hash = hash & hash;\r\n    }\r\n    const x = Math.sin(hash) * 10000;\r\n    return x - Math.floor(x);\r\n}\r\n\r\n/**\r\n * Get shape scale factor to normalize to 100x100 canvas\r\n */\r\nfunction getShapeScale(shape: { viewBox?: string }): number {\r\n    if (!shape.viewBox) return 3;\r\n    const parts = shape.viewBox.split(' ');\r\n    const width = parseFloat(parts[2]) || 24;\r\n    return 80 / width;\r\n}\r\n\r\nexport type SVGVariant = 'color' | 'black' | 'white';\r\n\r\n/**\r\n * Generate the composed logo SVG (matching LogoComposition output)\r\n */\r\nexport function generateComposedLogoSVG(\r\n    brand: BrandIdentity,\r\n    variant: SVGVariant = 'color'\r\n): string {\r\n    const seed = brand.id + (brand.name || 'brand') + (brand.generationSeed || brand.id || 'stable');\r\n\r\n    // Get shapes\r\n    const safeShapes = SHAPES.length > 0 ? SHAPES : [{ id: 'fallback', path: 'M0 0h100v100H0z', name: 'Fallback', viewBox: '0 0 100 100', tags: [], complexity: 'simple' as const }];\r\n    const shapeIndex1 = Math.floor(seededRandom(seed + 's1') * safeShapes.length);\r\n    const shapeIndex2 = Math.floor(seededRandom(seed + 's2') * safeShapes.length);\r\n\r\n    const primaryShape = brand.shape || safeShapes[shapeIndex1 % safeShapes.length];\r\n    const secondaryShape = safeShapes[shapeIndex2 % safeShapes.length];\r\n\r\n    const primaryScale = getShapeScale(primaryShape);\r\n    const secondaryScale = getShapeScale(secondaryShape);\r\n\r\n    // Determine colors based on variant\r\n    let primaryColor: string;\r\n    let accentColor: string;\r\n    let bgColor: string;\r\n\r\n    switch (variant) {\r\n        case 'black':\r\n            primaryColor = '#000000';\r\n            accentColor = '#333333';\r\n            bgColor = 'transparent';\r\n            break;\r\n        case 'white':\r\n            primaryColor = '#FFFFFF';\r\n            accentColor = '#EEEEEE';\r\n            bgColor = 'transparent';\r\n            break;\r\n        case 'color':\r\n        default:\r\n            primaryColor = brand.theme.tokens.light.primary;\r\n            accentColor = brand.theme.tokens.light.accent || brand.theme.tokens.light.primary;\r\n            bgColor = 'transparent';\r\n            break;\r\n    }\r\n\r\n    // Generate unique ID for masks\r\n    const uniqueId = `logo-${brand.id.substring(0, 8)}`;\r\n\r\n    // Always use container layout (shape cut out of rounded square) - no plain shapes\r\n    const svgContent = `\r\n    <defs>\r\n        <mask id=\"mask-container-${uniqueId}\">\r\n            <rect width=\"100\" height=\"100\" fill=\"white\"/>\r\n            <g transform=\"translate(${50 - primaryScale * 10}, ${50 - primaryScale * 10}) scale(${primaryScale * 0.85})\">\r\n                <path d=\"${primaryShape.path}\" fill=\"black\"/>\r\n            </g>\r\n        </mask>\r\n    </defs>\r\n    <rect x=\"10\" y=\"10\" width=\"80\" height=\"80\" rx=\"18\" fill=\"${primaryColor}\" mask=\"url(#mask-container-${uniqueId})\"/>`;\r\n\r\n    return `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 100 100\" fill=\"none\">\r\n${svgContent}\r\n</svg>`;\r\n}\r\n\r\n/**\r\n * Generate simple icon-only SVG (just the shape)\r\n */\r\nexport function generateSimpleLogoSVG(\r\n    brand: BrandIdentity,\r\n    variant: SVGVariant = 'color'\r\n): string {\r\n    const viewBox = brand.shape.viewBox || '0 0 24 24';\r\n    const path = brand.shape.path;\r\n\r\n    let fillColor: string;\r\n    switch (variant) {\r\n        case 'black':\r\n            fillColor = '#000000';\r\n            break;\r\n        case 'white':\r\n            fillColor = '#FFFFFF';\r\n            break;\r\n        case 'color':\r\n        default:\r\n            fillColor = brand.theme.tokens.light.primary;\r\n            break;\r\n    }\r\n\r\n    return `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"${viewBox}\" fill=\"none\">\r\n    <path d=\"${path}\" fill=\"${fillColor}\"/>\r\n</svg>`;\r\n}\r\n\r\n/**\r\n * Generate wordmark SVG (logo + brand name)\r\n */\r\nexport function generateWordmarkSVG(\r\n    brand: BrandIdentity,\r\n    variant: SVGVariant = 'color'\r\n): string {\r\n    const path = brand.shape.path;\r\n    const shapeViewBox = brand.shape.viewBox || '0 0 24 24';\r\n    const [, , vbWidth] = shapeViewBox.split(' ').map(Number);\r\n    const shapeScale = 24 / (vbWidth || 24);\r\n\r\n    let primaryColor: string;\r\n    let textColor: string;\r\n\r\n    switch (variant) {\r\n        case 'black':\r\n            primaryColor = '#000000';\r\n            textColor = '#000000';\r\n            break;\r\n        case 'white':\r\n            primaryColor = '#FFFFFF';\r\n            textColor = '#FFFFFF';\r\n            break;\r\n        default:\r\n            primaryColor = brand.theme.tokens.light.primary;\r\n            textColor = brand.theme.tokens.light.text;\r\n            break;\r\n    }\r\n\r\n    const iconSize = 32;\r\n    const textX = iconSize + 12;\r\n    const totalWidth = textX + brand.name.length * 12;\r\n\r\n    return `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 ${totalWidth} 40\" fill=\"none\">\r\n    <!-- Icon -->\r\n    <g transform=\"translate(4, 4) scale(${shapeScale})\">\r\n        <path d=\"${path}\" fill=\"${primaryColor}\"/>\r\n    </g>\r\n    <!-- Brand Name -->\r\n    <text x=\"${textX}\" y=\"28\" font-family=\"${brand.font.heading}, system-ui, sans-serif\" font-size=\"20\" font-weight=\"700\" fill=\"${textColor}\">\r\n        ${brand.name}\r\n    </text>\r\n</svg>`;\r\n}\r\n\r\n/**\r\n * Generate favicon SVG\r\n */\r\nexport function generateFaviconSVG(brand: BrandIdentity): string {\r\n    // For favicon, use the composed logo but simplified\r\n    return generateComposedLogoSVG(brand, 'color');\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\export\\ExportSocial.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'platform' is defined but never used.","line":208,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":208,"endColumn":22}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Social Media Kit Generator\r\n *\r\n * Generates branded social media assets in standard platform sizes.\r\n * Uses stored logo SVG to ensure exports match preview exactly.\r\n */\r\n\r\nimport JSZip from 'jszip';\r\nimport { saveAs } from 'file-saver';\r\nimport { BrandIdentity } from '@/lib/data';\r\nimport { getStoredLogoSVG } from '@/components/logo-engine/renderers/stored-logo-export';\r\n\r\n// Standard social media dimensions (2024 specs)\r\nexport const SOCIAL_MEDIA_SIZES = {\r\n  // Instagram\r\n  instagram_post: { width: 1080, height: 1080, label: 'Instagram Post' },\r\n  instagram_story: { width: 1080, height: 1920, label: 'Instagram Story' },\r\n  instagram_profile: { width: 320, height: 320, label: 'Instagram Profile' },\r\n\r\n  // Facebook\r\n  facebook_post: { width: 1200, height: 630, label: 'Facebook Post' },\r\n  facebook_cover: { width: 820, height: 312, label: 'Facebook Cover' },\r\n\r\n  // Twitter/X\r\n  twitter_post: { width: 1200, height: 675, label: 'Twitter/X Post' },\r\n  twitter_header: { width: 1500, height: 500, label: 'Twitter/X Header' },\r\n\r\n  // LinkedIn\r\n  linkedin_post: { width: 1200, height: 627, label: 'LinkedIn Post' },\r\n  linkedin_banner: { width: 1584, height: 396, label: 'LinkedIn Banner' },\r\n\r\n  // YouTube\r\n  youtube_thumbnail: { width: 1280, height: 720, label: 'YouTube Thumbnail' },\r\n  youtube_banner: { width: 2560, height: 1440, label: 'YouTube Banner' },\r\n  youtube_profile: { width: 800, height: 800, label: 'YouTube Profile' },\r\n\r\n  // TikTok\r\n  tiktok: { width: 1080, height: 1920, label: 'TikTok' },\r\n\r\n  // Threads (Meta)\r\n  threads_post: { width: 1080, height: 1080, label: 'Threads Post' },\r\n  threads_story: { width: 1080, height: 1920, label: 'Threads Story' },\r\n  threads_profile: { width: 400, height: 400, label: 'Threads Profile' },\r\n\r\n  // Discord\r\n  discord_server_icon: { width: 512, height: 512, label: 'Discord Server Icon' },\r\n  discord_server_banner: { width: 960, height: 540, label: 'Discord Server Banner' },\r\n  discord_profile: { width: 128, height: 128, label: 'Discord Profile' },\r\n} as const;\r\n\r\nexport type SocialMediaPlatform = keyof typeof SOCIAL_MEDIA_SIZES;\r\n\r\nexport interface SocialMediaAsset {\r\n  platform: SocialMediaPlatform;\r\n  svg: string;\r\n  width: number;\r\n  height: number;\r\n  label: string;\r\n}\r\n\r\n/**\r\n * Generate an SVG template for a social media platform\r\n */\r\nfunction generateSocialMediaSVG(\r\n  brand: BrandIdentity,\r\n  width: number,\r\n  height: number,\r\n  variant: 'light' | 'dark' = 'light'\r\n): string {\r\n  // Use stored logo SVG - ensures exact match with preview\r\n  const logoSvg = getStoredLogoSVG(brand, 'color');\r\n  // Extract the inner content of the logo SVG (without the XML declaration and outer svg tag)\r\n  const logoContent = logoSvg\r\n    .replace(/<\\?xml[^?]*\\?>/g, '')\r\n    .replace(/<svg[^>]*>/g, '')\r\n    .replace(/<\\/svg>/g, '')\r\n    .trim();\r\n\r\n  const bgColor = variant === 'light'\r\n    ? brand.theme.tokens.light.bg\r\n    : brand.theme.tokens.dark?.bg || brand.theme.tokens.light.text;\r\n\r\n  const textColor = variant === 'light'\r\n    ? brand.theme.tokens.light.text\r\n    : brand.theme.tokens.dark?.text || brand.theme.tokens.light.bg;\r\n\r\n  const primaryColor = brand.theme.tokens.light.primary;\r\n\r\n  // Calculate logo size (responsive to canvas)\r\n  const logoSize = Math.min(width, height) * 0.3;\r\n  const logoX = (width - logoSize) / 2;\r\n  const logoY = (height - logoSize) / 2 - (height * 0.05);\r\n\r\n  // Text positioning\r\n  const nameY = logoY + logoSize + 40;\r\n  const taglineY = nameY + 30;\r\n\r\n  return `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 ${width} ${height}\" width=\"${width}\" height=\"${height}\">\r\n  <!-- Background -->\r\n  <rect width=\"${width}\" height=\"${height}\" fill=\"${bgColor}\"/>\r\n\r\n  <!-- Logo -->\r\n  <g transform=\"translate(${logoX}, ${logoY}) scale(${logoSize / 100})\">\r\n    ${logoContent}\r\n  </g>\r\n\r\n  <!-- Brand Name -->\r\n  <text\r\n    x=\"${width / 2}\"\r\n    y=\"${nameY}\"\r\n    font-family=\"${brand.font.heading}, system-ui, sans-serif\"\r\n    font-size=\"${Math.min(width, height) * 0.06}\"\r\n    font-weight=\"700\"\r\n    fill=\"${textColor}\"\r\n    text-anchor=\"middle\"\r\n  >\r\n    ${brand.name}\r\n  </text>\r\n\r\n  ${brand.strategy?.tagline ? `\r\n  <!-- Tagline -->\r\n  <text\r\n    x=\"${width / 2}\"\r\n    y=\"${taglineY}\"\r\n    font-family=\"${brand.font.body}, system-ui, sans-serif\"\r\n    font-size=\"${Math.min(width, height) * 0.03}\"\r\n    fill=\"${primaryColor}\"\r\n    text-anchor=\"middle\"\r\n  >\r\n    ${brand.strategy.tagline}\r\n  </text>\r\n  ` : ''}\r\n</svg>`;\r\n}\r\n\r\n/**\r\n * Generate a complete social media kit for all platforms\r\n */\r\nexport function generateSocialMediaKit(brand: BrandIdentity): SocialMediaAsset[] {\r\n  const assets: SocialMediaAsset[] = [];\r\n\r\n  for (const [platform, size] of Object.entries(SOCIAL_MEDIA_SIZES)) {\r\n    assets.push({\r\n      platform: platform as SocialMediaPlatform,\r\n      svg: generateSocialMediaSVG(brand, size.width, size.height, 'light'),\r\n      width: size.width,\r\n      height: size.height,\r\n      label: size.label,\r\n    });\r\n  }\r\n\r\n  return assets;\r\n}\r\n\r\n/**\r\n * Download a single social media asset as SVG\r\n */\r\nexport function downloadSocialAsset(\r\n  brand: BrandIdentity,\r\n  platform: SocialMediaPlatform,\r\n  variant: 'light' | 'dark' = 'light'\r\n): void {\r\n  const size = SOCIAL_MEDIA_SIZES[platform];\r\n  const svg = generateSocialMediaSVG(brand, size.width, size.height, variant);\r\n\r\n  const blob = new Blob([svg], { type: 'image/svg+xml' });\r\n  const fileName = `${brand.name.toLowerCase().replace(/\\s+/g, '-')}-${platform}-${variant}.svg`;\r\n  saveAs(blob, fileName);\r\n}\r\n\r\n/**\r\n * Download complete social media kit as ZIP\r\n */\r\nexport async function downloadSocialMediaKitZip(brand: BrandIdentity): Promise<void> {\r\n  const zip = new JSZip();\r\n  const folderName = brand.name.toLowerCase().replace(/\\s+/g, '-');\r\n  const root = zip.folder(`${folderName}-social-media-kit`);\r\n\r\n  if (!root) {\r\n    console.error('Failed to create zip folder');\r\n    return;\r\n  }\r\n\r\n  // Generate assets for each platform in both light and dark variants\r\n  for (const [platform, size] of Object.entries(SOCIAL_MEDIA_SIZES)) {\r\n    const platformFolder = root.folder(platform);\r\n    if (platformFolder) {\r\n      // Light variant\r\n      const lightSvg = generateSocialMediaSVG(brand, size.width, size.height, 'light');\r\n      platformFolder.file(`${platform}-light.svg`, lightSvg);\r\n\r\n      // Dark variant\r\n      const darkSvg = generateSocialMediaSVG(brand, size.width, size.height, 'dark');\r\n      platformFolder.file(`${platform}-dark.svg`, darkSvg);\r\n    }\r\n  }\r\n\r\n  // Add README\r\n  const readme = `# ${brand.name} Social Media Kit\r\nGenerated by Glyph (https://glyph.software)\r\n\r\n## Contents\r\nThis kit contains branded templates for major social media platforms.\r\n\r\n## Platforms Included\r\n${Object.entries(SOCIAL_MEDIA_SIZES)\r\n      .map(([platform, size]) => `- ${size.label}: ${size.width}x${size.height}px`)\r\n      .join('\\n')}\r\n\r\n## Variants\r\nEach platform includes:\r\n- Light variant (light background)\r\n- Dark variant (dark background)\r\n\r\n## Usage\r\nThese SVG templates can be:\r\n1. Used directly as social media posts\r\n2. Imported into design tools (Figma, Canva, etc.)\r\n3. Converted to PNG/JPG using any image editor\r\n\r\n## Fonts\r\nPrimary Font: ${brand.font.heading}\r\nBody Font: ${brand.font.body}\r\n`;\r\n  root.file('README.txt', readme.trim());\r\n\r\n  // Generate and download ZIP\r\n  const content = await zip.generateAsync({ type: 'blob' });\r\n  saveAs(content, `${folderName}-social-media-kit.zip`);\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\generator\\AppIconVariants.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\generator\\ArchetypeSelector.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'motion' is defined but never used.","line":3,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":3,"endColumn":16}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { motion } from \"framer-motion\";\r\nimport { Type, Hexagon } from \"lucide-react\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\ninterface ArchetypeSelectorProps {\r\n    selected: \"symbol\" | \"wordmark\";\r\n    onSelect: (value: \"symbol\" | \"wordmark\") => void;\r\n}\r\n\r\nexport function ArchetypeSelector({ selected, onSelect }: ArchetypeSelectorProps) {\r\n    return (\r\n        <div className=\"grid grid-cols-2 gap-2\">\r\n            {/* SYMBOL OPTION */}\r\n            <button\r\n                onClick={() => onSelect(\"symbol\")}\r\n                className={cn(\r\n                    \"relative flex items-center justify-center gap-2 px-4 py-2.5 rounded-lg border text-sm font-medium transition-all outline-none focus-visible:ring-2 focus-visible:ring-stone-950 focus-visible:ring-offset-2\",\r\n                    selected === \"symbol\"\r\n                        ? \"bg-stone-900 border-stone-900 text-white shadow-md ring-1 ring-stone-900 ring-offset-1\"\r\n                        : \"bg-transparent border-stone-200 text-stone-600 hover:border-stone-300 hover:bg-stone-50/50\"\r\n                )}\r\n            >\r\n                <Hexagon className=\"w-4 h-4\" />\r\n                <span>Symbol</span>\r\n            </button>\r\n\r\n            {/* WORDMARK OPTION */}\r\n            <button\r\n                onClick={() => onSelect(\"wordmark\")}\r\n                className={cn(\r\n                    \"relative flex items-center justify-center gap-2 px-4 py-2.5 rounded-lg border text-sm font-medium transition-all outline-none focus-visible:ring-2 focus-visible:ring-stone-950 focus-visible:ring-offset-2\",\r\n                    selected === \"wordmark\"\r\n                        ? \"bg-stone-900 border-stone-900 text-white shadow-md ring-1 ring-stone-900 ring-offset-1\"\r\n                        : \"bg-transparent border-stone-200 text-stone-600 hover:border-stone-300 hover:bg-stone-50/50\"\r\n                )}\r\n            >\r\n                <Type className=\"w-4 h-4\" />\r\n                <span>Wordmark</span>\r\n            </button>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\generator\\BrandBoard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\generator\\BrandContextSelector.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\generator\\BrandSlides.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'hexToRgb' is defined but never used.","line":5,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":5,"endColumn":22},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'hexToCmyk' is defined but never used.","line":5,"column":24,"nodeType":null,"messageId":"unusedVar","endLine":5,"endColumn":33},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'motion' is defined but never used.","line":6,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":6,"endColumn":16},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ExternalLink' is defined but never used.","line":7,"column":23,"nodeType":null,"messageId":"unusedVar","endLine":7,"endColumn":35},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ArrowRight' is defined but never used.","line":7,"column":37,"nodeType":null,"messageId":"unusedVar","endLine":7,"endColumn":47},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'onSwapFont' is defined but never used.","line":344,"column":42,"nodeType":null,"messageId":"unusedVar","endLine":344,"endColumn":52},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":344,"column":145,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":344,"endColumn":148,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[15984,15987],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[15984,15987],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":518,"column":66,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":518,"endColumn":113}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState } from 'react';\r\nimport { BrandIdentity } from '@/lib/data';\r\nimport { cn, hexToRgb, hexToCmyk } from '@/lib/utils';\r\nimport { motion } from 'framer-motion';\r\nimport { Check, Copy, ExternalLink, ArrowRight, RefreshCw } from 'lucide-react';\r\nimport { LogoComposition } from '@/components/logo-engine/LogoComposition';\r\nimport { MockupSocial } from '@/components/preview/MockupSocial';\r\nimport { MockupBillboard } from '@/components/preview/MockupBillboard';\r\nimport { FontSelector } from './FontSelector';\r\n\r\n// ... (SlideLayout remains same)\r\n\r\n// ==================== SHARED LAYOUT ====================\r\nconst SlideLayout = ({\r\n    children,\r\n    className,\r\n    title,\r\n    brand,\r\n    action,\r\n    id\r\n}: {\r\n    children: React.ReactNode;\r\n    className?: string;\r\n    title?: string;\r\n    brand: BrandIdentity;\r\n    action?: React.ReactNode;\r\n    id?: string;\r\n}) => (\r\n    <div id={id} className={cn(\"aspect-video w-full bg-stone-950 text-white p-8 md:p-12 lg:p-16 flex flex-col relative overflow-hidden\", className)}>\r\n        {/* Background Ambient */}\r\n        <div\r\n            className=\"absolute top-0 right-0 w-2/3 h-full opacity-20 pointer-events-none\"\r\n            style={{\r\n                background: `radial-gradient(circle at 100% 0%, ${brand.theme.tokens.dark.primary}, transparent 70%)`\r\n            }}\r\n        />\r\n\r\n        {/* Header */}\r\n        {title && (\r\n            <div className=\"flex justify-between items-start mb-8 relative z-10 border-b border-white/10 pb-6\">\r\n                <div>\r\n                    <h2 className=\"text-sm font-mono uppercase tracking-widest text-white/50 mb-1\">Glyph Generator</h2>\r\n                    <h3 className=\"text-2xl font-bold tracking-tight\">{title}</h3>\r\n                </div>\r\n                {action && <div>{action}</div>}\r\n            </div>\r\n        )}\r\n\r\n        <div className=\"flex-1 relative z-10\">\r\n            {children}\r\n        </div>\r\n    </div >\r\n);\r\n\r\n// ==================== 1. COVER SLIDE ====================\r\nexport const SlideCover = ({ brand, id }: { brand: BrandIdentity, id?: string }) => (\r\n    <SlideLayout brand={brand} id={id} className=\"justify-end\">\r\n        <div className=\"space-y-6\">\r\n            <div className=\"w-32 h-32 mb-8\">\r\n                <LogoComposition\r\n                    brand={brand}\r\n                    layout=\"generative\"\r\n                    overrideColors={{ primary: '#FFFFFF' }}\r\n                    className=\"w-full h-full drop-shadow-2xl\"\r\n                />\r\n            </div>\r\n            <h1 className={cn(\"text-6xl md:text-8xl font-bold tracking-tighter\", brand.font.heading)}>\r\n                {brand.name}\r\n            </h1>\r\n            <p className=\"text-xl text-white/60 max-w-xl\">\r\n                Brand Identity Guidelines\r\n            </p>\r\n        </div>\r\n\r\n        {/* Viral Badge */}\r\n        <div className=\"absolute bottom-8 right-8 flex items-center gap-2 px-4 py-2 bg-white/5 backdrop-blur-md rounded-full border border-white/10 opacity-60\">\r\n            <div className=\"w-3 h-3 bg-[#CCFF00] rounded-full animate-pulse\" />\r\n            <span className=\"text-[10px] font-mono uppercase tracking-widest text-white/80\">\r\n                Made with Glyph\r\n            </span>\r\n        </div>\r\n    </SlideLayout>\r\n);\r\n\r\n// ==================== 2. STRATEGY SLIDE ====================\r\nexport const SlideStrategy = ({ brand, id }: { brand: BrandIdentity, id?: string }) => {\r\n    const s = brand.strategy;\r\n    if (!s) return null;\r\n\r\n    return (\r\n        <SlideLayout brand={brand} id={id} title=\"Brand Strategy\">\r\n            <div className=\"grid grid-cols-2 gap-x-12 gap-y-12 h-full\">\r\n                <div>\r\n                    <h4 className=\"text-[#CCFF00] text-sm font-mono uppercase tracking-widest mb-4\">Mission</h4>\r\n                    <p className=\"text-xl md:text-2xl leading-relaxed font-light text-white/90\">\r\n                        {s.mission}\r\n                    </p>\r\n                </div>\r\n                <div>\r\n                    <h4 className=\"text-[#CCFF00] text-sm font-mono uppercase tracking-widest mb-4\">Vision</h4>\r\n                    <p className=\"text-xl md:text-2xl leading-relaxed font-light text-white/90\">\r\n                        {s.vision}\r\n                    </p>\r\n                </div>\r\n                <div>\r\n                    <h4 className=\"text-[#CCFF00] text-sm font-mono uppercase tracking-widest mb-4\">Core Values</h4>\r\n                    <ul className=\"grid grid-cols-2 gap-4\">\r\n                        {s.values.map((val) => (\r\n                            <li key={val} className=\"flex items-center gap-2 border-l border-white/20 pl-4 py-1\">\r\n                                {val}\r\n                            </li>\r\n                        ))}\r\n                    </ul>\r\n                </div>\r\n                <div>\r\n                    <h4 className=\"text-[#CCFF00] text-sm font-mono uppercase tracking-widest mb-4\">Target Audience</h4>\r\n                    <p className=\"text-lg text-white/70\">\r\n                        {s.audience}\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </SlideLayout>\r\n    );\r\n};\r\n\r\n// ==================== 3. LOGO CONSTRUCTION ====================\r\n// ==================== 3. LOGO CONSTRUCTION ====================\r\nimport { ColorPicker } from '@/components/ui/ColorPicker';\r\nimport {\r\n    DropdownMenu,\r\n    DropdownMenuContent,\r\n    DropdownMenuTrigger,\r\n} from \"@/components/ui/dropdown-menu\";\r\nimport { Dices } from 'lucide-react';\r\n\r\ninterface SlideLogoProps {\r\n    brand: BrandIdentity;\r\n    onSelectColor?: (color: { light: string; dark: string }) => void;\r\n    id?: string;\r\n}\r\n\r\nexport const SlideLogo = ({ brand, onSelectColor, id }: SlideLogoProps) => {\r\n    const currentColor = brand.theme.tokens.light.primary;\r\n\r\n    const handleRandomColor = () => {\r\n        const randomHex = '#' + Math.floor(Math.random() * 16777215).toString(16).padStart(6, '0');\r\n        // Simple dark variant approximation\r\n        onSelectColor?.({ light: randomHex, dark: randomHex });\r\n    };\r\n\r\n    return (\r\n        <SlideLayout\r\n            brand={brand}\r\n            title={`Logo Marks for ${brand.name}`}\r\n            action={\r\n                <div className=\"flex items-center gap-2\">\r\n                    {/* Color Picker Dropdown */}\r\n                    <DropdownMenu>\r\n                        <DropdownMenuTrigger asChild>\r\n                            <button\r\n                                className=\"flex items-center gap-2 px-3 py-2 bg-white/10 hover:bg-white/20 text-white rounded-full text-xs font-bold uppercase tracking-wider transition-colors border border-white/10 backdrop-blur-md outline-none focus:ring-2 focus:ring-white/20\"\r\n                            >\r\n                                <div\r\n                                    className=\"w-4 h-4 rounded-full border border-white/30\"\r\n                                    style={{ backgroundColor: currentColor }}\r\n                                />\r\n                                <span className=\"hidden sm:inline\">Color</span>\r\n                            </button>\r\n                        </DropdownMenuTrigger>\r\n                        <DropdownMenuContent\r\n                            sideOffset={8}\r\n                            align=\"end\"\r\n                            className=\"w-[280px] p-0 bg-stone-900/95 backdrop-blur-xl border-white/10 text-white rounded-2xl shadow-2xl overflow-hidden\"\r\n                        >\r\n                            <ColorPicker\r\n                                value={currentColor}\r\n                                onChange={(color) => {\r\n                                    onSelectColor?.(color);\r\n                                }}\r\n                            />\r\n                        </DropdownMenuContent>\r\n                    </DropdownMenu>\r\n\r\n                    {/* Random Button */}\r\n                    <button\r\n                        onClick={handleRandomColor}\r\n                        className=\"flex items-center gap-2 px-3 py-2 bg-white/10 hover:bg-white/20 text-white rounded-full text-xs font-bold uppercase tracking-wider transition-colors border border-white/10 backdrop-blur-md\"\r\n                        title=\"Random Color\"\r\n                    >\r\n                        <Dices className=\"w-4 h-4\" />\r\n                        <span className=\"hidden sm:inline\">Random</span>\r\n                    </button>\r\n                </div>\r\n            }\r\n            id={id}\r\n        >\r\n            <div className=\"grid grid-cols-4 grid-rows-2 gap-6 h-full\">\r\n                {/* Primary Mark - Bigger */}\r\n                <div className=\"col-span-2 row-span-2 bg-white rounded-xl p-8 flex flex-col justify-between text-black relative group\">\r\n                    <div className=\"flex-1 flex items-center justify-center\">\r\n                        <div className=\"w-48 h-48 relative\">\r\n                            <LogoComposition brand={brand} layout=\"generative\" />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"border-t border-black/10 pt-4 mt-4\">\r\n                        <span className=\"text-xs uppercase font-bold tracking-widest opacity-60\">Primary Mark</span>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Monotone */}\r\n                <div className=\"col-span-1 row-span-1 bg-stone-900 rounded-xl p-6 flex flex-col justify-between text-white border border-white/10\">\r\n                    <div className=\"w-16 h-16 self-center\">\r\n                        <LogoComposition brand={brand} layout=\"generative\" overrideColors={{ primary: '#FFFFFF' }} />\r\n                    </div>\r\n                    <span className=\"text-[10px] uppercase font-bold tracking-widest opacity-50 text-center\">Monotone</span>\r\n                </div>\r\n\r\n                {/* Accent */}\r\n                <div className=\"col-span-1 row-span-1 rounded-xl p-6 flex flex-col justify-between text-white\" style={{ backgroundColor: brand.theme.tokens.dark.primary }}>\r\n                    <div className=\"w-16 h-16 self-center\">\r\n                        <LogoComposition brand={brand} layout=\"generative\" overrideColors={{ primary: '#FFFFFF' }} />\r\n                    </div>\r\n                    <span className=\"text-[10px] uppercase font-bold tracking-widest opacity-80 text-center\">Accent</span>\r\n                </div>\r\n\r\n                {/* Clear Space Diagram */}\r\n                <div className=\"col-span-2 row-span-1 border border-white/10 rounded-xl p-6 relative flex items-center justify-center bg-white/5\">\r\n                    <div className=\"absolute top-4 left-4 text-[10px] font-mono text-white/40 uppercase tracking-widest\">Clear Space</div>\r\n                    <div className=\"relative p-6 border border-dashed border-white/20\">\r\n                        <div className=\"w-16 h-16\">\r\n                            <LogoComposition brand={brand} layout=\"generative\" overrideColors={{ primary: '#FFFFFF' }} />\r\n                        </div>\r\n                        {/* Measurement lines */}\r\n                        <div className=\"absolute -top-3 left-1/2 -translate-x-1/2 text-[10px] font-mono text-white/40\">x</div>\r\n                        <div className=\"absolute top-1/2 -right-3 -translate-y-1/2 text-[10px] font-mono text-white/40\">x</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </SlideLayout>\r\n    );\r\n};\r\n\r\n// ==================== 4. COLOR PALETTE ====================\r\n// Helper Card - Always shows swatch in contrasting container\r\nconst ColorCard = ({ label, hex, dark = false }: { label: string, hex: string, dark?: boolean }) => {\r\n    const [copied, setCopied] = useState(false);\r\n\r\n    const handleCopy = () => {\r\n        navigator.clipboard.writeText(hex.toUpperCase());\r\n        setCopied(true);\r\n        setTimeout(() => setCopied(false), 2000);\r\n    };\r\n\r\n    return (\r\n        <div\r\n            onClick={handleCopy}\r\n            className={cn(\r\n                \"rounded-xl p-4 flex flex-col justify-between relative group cursor-pointer transition-all hover:scale-[1.02] min-h-[140px]\",\r\n                dark\r\n                    ? \"bg-stone-900 text-white border border-white/10\"\r\n                    : \"bg-white text-stone-900 border border-stone-200\"\r\n            )}\r\n        >\r\n            {/* Color Swatch - Always visible */}\r\n            <div\r\n                className=\"w-full h-16 rounded-lg border shadow-sm mb-3\"\r\n                style={{\r\n                    backgroundColor: hex,\r\n                    borderColor: dark ? 'rgba(255,255,255,0.1)' : 'rgba(0,0,0,0.1)'\r\n                }}\r\n            />\r\n\r\n            <div className=\"space-y-1 mt-auto\">\r\n                <div className={cn(\"font-mono text-[10px] uppercase tracking-wider\", dark ? \"text-white/50\" : \"text-stone-400\")}>{label}</div>\r\n                <div className=\"font-bold text-lg tracking-tight\">{hex.toUpperCase()}</div>\r\n            </div>\r\n\r\n            {/* Hover Copy Indicator */}\r\n            <div className={cn(\r\n                \"absolute top-3 right-3 p-1.5 rounded-full transition-all opacity-0 group-hover:opacity-100\",\r\n                copied ? \"bg-green-500 text-white\" : (dark ? \"bg-white/10 text-white\" : \"bg-black/10 text-stone-900\")\r\n            )}>\r\n                {copied ? <Check size={12} /> : <Copy size={12} />}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport const SlideColors = ({ brand, id }: { brand: BrandIdentity, id?: string }) => {\r\n    const t = brand.theme.tokens;\r\n    const [isDark, setIsDark] = useState(false);\r\n    const tokens = isDark ? t.dark : t.light;\r\n\r\n    return (\r\n        <SlideLayout\r\n            brand={brand}\r\n            id={id}\r\n            title={`Color Palette for ${brand.name}`}\r\n            action={\r\n                <button\r\n                    onClick={() => setIsDark(!isDark)}\r\n                    className=\"flex items-center gap-3 px-4 py-2 bg-white/10 hover:bg-white/20 rounded-full text-sm font-medium transition-all border border-white/10\"\r\n                >\r\n                    {/* Toggle Track */}\r\n                    <div className={cn(\r\n                        \"w-12 h-6 rounded-full p-1 transition-colors\",\r\n                        isDark ? \"bg-stone-800\" : \"bg-white/20\"\r\n                    )}>\r\n                        <div className={cn(\r\n                            \"w-4 h-4 rounded-full transition-transform\",\r\n                            isDark\r\n                                ? \"translate-x-6 bg-white\"\r\n                                : \"translate-x-0 bg-yellow-400\"\r\n                        )} />\r\n                    </div>\r\n                    <span className=\"text-white/80\">\r\n                        {isDark ? \"Dark Mode\" : \"Light Mode\"}\r\n                    </span>\r\n                </button>\r\n            }\r\n        >\r\n            <div className=\"h-full flex flex-col gap-6\">\r\n                {/* Color Grid - 4 Columns */}\r\n                <div className=\"grid grid-cols-4 gap-6 flex-1\">\r\n                    <ColorCard label=\"Primary\" hex={tokens.primary} dark={isDark} />\r\n                    <ColorCard label=\"Background\" hex={tokens.bg} dark={isDark} />\r\n                    <ColorCard label=\"Surface\" hex={tokens.surface} dark={isDark} />\r\n                    <ColorCard label=\"Border\" hex={tokens.border} dark={isDark} />\r\n                </div>\r\n\r\n                {/* Bottom Row - Text Colors */}\r\n                <div className=\"grid grid-cols-2 gap-6 h-1/3\">\r\n                    <ColorCard label=\"Text (Foreground)\" hex={tokens.text} dark={isDark} />\r\n                    <ColorCard label=\"Muted (Subtext)\" hex={tokens.muted} dark={isDark} />\r\n                </div>\r\n            </div>\r\n        </SlideLayout>\r\n    );\r\n};\r\n\r\n// ==================== 5. TYPOGRAPHY ====================\r\nexport const SlideTypography = ({ brand, onSwapFont, onUpdateFont, id }: { brand: BrandIdentity, onSwapFont?: () => void, onUpdateFont?: (font: any) => void, id?: string }) => {\r\n    const [isFontSelectorOpen, setIsFontSelectorOpen] = useState(false);\r\n\r\n    // Type Scale Data matching our PDF export logic\r\n    const TypeScale = [\r\n        { role: 'Display', size: '48-72px', tracking: '-0.04em', leading: '1.1', weight: 'Bold' },\r\n        { role: 'H1', size: '32-48px', tracking: '-0.03em', leading: '1.15', weight: 'Bold' },\r\n        { role: 'H2', size: '24-32px', tracking: '-0.02em', leading: '1.2', weight: 'Semibold' },\r\n        { role: 'Body', size: '16px', tracking: '0em', leading: '1.6', weight: 'Regular' },\r\n    ];\r\n\r\n    return (\r\n        <SlideLayout\r\n            brand={brand}\r\n            title={`Typography for ${brand.name}`}\r\n            action={\r\n                <button\r\n                    onClick={() => setIsFontSelectorOpen(true)}\r\n                    className=\"flex items-center gap-2 px-4 py-2 bg-white/10 hover:bg-white/20 text-white rounded-full text-xs font-bold uppercase tracking-wider transition-colors border border-white/10 backdrop-blur-md\"\r\n                >\r\n                    <RefreshCw className=\"w-4 h-4\" />\r\n                    Change Font\r\n                </button>\r\n            }\r\n            id={id}\r\n        >\r\n\r\n            <FontSelector\r\n                isOpen={isFontSelectorOpen}\r\n                onClose={() => setIsFontSelectorOpen(false)}\r\n                currentFontId={brand.font.id}\r\n                onSelect={(font) => {\r\n                    onUpdateFont?.(font);\r\n                }}\r\n            />\r\n\r\n            <div className=\"grid grid-cols-12 gap-6 h-full p-2\">\r\n\r\n                {/* LEFT: Font Pair Showcase - Compacted */}\r\n                <div className=\"col-span-4 flex flex-col gap-4 h-full\">\r\n                    {/* Primary Font Card */}\r\n                    <div className=\"flex-1 p-5 bg-[#111] rounded-2xl border border-white/5 relative overflow-hidden group flex flex-col justify-center\">\r\n                        <div className=\"absolute top-0 right-0 p-3 opacity-20 group-hover:opacity-40 transition-opacity\">\r\n                            <span className=\"text-5xl font-black\">Aa</span>\r\n                        </div>\r\n                        <div className=\"text-[9px] font-mono text-[#CCFF00] uppercase tracking-widest mb-1 font-bold\">Heading</div>\r\n                        <h2 className={cn(\"text-3xl font-bold mb-1\", brand.font.heading)}>{brand.font.headingName || brand.font.name}</h2>\r\n                        <p className=\"text-white/50 text-xs leading-snug\">\r\n                            Commanding geometric precision.\r\n                        </p>\r\n                    </div>\r\n\r\n                    {/* Secondary Font Card */}\r\n                    <div className=\"flex-1 p-5 bg-[#111] rounded-2xl border border-white/5 relative overflow-hidden group flex flex-col justify-center\">\r\n                        <div className=\"absolute top-0 right-0 p-3 opacity-20 group-hover:opacity-40 transition-opacity\">\r\n                            <span className=\"text-5xl font-serif italic\">Gg</span>\r\n                        </div>\r\n                        <div className=\"text-[9px] font-mono text-blue-400 uppercase tracking-widest mb-1 font-bold\">Body</div>\r\n                        <h2 className={cn(\"text-2xl font-bold mb-1\", brand.font.body)}>{brand.font.bodyName || 'Inter'}</h2>\r\n                        <p className=\"text-white/50 text-xs leading-snug\">\r\n                            Clean, legible, distinct.\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* RIGHT: Specs & Scale */}\r\n                <div className=\"col-span-8 flex flex-col gap-4 h-full\">\r\n\r\n                    {/* Character Set - Reduced height */}\r\n                    <div className=\"bg-[#0A0A0A] rounded-2xl p-6 border border-white/5 relative flex flex-col justify-center h-[40%]\">\r\n                        <p className=\"text-[9px] font-mono text-white/30 uppercase tracking-widest font-bold mb-2\">Character Set</p>\r\n                        <p className={cn(\"text-2xl text-white/90 break-words leading-relaxed\", brand.font.heading)}>\r\n                            ABCDEFGHIJKLMNOPQRSTUVWXYZ <br />\r\n                            abcdefghijklmnopqrstuvwxyz <br />\r\n                            <span className=\"opacity-50\">0123456789</span>\r\n                        </p>\r\n                    </div>\r\n\r\n                    {/* Detailed Spec Table - Compacted */}\r\n                    <div className=\"flex-1 overflow-hidden bg-[#0A0A0A] rounded-2xl border border-white/5\">\r\n                        <div className=\"p-3 border-b border-white/5 flex items-center justify-between\">\r\n                            <p className=\"text-[9px] font-mono text-white/30 uppercase tracking-widest font-bold\">Type Hierarchy & Specs</p>\r\n                        </div>\r\n                        <div className=\"p-0 overflow-y-auto\">\r\n                            <table className=\"w-full text-left text-xs\">\r\n                                <thead>\r\n                                    <tr className=\"text-white/40 text-[9px] font-mono uppercase border-b border-white/5\">\r\n                                        <th className=\"px-4 py-2 font-normal\">Role</th>\r\n                                        <th className=\"px-4 py-2 font-normal\">Size</th>\r\n                                        <th className=\"px-4 py-2 font-normal\">Tracking</th>\r\n                                        <th className=\"px-4 py-2 font-normal\">Leading</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody className=\"text-white/80\">\r\n                                    {TypeScale.map((row, i) => (\r\n                                        <tr key={i} className=\"border-b border-white/5 last:border-0 hover:bg-white/5 transition-colors\">\r\n                                            <td className=\"px-4 py-2 font-bold text-[#CCFF00]\">{row.role}</td>\r\n                                            <td className=\"px-4 py-2 font-mono text-[10px]\">{row.size}</td>\r\n                                            <td className=\"px-4 py-2 font-mono text-[10px] opacity-60\">{row.tracking}</td>\r\n                                            <td className=\"px-4 py-2 font-mono text-[10px] opacity-60\">{row.leading}</td>\r\n                                        </tr>\r\n                                    ))}\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </SlideLayout>\r\n    );\r\n};\r\n\r\n// ==================== 6. SOCIAL MEDIA ====================\r\nexport const SlideSocial = ({ brand, id }: { brand: BrandIdentity, id?: string }) => {\r\n    return (\r\n        <SlideLayout brand={brand} id={id} title={`Social Presence for ${brand.name}`}>\r\n            <div className=\"grid grid-cols-2 gap-8 h-full items-center\">\r\n\r\n                {/* Simulated Feed */}\r\n                <div className=\"bg-stone-100 rounded-3xl p-8 flex items-center justify-center h-full border border-stone-200\">\r\n                    <div className=\"scale-110\">\r\n                        <MockupSocial brand={brand} variant=\"feed\" />\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Profile Preview */}\r\n                <div className=\"flex flex-col gap-6 justify-center\">\r\n                    <div className=\"bg-stone-50 rounded-3xl p-6 border border-stone-200\">\r\n                        <MockupSocial brand={brand} variant=\"profile\" className=\"bg-transparent p-0\" />\r\n                    </div>\r\n\r\n                    <div className=\"space-y-4 px-4\">\r\n                        <h3 className=\"text-2xl font-bold text-white\">Digital First</h3>\r\n                        <p className=\"text-white/60\">\r\n                            The brand system is optimized for high-engagement social platforms, ensuring visibility and recognition in detailed feeds and rapid-scroll contexts.\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </SlideLayout>\r\n    );\r\n};\r\n\r\n// ==================== 7. OUTDOOR / BILLBOARD ====================\r\nexport const SlideOutdoor = ({ brand, id }: { brand: BrandIdentity, id?: string }) => {\r\n    return (\r\n        <SlideLayout brand={brand} id={id} title={`Brand in the Wild for ${brand.name}`}>\r\n            <div className=\"flex flex-col gap-8 h-full\">\r\n                {/* Large Highway Billboard */}\r\n                <div className=\"flex-1 rounded-2xl overflow-hidden shadow-2xl bg-stone-900 border border-white/10\">\r\n                    <MockupBillboard brand={brand} variant=\"highway\" className=\"h-full\" />\r\n                </div>\r\n\r\n                {/* Smaller Metro/Street Ads */}\r\n                <div className=\"h-1/3 grid grid-cols-2 gap-8\">\r\n                    <div className=\"rounded-2xl overflow-hidden shadow-xl bg-stone-900 border border-white/10\">\r\n                        <MockupBillboard brand={brand} variant=\"metro\" className=\"h-full\" />\r\n                    </div>\r\n\r\n                    <div className=\"bg-[#111] rounded-2xl p-8 border border-white/10 flex flex-col justify-center\">\r\n                        <h3 className=\"text-2xl font-bold text-white mb-2\">Physical Impact</h3>\r\n                        <p className=\"text-white/50 text-sm leading-relaxed\">\r\n                            From massive highway displays to intimate street-level signage, the identity scales effortlessly across physical mediums while maintaining high contrast and readability.\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </SlideLayout>\r\n    );\r\n};\r\n\r\n// ==================== 8. MERCH & MOCKUPS (PREMIUM) ====================\r\nexport const SlideMockups = ({ brand, id }: { brand: BrandIdentity, id?: string }) => {\r\n    // Dynamic import to avoid circular dep issues if any\r\n    const { MockupBusinessCard, MockupToteBag, MockupSignage } = require('@/components/preview/MockupGenerator');\r\n\r\n    return (\r\n        <SlideLayout brand={brand} id={id} title={`Brand Application for ${brand.name}`}>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 h-full\">\r\n\r\n                {/* 1. Business Card (Professional) */}\r\n                <div className=\"flex flex-col gap-4\">\r\n                    <div className=\"flex-1 bg-stone-200 rounded-2xl overflow-hidden shadow-lg border border-white/20 relative group\">\r\n                        <div className=\"absolute inset-0 bg-stone-300/50\" />\r\n                        <MockupBusinessCard brand={brand} />\r\n\r\n                        {/* Hover Label */}\r\n                        <div className=\"absolute bottom-4 left-4 bg-black/80 backdrop-blur text-white text-[10px] px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity\">\r\n                            Stationery System\r\n                        </div>\r\n                    </div>\r\n                    <p className=\"text-xs text-center font-mono opacity-50 uppercase tracking-widest\">Brand Stationery</p>\r\n                </div>\r\n\r\n                {/* 2. Apparel (Merch) */}\r\n                <div className=\"flex flex-col gap-4\">\r\n                    <div className=\"flex-1 bg-white rounded-2xl overflow-hidden shadow-lg border border-stone-100 relative group\">\r\n                        <MockupToteBag brand={brand} />\r\n                        <div className=\"absolute bottom-4 left-4 bg-black/80 backdrop-blur text-white text-[10px] px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity\">\r\n                            Merchandise\r\n                        </div>\r\n                    </div>\r\n                    <p className=\"text-xs text-center font-mono opacity-50 uppercase tracking-widest\">Official Merch</p>\r\n                </div>\r\n\r\n                {/* 3. Signage (Physical) */}\r\n                <div className=\"flex flex-col gap-4\">\r\n                    <div className=\"flex-1 bg-stone-900 rounded-2xl overflow-hidden shadow-lg border border-stone-800 relative group\">\r\n                        <MockupSignage brand={brand} />\r\n                        <div className=\"absolute bottom-4 left-4 bg-white/20 backdrop-blur text-white text-[10px] px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity\">\r\n                            Storefront\r\n                        </div>\r\n                    </div>\r\n                    <p className=\"text-xs text-center font-mono opacity-50 uppercase tracking-widest\">Physical Signage</p>\r\n                </div>\r\n\r\n            </div>\r\n        </SlideLayout>\r\n    );\r\n};\r\n\r\n// ==================== 9. PITCH DECK PREVIEW ====================\r\nexport const SlidePitchDeck = ({ brand, id }: { brand: BrandIdentity, id?: string }) => {\r\n    return (\r\n        <SlideLayout brand={brand} id={id} title=\"Launch Ready Assets\">\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8 h-full\">\r\n\r\n                {/* Visual: Title Slide */}\r\n                <div className=\"flex flex-col gap-4\">\r\n                    <div className=\"flex-1 rounded-xl shadow-xl overflow-hidden relative flex flex-col items-center justify-center p-8 bg-white\" style={{ backgroundColor: brand.theme.tokens.light.bg }}>\r\n                        <div className=\"absolute inset-0 opacity-10\" style={{ backgroundColor: brand.theme.tokens.light.primary, backgroundImage: 'radial-gradient(circle at 50% 50%, white 2px, transparent 2px)', backgroundSize: '30px 30px' }} />\r\n\r\n                        <div className=\"relative z-10 w-24 mb-6\">\r\n                            <LogoComposition brand={{ ...brand, logoAssemblerLayout: 'stacked' }} layout=\"generative\" />\r\n                        </div>\r\n\r\n                        <h1 className={cn(\"text-3xl font-bold text-center mb-2\", brand.font.heading)} style={{ color: brand.theme.tokens.light.text }}>\r\n                            {brand.strategy?.tagline || \"Invest in the Future\"}\r\n                        </h1>\r\n                        <p className=\"text-sm opacity-60 font-mono tracking-widest uppercase\" style={{ color: brand.theme.tokens.light.muted }}>\r\n                            Series A Deck ΓÇó {new Date().getFullYear()}\r\n                        </p>\r\n\r\n                        {/* Decoration */}\r\n                        <div className=\"absolute bottom-0 left-0 w-full h-2\" style={{ backgroundColor: brand.theme.tokens.light.primary }} />\r\n                    </div>\r\n                    <p className=\"text-xs text-center font-mono opacity-50 uppercase tracking-widest text-white/50\">Title Slide Template</p>\r\n                </div>\r\n\r\n                {/* Visual: Content Slide */}\r\n                <div className=\"flex flex-col gap-4\">\r\n                    <div className=\"flex-1 rounded-xl shadow-xl overflow-hidden relative p-8 bg-white border border-stone-200\" style={{ backgroundColor: '#ffffff' }}>\r\n                        {/* Header */}\r\n                        <div className=\"flex justify-between items-center mb-12 border-b pb-4\" style={{ borderColor: brand.theme.tokens.light.border }}>\r\n                            <h2 className={cn(\"text-xl font-bold\", brand.font.heading)} style={{ color: brand.theme.tokens.light.text }}>\r\n                                Market Opportunity\r\n                            </h2>\r\n                            <div className=\"w-8 opacity-50\">\r\n                                <LogoComposition brand={{ ...brand, logoAssemblerLayout: 'icon_only' }} layout=\"generative\" />\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Content */}\r\n                        <div className=\"space-y-6\">\r\n                            {[1, 2, 3].map((i) => (\r\n                                <div key={i} className=\"flex gap-4\">\r\n                                    <div className=\"w-2 h-2 rounded-full mt-2 shrink-0\" style={{ backgroundColor: brand.theme.tokens.light.primary }} />\r\n                                    <div className=\"space-y-2 flex-1\">\r\n                                        <div className=\"h-4 w-3/4 rounded bg-stone-100\" />\r\n                                        <div className=\"h-4 w-1/2 rounded bg-stone-50\" />\r\n                                    </div>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n\r\n                        {/* Footer */}\r\n                        <div className=\"absolute bottom-4 right-8 text-[10px] text-stone-400 font-mono\">\r\n                            Confidential ΓÇó Slide 4\r\n                        </div>\r\n                    </div>\r\n                    <p className=\"text-xs text-center font-mono opacity-50 uppercase tracking-widest text-white/50\">Content Slide Template</p>\r\n                </div>\r\n\r\n            </div>\r\n        </SlideLayout>\r\n    );\r\n};\r\n\r\n// ==================== 10. BRAND GUIDELINES ====================\r\nimport { BrandGuidelines } from '@/components/logo-engine/BrandGuidelines';\r\n\r\nexport const SlideGuidelines = ({ brand, id }: { brand: BrandIdentity, id?: string }) => {\r\n    return (\r\n        <div id={id} className=\"w-full min-h-screen bg-stone-100 py-12\">\r\n            <BrandGuidelines brand={brand} />\r\n        </div>\r\n    );\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\generator\\ColorPaletteStrip.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'idx' is defined but never used.","line":71,"column":33,"nodeType":null,"messageId":"unusedVar","endLine":71,"endColumn":36}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState } from 'react';\r\nimport { Copy, Check } from 'lucide-react';\r\n\r\n// Color name generator based on hue\r\nfunction getColorName(hex: string): string {\r\n    const names: Record<string, string[]> = {\r\n        red: ['Crimson Wave', 'Ember Red', 'Scarlet Flame', 'Ruby Glow'],\r\n        orange: ['Vivid Tangelo', 'Sunset Orange', 'Tangerine Dream', 'Amber Fire'],\r\n        yellow: ['Golden Hour', 'Sunbeam', 'Citrine', 'Honey Gold'],\r\n        green: ['Forest Sage', 'Emerald Mist', 'Jade Garden', 'Moss Green'],\r\n        blue: ['Ocean Deep', 'Electric Indigo', 'Azure Sky', 'Cobalt Blue'],\r\n        purple: ['Violet Haze', 'Royal Purple', 'Amethyst', 'Lavender Dusk'],\r\n        pink: ['Blush Pink', 'Rose Quartz', 'Fuchsia', 'Coral Pink'],\r\n        gray: ['Space Cadet', 'Slate Gray', 'Ash Stone', 'Graphite'],\r\n        dark: ['Obsidian', 'Midnight', 'Charcoal', 'Shadow'],\r\n        light: ['Cloud White', 'Snow', 'Cream', 'Pearl']\r\n    };\r\n\r\n    // Simple hue extraction from hex\r\n    const r = parseInt(hex.slice(1, 3), 16);\r\n    const g = parseInt(hex.slice(3, 5), 16);\r\n    const b = parseInt(hex.slice(5, 7), 16);\r\n\r\n    const max = Math.max(r, g, b);\r\n    const min = Math.min(r, g, b);\r\n    const l = (max + min) / 2 / 255;\r\n\r\n    if (l > 0.9) return names.light[Math.floor(Math.random() * names.light.length)];\r\n    if (l < 0.15) return names.dark[Math.floor(Math.random() * names.dark.length)];\r\n    if (max - min < 20) return names.gray[Math.floor(Math.random() * names.gray.length)];\r\n\r\n    let hue = 0;\r\n    if (max === r) hue = ((g - b) / (max - min)) * 60;\r\n    else if (max === g) hue = (2 + (b - r) / (max - min)) * 60;\r\n    else hue = (4 + (r - g) / (max - min)) * 60;\r\n    if (hue < 0) hue += 360;\r\n\r\n    let category: string;\r\n    if (hue < 15 || hue >= 345) category = 'red';\r\n    else if (hue < 45) category = 'orange';\r\n    else if (hue < 75) category = 'yellow';\r\n    else if (hue < 165) category = 'green';\r\n    else if (hue < 255) category = 'blue';\r\n    else if (hue < 300) category = 'purple';\r\n    else category = 'pink';\r\n\r\n    const nameList = names[category];\r\n    // Use hex hash to get consistent name\r\n    const hash = hex.split('').reduce((a, c) => a + c.charCodeAt(0), 0);\r\n    return nameList[hash % nameList.length];\r\n}\r\n\r\ninterface ColorPaletteStripProps {\r\n    colors: { label: string; hex: string }[];\r\n    className?: string;\r\n}\r\n\r\nexport function ColorPaletteStrip({ colors, className = '' }: ColorPaletteStripProps) {\r\n    const [copiedHex, setCopiedHex] = useState<string | null>(null);\r\n\r\n    const copyToClipboard = (hex: string) => {\r\n        navigator.clipboard.writeText(hex);\r\n        setCopiedHex(hex);\r\n        setTimeout(() => setCopiedHex(null), 1500);\r\n    };\r\n\r\n    return (\r\n        <div className={`flex flex-col gap-0 rounded-2xl overflow-hidden ${className}`}>\r\n            {colors.map((color, idx) => (\r\n                <button\r\n                    key={color.label}\r\n                    onClick={() => copyToClipboard(color.hex)}\r\n                    className=\"group relative flex-1 min-h-[60px] transition-all hover:flex-[1.5] duration-300\"\r\n                    style={{ backgroundColor: color.hex }}\r\n                >\r\n                    {/* Color info overlay */}\r\n                    <div className=\"absolute inset-0 flex items-center justify-between px-4 opacity-0 group-hover:opacity-100 transition-opacity\">\r\n                        <div className=\"flex flex-col items-start\">\r\n                            <span className=\"text-xs font-bold uppercase mix-blend-difference text-white\">\r\n                                {getColorName(color.hex)}\r\n                            </span>\r\n                            <span className=\"text-[10px] font-mono mix-blend-difference text-white/70\">\r\n                                {color.hex.toUpperCase()}\r\n                            </span>\r\n                        </div>\r\n                        <div className=\"p-1.5 rounded-full bg-white/20 backdrop-blur-sm\">\r\n                            {copiedHex === color.hex ? (\r\n                                <Check className=\"w-3 h-3 text-white\" />\r\n                            ) : (\r\n                                <Copy className=\"w-3 h-3 text-white\" />\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                </button>\r\n            ))}\r\n        </div>\r\n    );\r\n}\r\n\r\n// Horizontal strip version (like in reference images)\r\nexport function ColorPaletteHorizontal({ colors, className = '' }: ColorPaletteStripProps) {\r\n    const [copiedHex, setCopiedHex] = useState<string | null>(null);\r\n\r\n    const copyToClipboard = (hex: string) => {\r\n        navigator.clipboard.writeText(hex);\r\n        setCopiedHex(hex);\r\n        setTimeout(() => setCopiedHex(null), 1500);\r\n    };\r\n\r\n    // Check if color is light to determine text color\r\n    const isLightColor = (hex: string) => {\r\n        const r = parseInt(hex.slice(1, 3), 16);\r\n        const g = parseInt(hex.slice(3, 5), 16);\r\n        const b = parseInt(hex.slice(5, 7), 16);\r\n        const luminance = (0.299 * r + 0.587 * g + 0.114 * b) / 255;\r\n        return luminance > 0.6;\r\n    };\r\n\r\n    // Role labels for each color position\r\n    const roleLabels = ['Core Background', 'Primary Brand', 'Surface Accent', 'Strong Contrast'];\r\n\r\n    return (\r\n        <div className={`flex flex-row gap-0 h-full rounded-2xl overflow-hidden ${className}`}>\r\n            {colors.map((color, idx) => {\r\n                const isLight = isLightColor(color.hex);\r\n                const colorName = getColorName(color.hex);\r\n                const roleLabel = roleLabels[idx] || color.label;\r\n                return (\r\n                    <button\r\n                        key={color.label}\r\n                        onClick={() => copyToClipboard(color.hex)}\r\n                        className=\"group relative flex-1 transition-all hover:flex-[1.5] duration-300 flex flex-col justify-between cursor-pointer p-3\"\r\n                        style={{ backgroundColor: color.hex }}\r\n                    >\r\n                        {/* Top: Color name and role */}\r\n                        <div className=\"flex flex-col items-start\">\r\n                            <span\r\n                                className={`text-sm font-semibold ${isLight ? 'text-black/80' : 'text-white/90'}`}\r\n                            >\r\n                                {colorName}\r\n                            </span>\r\n                            <span\r\n                                className={`text-[10px] ${isLight ? 'text-black/50' : 'text-white/50'}`}\r\n                            >\r\n                                {roleLabel}\r\n                            </span>\r\n                        </div>\r\n\r\n                        {/* Copy indicator on hover */}\r\n                        <div className=\"absolute top-3 right-3 opacity-0 group-hover:opacity-100 transition-opacity\">\r\n                            {copiedHex === color.hex ? (\r\n                                <div className=\"p-1.5 rounded-full bg-green-500 shadow-lg\">\r\n                                    <Check className=\"w-3 h-3 text-white\" />\r\n                                </div>\r\n                            ) : (\r\n                                <div className={`p-1.5 rounded-full shadow-lg ${isLight ? 'bg-black/10' : 'bg-white/20'}`}>\r\n                                    <Copy className={`w-3 h-3 ${isLight ? 'text-black/70' : 'text-white/70'}`} />\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n\r\n                        {/* Bottom: Hex code */}\r\n                        <div>\r\n                            <span\r\n                                className={`text-[10px] font-mono uppercase ${isLight ? 'text-black/50' : 'text-white/60'}`}\r\n                            >\r\n                                HEX: {color.hex.toUpperCase()}\r\n                            </span>\r\n                        </div>\r\n                    </button>\r\n                );\r\n            })}\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\generator\\CompareOverlay.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Check' is defined but never used.","line":9,"column":13,"nodeType":null,"messageId":"unusedVar","endLine":9,"endColumn":18},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Copy' is defined but never used.","line":9,"column":20,"nodeType":null,"messageId":"unusedVar","endLine":9,"endColumn":24},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'getReadableTextColor' is defined but never used.","line":10,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":10,"endColumn":30}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Compare Overlay Component\r\n * \r\n * Shows multiple brands side-by-side for comparison.\r\n */\r\nimport React from 'react';\r\nimport { BrandIdentity } from '@/lib/data';\r\nimport { LogoComposition } from '@/components/logo-engine/LogoComposition';\r\nimport { X, Check, Copy, Shuffle } from 'lucide-react';\r\nimport { getReadableTextColor } from '@/lib/accessibility';\r\n\r\ninterface CompareOverlayProps {\r\n    brands: BrandIdentity[];\r\n    onClose: () => void;\r\n    onRemove: (id: string) => void;\r\n    onSelect: (brand: BrandIdentity) => void;\r\n    onGenerateMore?: () => void;\r\n    isOpen: boolean;\r\n    isGenerating?: boolean;\r\n}\r\n\r\nexport function CompareOverlay({ brands, onClose, onRemove, onSelect, onGenerateMore, isOpen, isGenerating }: CompareOverlayProps) {\r\n    if (!isOpen) return null;\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 z-[100] bg-stone-100/95 backdrop-blur-lg flex flex-col animate-in fade-in duration-300\">\r\n            {/* Header */}\r\n            <div className=\"flex items-center justify-between px-8 py-4 bg-white border-b border-stone-200 shadow-sm\">\r\n                <div className=\"flex items-center gap-6\">\r\n                    <h2 className=\"text-xl font-bold text-stone-900\">Compare Options ({brands.length})</h2>\r\n\r\n                    {onGenerateMore && (\r\n                        <button\r\n                            onClick={onGenerateMore}\r\n                            disabled={isGenerating}\r\n                            className=\"flex items-center gap-2 px-4 py-1.5 bg-violet-600 hover:bg-violet-700 text-white rounded-full text-xs font-semibold transition-all disabled:opacity-50\"\r\n                        >\r\n                            <Shuffle className=\"w-3 h-3\" />\r\n                            {isGenerating ? 'Generating...' : 'Generate 4 More Variations'}\r\n                        </button>\r\n                    )}\r\n                </div>\r\n\r\n                <div className=\"flex items-center gap-3\">\r\n                    <button\r\n                        onClick={onClose}\r\n                        className=\"p-2 hover:bg-stone-100 rounded-full transition-colors\"\r\n                        title=\"Close Comparison\"\r\n                    >\r\n                        <X className=\"w-5 h-5 text-stone-500\" />\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Grid */}\r\n            <div className=\"flex-1 overflow-y-auto p-8\">\r\n                {brands.length === 0 ? (\r\n                    <div className=\"h-full flex flex-col items-center justify-center text-stone-400\">\r\n                        <Shuffle className=\"w-12 h-12 mb-4 opacity-20\" />\r\n                        <p className=\"text-lg font-medium\">No brands selected</p>\r\n                        <p className=\"text-sm\">Click the plus or Variations button to start comparing</p>\r\n                    </div>\r\n                ) : (\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8\">\r\n                        {brands.filter(brand => brand && brand.theme?.tokens?.light).map((brand) => {\r\n                            const colors = brand.theme.tokens.light;\r\n                            return (\r\n                                <div key={brand.id} className=\"relative group bg-white rounded-3xl shadow-xl border border-stone-200 overflow-hidden flex flex-col hover:shadow-2xl transition-all duration-500 hover:-translate-y-1\">\r\n                                    {/* Remove Button */}\r\n                                    <button\r\n                                        onClick={() => onRemove(brand.id)}\r\n                                        className=\"absolute top-4 right-4 p-2 bg-white/90 backdrop-blur rounded-full text-stone-400 hover:text-red-500 hover:bg-white shadow-md z-10 opacity-0 group-hover:opacity-100 transition-all border border-transparent hover:border-red-100\"\r\n                                    >\r\n                                        <X className=\"w-4 h-4\" />\r\n                                    </button>\r\n\r\n                                    {/* Logo Preview Area */}\r\n                                    <div\r\n                                        className=\"aspect-square flex flex-col items-center justify-center relative p-10 overflow-hidden\"\r\n                                        style={{ background: colors.bg || '#FAFAF9' }}\r\n                                    >\r\n                                        {/* Subtle background texture */}\r\n                                        <div className=\"absolute inset-0 opacity-5 pointer-events-none\"\r\n                                            style={{ backgroundImage: `radial-gradient(${colors.primary || '#666'} 1px, transparent 1px)`, backgroundSize: '16px 16px' }} />\r\n\r\n                                        <div className=\"w-full h-full relative z-10 drop-shadow-2xl scale-125\">\r\n                                            <LogoComposition brand={brand} />\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    {/* Content Details */}\r\n                                    <div className=\"p-6 flex flex-col flex-1 bg-white\">\r\n                                        <div className=\"text-center mb-6\">\r\n                                            <h3\r\n                                                className=\"text-2xl font-bold tracking-tight mb-1\"\r\n                                                style={{\r\n                                                    fontFamily: brand.font?.heading || 'inherit',\r\n                                                    color: colors.text || '#1a1a1a'\r\n                                                }}\r\n                                            >\r\n                                                {brand.name}\r\n                                            </h3>\r\n                                            <p className=\"text-[10px] font-mono font-bold tracking-[0.2em] uppercase opacity-40\">\r\n                                                {brand.vibe} IDENTITY\r\n                                            </p>\r\n                                        </div>\r\n\r\n                                        {/* Details Table */}\r\n                                        <div className=\"space-y-3 mb-6 pt-4 border-t border-stone-50\">\r\n                                            <div className=\"flex items-center justify-between\">\r\n                                                <span className=\"text-[10px] font-mono text-stone-400 uppercase tracking-wider\">Typeface</span>\r\n                                                <span className=\"text-xs font-semibold text-stone-700\">{brand.font?.name || 'Default'}</span>\r\n                                            </div>\r\n                                            <div className=\"flex items-center justify-between\">\r\n                                                <span className=\"text-[10px] font-mono text-stone-400 uppercase tracking-wider\">Palette</span>\r\n                                                <div className=\"flex gap-1.5\">\r\n                                                    <div className=\"w-4 h-4 rounded-full border border-stone-100 shadow-sm\" style={{ background: colors.primary || '#666' }} />\r\n                                                    <div className=\"w-4 h-4 rounded-full border border-stone-100 shadow-sm\" style={{ background: colors.accent || colors.primary || '#666' }} />\r\n                                                    <div className=\"w-4 h-4 rounded-full border border-stone-200 shadow-sm\" style={{ background: colors.bg || '#FFF' }} />\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        {/* Action Button */}\r\n                                        <button\r\n                                            onClick={() => onSelect(brand)}\r\n                                            className=\"w-full py-3 bg-stone-50 hover:bg-stone-900 hover:text-white border border-stone-200 rounded-xl text-sm font-bold transition-all duration-300\"\r\n                                        >\r\n                                            Select This Brand\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            );\r\n                        })}\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\generator\\ExportBrandKit.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'CheckCircle2' is defined but never used.","line":8,"column":29,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":41}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport React, { useState } from 'react';\r\nimport { BrandIdentity } from '@/lib/data';\r\nimport { toPng } from 'html-to-image';\r\nimport JSZip from 'jszip';\r\nimport { saveAs } from 'file-saver';\r\nimport { Loader2, Download, CheckCircle2 } from 'lucide-react';\r\nimport {\r\n    SlideCover,\r\n    SlideStrategy,\r\n    SlideLogo,\r\n    SlideColors,\r\n    SlideTypography,\r\n    SlideSocial,\r\n    SlideOutdoor\r\n} from '@/components/generator/BrandSlides';\r\nimport { cn } from '@/lib/utils'; // Assuming standard utils\r\n\r\ninterface ExportBrandKitProps {\r\n    brand: BrandIdentity;\r\n    className?: string;\r\n}\r\n\r\nexport function ExportBrandKit({ brand, className }: ExportBrandKitProps) {\r\n    const [isExporting, setIsExporting] = useState(false);\r\n    const [progress, setProgress] = useState(0); // 0 to 100\r\n    const [status, setStatus] = useState('');\r\n\r\n    const handleExport = async () => {\r\n        setIsExporting(true);\r\n        setStatus('Preparing assets...');\r\n        setProgress(5);\r\n\r\n        try {\r\n            const zip = new JSZip();\r\n            const assetsFolder = zip.folder(`glyph-${brand.name.toLowerCase().replace(/\\s+/g, '-')}-kit`);\r\n\r\n            if (!assetsFolder) throw new Error(\"Failed to create zip folder\");\r\n\r\n            // List of slides to capture\r\n            // We renders them in a hidden container below. \r\n            // We need to wait for them to render. \r\n            // A simple timeout or useLayoutEffect might be needed, but usually waiting 1s after state change is safe for a hack.\r\n            // Better: They are always rendered if isExporting is true.\r\n\r\n            await new Promise(resolve => setTimeout(resolve, 1000)); // Wait for render\r\n\r\n            const slides = [\r\n                { id: 'export-slide-cover', name: '01-Cover.png' },\r\n                { id: 'export-slide-strategy', name: '02-Strategy.png' },\r\n                { id: 'export-slide-logo', name: '03-Logo-Marks.png' },\r\n                { id: 'export-slide-colors', name: '04-Colors.png' },\r\n                { id: 'export-slide-typography', name: '05-Typography.png' },\r\n                { id: 'export-slide-social', name: '06-Social-Media.png' },\r\n                { id: 'export-slide-outdoor', name: '07-Outdoor.png' },\r\n            ];\r\n\r\n            const totalSteps = slides.length + 2; // + zipping + saving\r\n            let completedSteps = 0;\r\n\r\n            for (const slide of slides) {\r\n                setStatus(`Generating ${slide.name}...`);\r\n                const element = document.getElementById(slide.id);\r\n                if (element) {\r\n                    // Force white background for consistency if transparent\r\n                    const dataUrl = await toPng(element, {\r\n                        quality: 0.95,\r\n                        backgroundColor: '#000000' // Slides are dark usually, let's check. \r\n                        // Actually BrandSlides have `bg-stone-950` so they are opaque.\r\n                    });\r\n\r\n                    // Remove header (\"data:image/png;base64,\")\r\n                    const base64Data = dataUrl.split(',')[1];\r\n                    assetsFolder.file(slide.name, base64Data, { base64: true });\r\n                }\r\n                completedSteps++;\r\n                setProgress(Math.round((completedSteps / totalSteps) * 100));\r\n            }\r\n\r\n            setStatus('Bundling files...');\r\n            const content = await zip.generateAsync({ type: 'blob' });\r\n\r\n            setStatus('Downloading...');\r\n            setProgress(100);\r\n            saveAs(content, `glyph-${brand.name.toLowerCase()}-kit.zip`); // Using file-saver\r\n\r\n            // Graceful finish\r\n            await new Promise(resolve => setTimeout(resolve, 1000));\r\n            setIsExporting(false);\r\n            setProgress(0);\r\n\r\n        } catch (error) {\r\n            console.error('Export failed:', error);\r\n            setStatus('Export failed. Please try again.');\r\n            setTimeout(() => setIsExporting(false), 3000);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <button\r\n                onClick={handleExport}\r\n                disabled={isExporting}\r\n                className={cn(\r\n                    \"flex items-center gap-2 px-4 py-2 bg-white text-black rounded-full text-sm font-bold shadow-xl hover:scale-105 active:scale-95 transition-all disabled:opacity-50 disabled:cursor-not-allowed\",\r\n                    className\r\n                )}\r\n            >\r\n                {isExporting ? <Loader2 className=\"animate-spin w-4 h-4\" /> : <Download className=\"w-4 h-4\" />}\r\n                {isExporting ? 'Exporting...' : 'Download Kit'}\r\n            </button>\r\n\r\n            {/* Hidden Rendering Container */}\r\n            {/* We position it fixed off-screen but visible to the browser engine */}\r\n            {isExporting && (\r\n                <div\r\n                    className=\"fixed top-0 left-0 z-0 pointer-events-none opacity-0\"\r\n                    style={{ left: '-9999px' }} // Off-screen\r\n                // style={{ zIndex: -100, visibility: 'hidden' }} // visibility hidden breaks html-to-image sometimes\r\n                // \"opacity: 0\" might also break it if it checks visibility.\r\n                // Safest is absolute positioning far away.\r\n                >\r\n                    {/* Fixed Width Container to ensure consistent export size (e.g. 1920x1080) */}\r\n                    <div className=\"w-[1920px]\">\r\n                        <div id=\"export-slide-cover\"><SlideCover brand={brand} id=\"export-slide-cover-inner\" /></div>\r\n                        <div id=\"export-slide-strategy\"><SlideStrategy brand={brand} id=\"export-slide-strategy-inner\" /></div>\r\n                        <div id=\"export-slide-logo\"><SlideLogo brand={brand} id=\"export-slide-logo-inner\" /></div>\r\n                        <div id=\"export-slide-colors\"><SlideColors brand={brand} id=\"export-slide-colors-inner\" /></div>\r\n                        <div id=\"export-slide-typography\"><SlideTypography brand={brand} id=\"export-slide-typography-inner\" /></div>\r\n                        <div id=\"export-slide-social\"><SlideSocial brand={brand} id=\"export-slide-social-inner\" /></div>\r\n                        <div id=\"export-slide-outdoor\"><SlideOutdoor brand={brand} id=\"export-slide-outdoor-inner\" /></div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Status Modal Overlay */}\r\n            {isExporting && (\r\n                <div className=\"fixed inset-0 z-[100] bg-black/80 backdrop-blur-sm flex items-center justify-center p-4\">\r\n                    <div className=\"bg-stone-900 border border-white/10 rounded-2xl p-8 max-w-sm w-full text-center space-y-6 shadow-2xl\">\r\n                        <div className=\"w-16 h-16 bg-white/5 rounded-full flex items-center justify-center mx-auto relative\">\r\n                            {/* Improved Progress Circle */}\r\n                            <svg className=\"w-full h-full rotate-[-90deg]\" viewBox=\"0 0 36 36\">\r\n                                <path\r\n                                    className=\"text-white/10\"\r\n                                    d=\"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831\"\r\n                                    fill=\"none\"\r\n                                    stroke=\"currentColor\"\r\n                                    strokeWidth=\"3\"\r\n                                />\r\n                                <path\r\n                                    className=\"text-[#CCFF00] drop-shadow-[0_0_10px_rgba(204,255,0,0.5)]\"\r\n                                    d=\"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831\"\r\n                                    fill=\"none\"\r\n                                    stroke=\"currentColor\"\r\n                                    strokeDasharray={`${progress}, 100`}\r\n                                    strokeWidth=\"3\"\r\n                                />\r\n                            </svg>\r\n                            <div className=\"absolute inset-0 flex items-center justify-center text-xs font-mono font-bold text-white\">\r\n                                {progress}%\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"space-y-2\">\r\n                            <h3 className=\"text-xl font-bold text-white\">Generating Brand Kit</h3>\r\n                            <p className=\"text-sm text-white/50 animate-pulse\">{status}</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\generator\\FontSelector.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Filter' is defined but never used.","line":5,"column":34,"nodeType":null,"messageId":"unusedVar","endLine":5,"endColumn":40},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'motion' is defined but never used.","line":8,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":16},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'AnimatePresence' is defined but never used.","line":8,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":33},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":72,"column":128,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[3415,3466],"text":"Select a font pairing to define your brand&apos;s voice."},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[3415,3466],"text":"Select a font pairing to define your brand&lsquo;s voice."},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[3415,3466],"text":"Select a font pairing to define your brand&#39;s voice."},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[3415,3466],"text":"Select a font pairing to define your brand&rsquo;s voice."},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport React, { useState, useMemo } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport { Search, Check, Type, X, Filter } from 'lucide-react';\r\nimport { fontPairings, FontConfig } from '@/lib/fonts';\r\nimport { cn } from '@/lib/utils';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\n\r\ninterface FontSelectorProps {\r\n    isOpen: boolean;\r\n    onClose: () => void;\r\n    currentFontId: string;\r\n    onSelect: (font: FontConfig) => void;\r\n}\r\n\r\nconst CATEGORIES = [\r\n    { id: 'recommended', label: 'Γÿà Recommended' },\r\n    { id: 'all', label: 'All Fonts' },\r\n    { id: 'sans', label: 'Sans Serif', tags: ['modern', 'minimalist', 'clean', 'tech', 'geometric', 'humanist'] },\r\n    { id: 'serif', label: 'Serif', tags: ['serif', 'classic', 'luxury', 'editorial', 'traditional'] },\r\n    { id: 'display', label: 'Display', tags: ['display', 'retro', 'bold', 'creative', 'impact'] },\r\n    { id: 'mono', label: 'Monospaced', tags: ['mono', 'code', 'technical'] },\r\n];\r\n\r\nexport const FontSelector = ({ isOpen, onClose, currentFontId, onSelect }: FontSelectorProps) => {\r\n    const [search, setSearch] = useState('');\r\n    const [activeCategory, setActiveCategory] = useState('recommended');\r\n\r\n    const [mounted, setMounted] = useState(false);\r\n\r\n    React.useEffect(() => {\r\n        setMounted(true);\r\n        return () => setMounted(false);\r\n    }, []);\r\n\r\n    const filteredFonts = useMemo(() => {\r\n        return fontPairings.filter(font => {\r\n            // 1. Search Filter\r\n            const matchesSearch =\r\n                font.name.toLowerCase().includes(search.toLowerCase()) ||\r\n                font.headingName.toLowerCase().includes(search.toLowerCase()) ||\r\n                font.tags.some(t => t.toLowerCase().includes(search.toLowerCase()));\r\n\r\n            if (!matchesSearch) return false;\r\n\r\n            // 2. Category Filter\r\n            if (activeCategory === 'recommended') return font.recommended;\r\n            if (activeCategory === 'all') return true;\r\n\r\n            const categoryTags = CATEGORIES.find(c => c.id === activeCategory)?.tags || [];\r\n            return font.tags.some(tag => categoryTags.includes(tag));\r\n        });\r\n    }, [search, activeCategory]);\r\n\r\n    if (!isOpen || !mounted) return null;\r\n\r\n    // Use Portal to break out of any parent stacking contexts (like transforms in slides)\r\n    // This ensures the modal is always top-level relative to the viewport\r\n    const content = (\r\n        <div className=\"fixed inset-0 z-[9999] flex items-center justify-center p-4 md:p-6 bg-stone-950/60 backdrop-blur-md animate-in fade-in duration-200\">\r\n\r\n            <div\r\n                className=\"bg-white dark:bg-[#0C0A09] w-full max-w-5xl h-[85vh] rounded-3xl shadow-2xl border border-stone-200 dark:border-white/10 overflow-hidden flex flex-col relative\"\r\n                onClick={(e) => e.stopPropagation()}\r\n            >\r\n                {/* Header Section */}\r\n                <div className=\"flex-none p-6 border-b border-stone-100 dark:border-white/5 space-y-6 bg-white/50 dark:bg-black/50 backdrop-blur-xl z-10\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                        <div>\r\n                            <h2 className=\"text-2xl font-bold tracking-tight text-stone-900 dark:text-white\">Typography System</h2>\r\n                            <p className=\"text-stone-500 dark:text-white/50 text-sm\">Select a font pairing to define your brand's voice.</p>\r\n                        </div>\r\n                        <button\r\n                            onClick={onClose}\r\n                            className=\"p-2 hover:bg-stone-100 dark:hover:bg-white/10 rounded-full transition-colors text-stone-500 dark:text-white/60\"\r\n                        >\r\n                            <X className=\"w-5 h-5\" />\r\n                        </button>\r\n                    </div>\r\n\r\n                    <div className=\"flex flex-col md:flex-row gap-4 items-center justify-between\">\r\n                        {/* Search */}\r\n                        <div className=\"relative w-full md:w-96 group\">\r\n                            <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-stone-400 group-focus-within:text-stone-900 dark:group-focus-within:text-white transition-colors\" />\r\n                            <input\r\n                                type=\"text\"\r\n                                placeholder=\"Search 'Inter', 'Serif', 'Tech'...\"\r\n                                value={search}\r\n                                onChange={(e) => setSearch(e.target.value)}\r\n                                className=\"w-full h-10 pl-10 pr-4 bg-stone-100 dark:bg-white/5 border-none rounded-xl focus:ring-2 focus:ring-stone-900 dark:focus:ring-white outline-none transition-all font-medium text-sm text-stone-900 dark:text-white placeholder:text-stone-400\"\r\n                                autoFocus\r\n                            />\r\n                        </div>\r\n\r\n                        {/* Category Tabs */}\r\n                        <div className=\"flex items-center gap-1 p-1 bg-stone-100 dark:bg-white/5 rounded-xl overflow-x-auto w-full md:w-auto scrollbar-hide\">\r\n                            {CATEGORIES.map(cat => (\r\n                                <button\r\n                                    key={cat.id}\r\n                                    onClick={() => setActiveCategory(cat.id)}\r\n                                    className={cn(\r\n                                        \"px-4 py-1.5 rounded-lg text-xs font-semibold whitespace-nowrap transition-all\",\r\n                                        activeCategory === cat.id\r\n                                            ? \"bg-white dark:bg-stone-800 text-stone-900 dark:text-white shadow-sm\"\r\n                                            : \"text-stone-500 dark:text-white/40 hover:text-stone-900 dark:hover:text-white\"\r\n                                    )}\r\n                                >\r\n                                    {cat.label}\r\n                                </button>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Content Grid */}\r\n                <div className=\"flex-1 overflow-y-auto p-6 bg-stone-50 dark:bg-[#050505]\">\r\n                    {filteredFonts.length > 0 ? (\r\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n                            {filteredFonts.map((font) => (\r\n                                <button\r\n                                    key={font.id}\r\n                                    onClick={() => {\r\n                                        onSelect(font);\r\n                                        onClose();\r\n                                    }}\r\n                                    className={cn(\r\n                                        \"group relative flex flex-col p-6 rounded-2xl border text-left transition-all duration-300 hover:shadow-xl hover:-translate-y-1 h-[280px]\",\r\n                                        currentFontId === font.id\r\n                                            ? \"border-stone-900 dark:border-white ring-1 ring-stone-900 dark:ring-white bg-white dark:bg-white/5\"\r\n                                            : \"border-stone-200 dark:border-white/5 bg-white dark:bg-stone-900 hover:border-stone-300 dark:hover:border-white/20\"\r\n                                    )}\r\n                                >\r\n                                    <div className=\"flex justify-between items-start mb-4\">\r\n                                        <div className=\"flex flex-col\">\r\n                                            <span className=\"text-[10px] font-bold text-stone-400 uppercase tracking-widest mb-1\">{font.tags[0]}</span>\r\n                                            <span className=\"text-sm font-semibold text-stone-900 dark:text-white/90\">{font.name}</span>\r\n                                        </div>\r\n                                        {currentFontId === font.id && (\r\n                                            <div className=\"bg-stone-900 dark:bg-white text-white dark:text-black rounded-full p-1 shadow-sm\">\r\n                                                <Check className=\"w-3 h-3\" />\r\n                                            </div>\r\n                                        )}\r\n                                    </div>\r\n\r\n                                    {/* Type Preview */}\r\n                                    <div className=\"flex-1 flex flex-col justify-center space-y-3\">\r\n                                        <div className={cn(\"text-4xl leading-none text-stone-900 dark:text-white pb-2 border-b border-stone-100 dark:border-white/5\", font.heading.className)}>\r\n                                            {font.headingName}\r\n                                        </div>\r\n                                        <div className={cn(\"text-sm leading-relaxed text-stone-500 dark:text-white/60\", font.body.className)}>\r\n                                            The quick brown fox jumps over the lazy dog. A sophisticated visual identity system.\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    {/* Hover Metadata */}\r\n                                    <div className=\"mt-4 pt-3 border-t border-stone-50 dark:border-white/5 flex items-center justify-between opacity-0 group-hover:opacity-100 transition-opacity\">\r\n                                        <div className=\"flex gap-2\">\r\n                                            <span className=\"text-[10px] text-stone-400 font-mono\">{font.headingName}</span>\r\n                                            <span className=\"text-[10px] text-stone-300 dark:text-white/20\">+</span>\r\n                                            <span className=\"text-[10px] text-stone-400 font-mono\">{font.bodyName}</span>\r\n                                        </div>\r\n                                        <span className=\"text-[10px] font-bold text-stone-900 dark:text-white bg-stone-100 dark:bg-white/10 px-2 py-0.5 rounded-full\">Free</span>\r\n                                    </div>\r\n                                </button>\r\n                            ))}\r\n                        </div>\r\n                    ) : (\r\n                        <div className=\"flex flex-col items-center justify-center h-full text-stone-400\">\r\n                            <Type className=\"w-12 h-12 mb-4 opacity-20\" />\r\n                            <p className=\"text-lg font-medium\">No fonts found</p>\r\n                            <p className=\"text-sm opacity-60\">Try adjusting your search or category filters</p>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                {/* Footer Info */}\r\n                <div className=\"p-4 bg-white dark:bg-stone-900 border-t border-stone-100 dark:border-white/5 flex justify-between items-center text-[10px] text-stone-400 uppercase font-bold tracking-widest\">\r\n                    <span>{filteredFonts.length} Combinations Available</span>\r\n                    <span>Google Fonts Licensed</span>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Backdrop Close Click Area */}\r\n            <div className=\"absolute inset-0 z-[-1]\" onClick={onClose} />\r\n        </div>\r\n    );\r\n\r\n    if (typeof document === 'undefined') return null;\r\n    return createPortal(content, document.body);\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\generator\\LoadingState.tsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nF:\\work\\Glyph\\components\\generator\\LoadingState.tsx:23:13\n  21 |     useEffect(() => {\n  22 |         if (!isLoading) {\n> 23 |             setMessageIndex(0);\n     |             ^^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  24 |             return;\n  25 |         }\n  26 |","line":23,"column":13,"nodeType":null,"endLine":23,"endColumn":28}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\n\r\ninterface LoadingStateProps {\r\n    isLoading: boolean;\r\n}\r\n\r\nconst LOADING_MESSAGES = [\r\n    'Understanding your vision',\r\n    'Searching for the perfect vibe',\r\n    'Crafting color harmony',\r\n    'Designing your logo mark',\r\n    'Building your brand identity',\r\n];\r\n\r\nexport function LoadingState({ isLoading }: LoadingStateProps) {\r\n    const [messageIndex, setMessageIndex] = useState(0);\r\n\r\n    useEffect(() => {\r\n        if (!isLoading) {\r\n            setMessageIndex(0);\r\n            return;\r\n        }\r\n\r\n        const interval = setInterval(() => {\r\n            setMessageIndex((prev) => (prev + 1) % LOADING_MESSAGES.length);\r\n        }, 900);\r\n\r\n        return () => clearInterval(interval);\r\n    }, [isLoading]);\r\n\r\n    return (\r\n        <AnimatePresence>\r\n            {isLoading && (\r\n                <motion.div\r\n                    initial={{ opacity: 0 }}\r\n                    animate={{ opacity: 1 }}\r\n                    exit={{ opacity: 0 }}\r\n                    className=\"fixed inset-0 z-50 flex items-center justify-center bg-stone-950\"\r\n                >\r\n                    {/* Subtle gradient overlay */}\r\n                    <div className=\"absolute inset-0 bg-gradient-to-br from-stone-900 via-stone-950 to-black\" />\r\n\r\n                    {/* Ambient glow */}\r\n                    <div className=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[500px] h-[500px] bg-orange-500/5 rounded-full blur-3xl\" />\r\n\r\n                    {/* Center Content */}\r\n                    <div className=\"relative z-10 text-center max-w-md px-8\">\r\n                        {/* Animated Ring */}\r\n                        <div className=\"relative w-20 h-20 mx-auto mb-10\">\r\n                            <motion.div\r\n                                animate={{ rotate: 360 }}\r\n                                transition={{ duration: 2, repeat: Infinity, ease: 'linear' }}\r\n                                className=\"absolute inset-0 border-2 border-stone-700 border-t-orange-500 rounded-full\"\r\n                            />\r\n                            <motion.div\r\n                                animate={{ rotate: -360 }}\r\n                                transition={{ duration: 3, repeat: Infinity, ease: 'linear' }}\r\n                                className=\"absolute inset-2 border border-stone-800 border-t-stone-500 rounded-full\"\r\n                            />\r\n                            {/* Center dot */}\r\n                            <div className=\"absolute inset-0 flex items-center justify-center\">\r\n                                <div className=\"w-2 h-2 bg-orange-500 rounded-full\" />\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Loading Message */}\r\n                        <AnimatePresence mode=\"wait\">\r\n                            <motion.p\r\n                                key={messageIndex}\r\n                                initial={{ opacity: 0, y: 8 }}\r\n                                animate={{ opacity: 1, y: 0 }}\r\n                                exit={{ opacity: 0, y: -8 }}\r\n                                transition={{ duration: 0.3 }}\r\n                                className=\"text-stone-300 text-lg font-medium tracking-wide\"\r\n                            >\r\n                                {LOADING_MESSAGES[messageIndex]}\r\n                            </motion.p>\r\n                        </AnimatePresence>\r\n\r\n                        {/* Typewriter dots */}\r\n                        <motion.div\r\n                            className=\"flex justify-center gap-1 mt-2\"\r\n                            initial={{ opacity: 0 }}\r\n                            animate={{ opacity: 1 }}\r\n                            transition={{ delay: 0.3 }}\r\n                        >\r\n                            {[0, 1, 2].map((i) => (\r\n                                <motion.span\r\n                                    key={i}\r\n                                    animate={{ opacity: [0.3, 1, 0.3] }}\r\n                                    transition={{\r\n                                        duration: 1.2,\r\n                                        repeat: Infinity,\r\n                                        delay: i * 0.2\r\n                                    }}\r\n                                    className=\"text-stone-500\"\r\n                                >\r\n                                    .\r\n                                </motion.span>\r\n                            ))}\r\n                        </motion.div>\r\n\r\n                        {/* Progress bar */}\r\n                        <div className=\"mt-10 w-full h-0.5 bg-stone-800 rounded-full overflow-hidden\">\r\n                            <motion.div\r\n                                className=\"h-full bg-gradient-to-r from-orange-500 to-orange-400\"\r\n                                initial={{ width: '0%' }}\r\n                                animate={{ width: `${((messageIndex + 1) / LOADING_MESSAGES.length) * 100}%` }}\r\n                                transition={{ duration: 0.5, ease: 'easeOut' }}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </motion.div>\r\n            )}\r\n        </AnimatePresence>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\generator\\LogoCustomizer.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ProLockOverlay' is defined but never used.","line":5,"column":20,"nodeType":null,"messageId":"unusedVar","endLine":5,"endColumn":34},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'brand' is defined but never used.","line":23,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":23,"endColumn":8}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport React from 'react';\r\nimport { BrandIdentity } from '@/lib/data';\r\nimport { ProBadge, ProLockOverlay } from '@/components/ui/ProBadge';\r\nimport { RotateCcw, Maximize2, Move, CornerUpRight } from 'lucide-react';\r\n\r\ninterface LogoTweaks {\r\n  scale: number;\r\n  rotate: number;\r\n  gap: number;\r\n}\r\n\r\ninterface LogoCustomizerProps {\r\n  brand: BrandIdentity;\r\n  tweaks: LogoTweaks;\r\n  onTweakChange: (tweaks: LogoTweaks) => void;\r\n  isPro: boolean;\r\n  onUpgradeClick?: () => void;\r\n}\r\n\r\nexport function LogoCustomizer({\r\n  brand,\r\n  tweaks,\r\n  onTweakChange,\r\n  isPro,\r\n  onUpgradeClick,\r\n}: LogoCustomizerProps) {\r\n  const handleSliderChange = (key: keyof LogoTweaks, value: number) => {\r\n    if (!isPro) {\r\n      onUpgradeClick?.();\r\n      return;\r\n    }\r\n    onTweakChange({ ...tweaks, [key]: value });\r\n  };\r\n\r\n  const handleReset = () => {\r\n    if (!isPro) {\r\n      onUpgradeClick?.();\r\n      return;\r\n    }\r\n    onTweakChange({ scale: 1, rotate: 0, gap: 0 });\r\n  };\r\n\r\n  return (\r\n    <div className=\"relative\">\r\n      {/* Pro Gate Overlay */}\r\n      {!isPro && (\r\n        <div\r\n          className=\"absolute inset-0 z-10 bg-white/80 backdrop-blur-sm rounded-lg flex flex-col items-center justify-center cursor-pointer\"\r\n          onClick={onUpgradeClick}\r\n        >\r\n          <ProBadge size=\"md\" />\r\n          <p className=\"text-sm text-stone-600 mt-2\">Unlock customization</p>\r\n          <button className=\"mt-2 text-xs font-medium text-orange-600 hover:text-orange-700\">\r\n            Upgrade to Pro\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"space-y-4 p-4 bg-stone-50 rounded-lg border border-stone-200\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <h3 className=\"text-sm font-semibold text-stone-900 flex items-center gap-2\">\r\n            Fine-tune Logo\r\n            {!isPro && <ProBadge size=\"sm\" />}\r\n          </h3>\r\n          <button\r\n            onClick={handleReset}\r\n            disabled={!isPro}\r\n            className=\"text-xs text-stone-500 hover:text-stone-700 flex items-center gap-1 disabled:opacity-50\"\r\n          >\r\n            <RotateCcw className=\"w-3 h-3\" />\r\n            Reset\r\n          </button>\r\n        </div>\r\n\r\n        {/* Scale Slider */}\r\n        <div className=\"space-y-2\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <label className=\"text-xs font-medium text-stone-600 flex items-center gap-1.5\">\r\n              <Maximize2 className=\"w-3.5 h-3.5\" />\r\n              Scale\r\n            </label>\r\n            <span className=\"text-xs text-stone-400\">{tweaks.scale.toFixed(1)}x</span>\r\n          </div>\r\n          <input\r\n            type=\"range\"\r\n            min=\"0.5\"\r\n            max=\"1.5\"\r\n            step=\"0.1\"\r\n            value={tweaks.scale}\r\n            onChange={(e) => handleSliderChange('scale', parseFloat(e.target.value))}\r\n            disabled={!isPro}\r\n            className=\"w-full h-2 bg-stone-200 rounded-lg appearance-none cursor-pointer accent-orange-500 disabled:opacity-50\"\r\n          />\r\n          <div className=\"flex justify-between text-[10px] text-stone-400\">\r\n            <span>0.5x</span>\r\n            <span>1.5x</span>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Rotation Slider */}\r\n        <div className=\"space-y-2\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <label className=\"text-xs font-medium text-stone-600 flex items-center gap-1.5\">\r\n              <CornerUpRight className=\"w-3.5 h-3.5\" />\r\n              Rotation\r\n            </label>\r\n            <span className=\"text-xs text-stone-400\">{tweaks.rotate}┬░</span>\r\n          </div>\r\n          <input\r\n            type=\"range\"\r\n            min=\"0\"\r\n            max=\"360\"\r\n            step=\"15\"\r\n            value={tweaks.rotate}\r\n            onChange={(e) => handleSliderChange('rotate', parseInt(e.target.value))}\r\n            disabled={!isPro}\r\n            className=\"w-full h-2 bg-stone-200 rounded-lg appearance-none cursor-pointer accent-orange-500 disabled:opacity-50\"\r\n          />\r\n          <div className=\"flex justify-between text-[10px] text-stone-400\">\r\n            <span>0┬░</span>\r\n            <span>360┬░</span>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Gap Slider */}\r\n        <div className=\"space-y-2\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <label className=\"text-xs font-medium text-stone-600 flex items-center gap-1.5\">\r\n              <Move className=\"w-3.5 h-3.5\" />\r\n              Spacing\r\n            </label>\r\n            <span className=\"text-xs text-stone-400\">{tweaks.gap}px</span>\r\n          </div>\r\n          <input\r\n            type=\"range\"\r\n            min=\"0\"\r\n            max=\"48\"\r\n            step=\"4\"\r\n            value={tweaks.gap}\r\n            onChange={(e) => handleSliderChange('gap', parseInt(e.target.value))}\r\n            disabled={!isPro}\r\n            className=\"w-full h-2 bg-stone-200 rounded-lg appearance-none cursor-pointer accent-orange-500 disabled:opacity-50\"\r\n          />\r\n          <div className=\"flex justify-between text-[10px] text-stone-400\">\r\n            <span>0px</span>\r\n            <span>48px</span>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Quick Presets */}\r\n        <div className=\"pt-2 border-t border-stone-200\">\r\n          <label className=\"text-xs font-medium text-stone-600 mb-2 block\">Quick Presets</label>\r\n          <div className=\"flex gap-2 flex-wrap\">\r\n            <button\r\n              onClick={() => isPro && onTweakChange({ scale: 1, rotate: 0, gap: 0 })}\r\n              disabled={!isPro}\r\n              className=\"px-2 py-1 text-[10px] bg-white border border-stone-200 rounded-md hover:bg-stone-50 disabled:opacity-50\"\r\n            >\r\n              Default\r\n            </button>\r\n            <button\r\n              onClick={() => isPro && onTweakChange({ scale: 1.2, rotate: 0, gap: 0 })}\r\n              disabled={!isPro}\r\n              className=\"px-2 py-1 text-[10px] bg-white border border-stone-200 rounded-md hover:bg-stone-50 disabled:opacity-50\"\r\n            >\r\n              Large\r\n            </button>\r\n            <button\r\n              onClick={() => isPro && onTweakChange({ scale: 0.8, rotate: 0, gap: 0 })}\r\n              disabled={!isPro}\r\n              className=\"px-2 py-1 text-[10px] bg-white border border-stone-200 rounded-md hover:bg-stone-50 disabled:opacity-50\"\r\n            >\r\n              Compact\r\n            </button>\r\n            <button\r\n              onClick={() => isPro && onTweakChange({ scale: 1, rotate: 45, gap: 0 })}\r\n              disabled={!isPro}\r\n              className=\"px-2 py-1 text-[10px] bg-white border border-stone-200 rounded-md hover:bg-stone-50 disabled:opacity-50\"\r\n            >\r\n              Tilted\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LogoCustomizer;\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\generator\\LogoStylePicker.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'isStyleFree' is defined but never used.","line":5,"column":34,"nodeType":null,"messageId":"unusedVar","endLine":5,"endColumn":45}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport React, { useState } from 'react';\r\nimport { BrandIdentity } from '@/lib/data';\r\nimport { LOGO_STYLES, LogoStyle, isStyleFree } from '@/lib/logo-styles';\r\nimport { LogoComposition, LogoLayoutStyle } from '@/components/logo-engine/LogoComposition';\r\nimport { ProBadge } from '@/components/ui/ProBadge';\r\nimport { Lock } from 'lucide-react';\r\nimport { cn } from '@/lib/utils';\r\n\r\ninterface LogoStylePickerProps {\r\n  brand: BrandIdentity;\r\n  currentStyle: LogoLayoutStyle;\r\n  onStyleSelect: (styleId: LogoLayoutStyle) => void;\r\n  isPro: boolean;\r\n  onUpgradeClick?: () => void;\r\n}\r\n\r\nconst STYLE_CATEGORIES = [\r\n  { id: 'basic', name: 'Basic', description: 'Clean, professional styles' },\r\n  { id: 'gradient', name: 'Gradients', description: 'Smooth color transitions' },\r\n  { id: '3d', name: '3D Effects', description: 'Depth and dimension' },\r\n  { id: 'glass', name: 'Modern', description: 'Glass and glow effects' },\r\n  { id: 'pattern', name: 'Patterns', description: 'Geometric arrangements' },\r\n  { id: 'typography', name: 'Typography', description: 'Letter-based designs' },\r\n  { id: 'advanced', name: 'Advanced', description: 'Complex compositions' },\r\n];\r\n\r\nexport function LogoStylePicker({\r\n  brand,\r\n  currentStyle,\r\n  onStyleSelect,\r\n  isPro,\r\n  onUpgradeClick,\r\n}: LogoStylePickerProps) {\r\n  const [activeCategory, setActiveCategory] = useState<string>('all');\r\n\r\n  const filteredStyles = activeCategory === 'all'\r\n    ? LOGO_STYLES\r\n    : LOGO_STYLES.filter(style => style.category === activeCategory);\r\n\r\n  const handleStyleClick = (style: LogoStyle) => {\r\n    if (style.tier === 'premium' && !isPro) {\r\n      onUpgradeClick?.();\r\n      return;\r\n    }\r\n    onStyleSelect(style.id as LogoLayoutStyle);\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      {/* Category Tabs */}\r\n      <div className=\"flex gap-2 overflow-x-auto pb-2 scrollbar-hide\">\r\n        <button\r\n          onClick={() => setActiveCategory('all')}\r\n          className={cn(\r\n            \"px-3 py-1.5 rounded-full text-xs font-medium whitespace-nowrap transition-colors\",\r\n            activeCategory === 'all'\r\n              ? \"bg-stone-900 text-white\"\r\n              : \"bg-stone-100 text-stone-600 hover:bg-stone-200\"\r\n          )}\r\n        >\r\n          All Styles\r\n        </button>\r\n        {STYLE_CATEGORIES.map(cat => (\r\n          <button\r\n            key={cat.id}\r\n            onClick={() => setActiveCategory(cat.id)}\r\n            className={cn(\r\n              \"px-3 py-1.5 rounded-full text-xs font-medium whitespace-nowrap transition-colors\",\r\n              activeCategory === cat.id\r\n                ? \"bg-stone-900 text-white\"\r\n                : \"bg-stone-100 text-stone-600 hover:bg-stone-200\"\r\n            )}\r\n          >\r\n            {cat.name}\r\n          </button>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Pro Banner */}\r\n      {!isPro && (\r\n        <div className=\"bg-gradient-to-r from-orange-500/10 to-amber-500/10 border border-orange-200 rounded-lg p-3 flex items-center justify-between\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <ProBadge size=\"sm\" />\r\n            <span className=\"text-sm text-stone-700\">\r\n              Unlock {LOGO_STYLES.filter(s => s.tier === 'premium').length} premium styles\r\n            </span>\r\n          </div>\r\n          <button\r\n            onClick={onUpgradeClick}\r\n            className=\"text-xs font-medium text-orange-600 hover:text-orange-700\"\r\n          >\r\n            Upgrade\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      {/* Style Grid */}\r\n      <div className=\"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-3\">\r\n        {filteredStyles.map(style => {\r\n          const isFree = style.tier === 'free';\r\n          const isLocked = !isFree && !isPro;\r\n          const isSelected = currentStyle === style.id;\r\n\r\n          return (\r\n            <div\r\n              key={style.id}\r\n              onClick={() => handleStyleClick(style)}\r\n              className={cn(\r\n                \"relative aspect-square rounded-xl border-2 cursor-pointer transition-all overflow-hidden group\",\r\n                isSelected\r\n                  ? \"border-orange-500 ring-2 ring-orange-500/20\"\r\n                  : \"border-stone-200 hover:border-stone-300\",\r\n                isLocked && \"opacity-70\"\r\n              )}\r\n            >\r\n              {/* Preview */}\r\n              <div className=\"absolute inset-2\">\r\n                <LogoComposition\r\n                  brand={brand}\r\n                  layout={style.id as LogoLayoutStyle}\r\n                  className=\"w-full h-full\"\r\n                  isPro={true} // Always show preview\r\n                />\r\n              </div>\r\n\r\n              {/* Lock Overlay for Premium */}\r\n              {isLocked && (\r\n                <div className=\"absolute inset-0 bg-stone-900/60 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity\">\r\n                  <div className=\"flex flex-col items-center gap-1\">\r\n                    <Lock className=\"w-4 h-4 text-white\" />\r\n                    <span className=\"text-[10px] text-white font-medium\">Pro</span>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Premium Badge */}\r\n              {!isFree && (\r\n                <div className=\"absolute top-1 right-1\">\r\n                  <div className=\"w-2 h-2 rounded-full bg-gradient-to-r from-orange-400 to-amber-400\" />\r\n                </div>\r\n              )}\r\n\r\n              {/* Style Name */}\r\n              <div className=\"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-2 pt-6\">\r\n                <p className=\"text-[10px] text-white font-medium truncate\">\r\n                  {style.name}\r\n                </p>\r\n              </div>\r\n\r\n              {/* Selected Indicator */}\r\n              {isSelected && (\r\n                <div className=\"absolute top-1 left-1 w-4 h-4 rounded-full bg-orange-500 flex items-center justify-center\">\r\n                  <svg className=\"w-2.5 h-2.5 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={3} d=\"M5 13l4 4L19 7\" />\r\n                  </svg>\r\n                </div>\r\n              )}\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n\r\n      {/* Stats */}\r\n      <div className=\"flex justify-between text-xs text-stone-400 pt-2\">\r\n        <span>{filteredStyles.filter(s => s.tier === 'free').length} free styles</span>\r\n        <span>{filteredStyles.filter(s => s.tier === 'premium').length} premium styles</span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LogoStylePicker;\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\generator\\LogoTweakPanel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\generator\\ProGateModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\generator\\RobotEmptyState.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\generator\\Sidebar.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Check' is defined but never used.","line":4,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":4,"endColumn":15},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'INDUSTRIES' is defined but never used.","line":10,"column":32,"nodeType":null,"messageId":"unusedVar","endLine":10,"endColumn":42},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'isShapesOpen' is assigned a value but never used.","line":86,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":86,"endColumn":24},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'setIsShapesOpen' is assigned a value but never used.","line":86,"column":26,"nodeType":null,"messageId":"unusedVar","endLine":86,"endColumn":41},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'setSelectedVibe'. Either include it or remove the dependency array. If 'setSelectedVibe' changes too often, find the parent component that defines it and wrap that definition in useCallback.","line":109,"column":8,"nodeType":"ArrayExpression","endLine":109,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [setSelectedVibe]","fix":{"range":[7055,7057],"text":"[setSelectedVibe]"}}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'handleSurpriseMe' is assigned a value but never used.","line":136,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":136,"endColumn":27},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'handleExpandVibe' is assigned a value but never used.","line":201,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":201,"endColumn":27}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { Check, Shuffle } from 'lucide-react';\r\nimport { VibeSelector } from './VibeSelector';\r\nimport { expandBriefWithAI, suggestVibeWithAI, expandVibeWithAI } from '@/lib/brand-generator';\r\nimport { GlyphIcon } from '@/components/logo-engine/LogoGlyph';\r\n\r\nimport { ArchetypeSelector } from './ArchetypeSelector';\r\nimport { BrandContextSelector, INDUSTRIES } from './BrandContextSelector';\r\n\r\nexport interface GenerationOptions {\r\n    prompt: string;\r\n    vibe: string;\r\n    name: string;\r\n    archetype: 'symbol' | 'wordmark';\r\n    color?: string;\r\n    shape?: string;\r\n    gradient?: { colors: string[]; angle: number } | null;\r\n    surpriseMe?: boolean;\r\n}\r\n\r\ninterface SidebarProps {\r\n    onGenerate: (options: GenerationOptions) => void;\r\n    isGenerating: boolean;\r\n    selectedVibe: string;\r\n    setSelectedVibe: (vibe: string) => void;\r\n    hasGenerated?: boolean;\r\n}\r\n\r\n// Tailwind color palettes (shadcn style)\r\nconst COLOR_PALETTES = {\r\n    neutral: ['#fafafa', '#f5f5f5', '#e5e5e5', '#d4d4d4', '#a3a3a3', '#737373', '#525252', '#404040', '#262626', '#171717', '#0a0a0a'],\r\n    stone: ['#fafaf9', '#f5f5f4', '#e7e5e4', '#d6d3d1', '#a8a29e', '#78716c', '#57534e', '#44403c', '#292524', '#1c1917', '#0c0a09'],\r\n    red: ['#fef2f2', '#fee2e2', '#fecaca', '#fca5a5', '#f87171', '#ef4444', '#dc2626', '#b91c1c', '#991b1b', '#7f1d1d', '#450a0a'],\r\n    orange: ['#fff7ed', '#ffedd5', '#fed7aa', '#fdba74', '#fb923c', '#f97316', '#ea580c', '#c2410c', '#9a3412', '#7c2d12', '#431407'],\r\n    amber: ['#fffbeb', '#fef3c7', '#fde68a', '#fcd34d', '#fbbf24', '#f59e0b', '#d97706', '#b45309', '#92400e', '#78350f', '#451a03'],\r\n    yellow: ['#fefce8', '#fef9c3', '#fef08a', '#fde047', '#facc15', '#eab308', '#ca8a04', '#a16207', '#854d0e', '#713f12', '#422006'],\r\n    lime: ['#f7fee7', '#ecfccb', '#d9f99d', '#bef264', '#a3e635', '#84cc16', '#65a30d', '#4d7c0f', '#3f6212', '#365314', '#1a2e05'],\r\n    green: ['#f0fdf4', '#dcfce7', '#bbf7d0', '#86efac', '#4ade80', '#22c55e', '#16a34a', '#15803d', '#166534', '#14532d', '#052e16'],\r\n    emerald: ['#ecfdf5', '#d1fae5', '#a7f3d0', '#6ee7b7', '#34d399', '#10b981', '#059669', '#047857', '#065f46', '#064e3b', '#022c22'],\r\n    teal: ['#f0fdfa', '#ccfbf1', '#99f6e4', '#5eead4', '#2dd4bf', '#14b8a6', '#0d9488', '#0f766e', '#115e59', '#134e4a', '#042f2e'],\r\n    cyan: ['#ecfeff', '#cffafe', '#a5f3fc', '#67e8f9', '#22d3ee', '#06b6d4', '#0891b2', '#0e7490', '#155e75', '#164e63', '#083344'],\r\n    sky: ['#f0f9ff', '#e0f2fe', '#bae6fd', '#7dd3fc', '#38bdf8', '#0ea5e9', '#0284c7', '#0369a1', '#075985', '#0c4a6e', '#082f49'],\r\n    blue: ['#eff6ff', '#dbeafe', '#bfdbfe', '#93c5fd', '#60a5fa', '#3b82f6', '#2563eb', '#1d4ed8', '#1e40af', '#1e3a8a', '#172554'],\r\n    indigo: ['#eef2ff', '#e0e7ff', '#c7d2fe', '#a5b4fc', '#818cf8', '#6366f1', '#4f46e5', '#4338ca', '#3730a3', '#312e81', '#1e1b4b'],\r\n    violet: ['#f5f3ff', '#ede9fe', '#ddd6fe', '#c4b5fd', '#a78bfa', '#8b5cf6', '#7c3aed', '#6d28d9', '#5b21b6', '#4c1d95', '#2e1065'],\r\n    purple: ['#faf5ff', '#f3e8ff', '#e9d5ff', '#d8b4fe', '#c084fc', '#a855f7', '#9333ea', '#7e22ce', '#6b21a8', '#581c87', '#3b0764'],\r\n    fuchsia: ['#fdf4ff', '#fae8ff', '#f5d0fe', '#f0abfc', '#e879f9', '#d946ef', '#c026d3', '#a21caf', '#86198f', '#701a75', '#4a044e'],\r\n    pink: ['#fdf2f8', '#fce7f3', '#fbcfe8', '#f9a8d4', '#f472b6', '#ec4899', '#db2777', '#be185d', '#9d174d', '#831843', '#500724'],\r\n    rose: ['#fff1f2', '#ffe4e6', '#fecdd3', '#fda4af', '#fb7185', '#f43f5e', '#e11d48', '#be123c', '#9f1239', '#881337', '#4c0519'],\r\n};\r\n\r\n// Logo shape presets\r\nconst SHAPE_PRESETS = [\r\n    { id: 'geo-hexagon', path: 'M21 16.5c0 .38-.21.71-.53.88l-7.9 4.44c-.16.12-.36.18-.57.18s-.41-.06-.57-.18l-7.9-4.44A.991.991 0 0 1 3 16.5v-9c0-.38.21-.71.53-.88l7.9-4.44c.16-.12.36-.18.57-.18s.41.06.57.18l7.9 4.44c.32.17.53.5.53.88v9z' },\r\n    { id: 'geo-diamond', path: 'M12 2L2 12l10 10 10-10L12 2z' },\r\n    { id: 'tech-bolt', path: 'M7 2v11h3v9l7-12h-4l4-8z' },\r\n    { id: 'org-star', path: 'M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z' },\r\n    { id: 'tech-layers', path: 'M11.99 18.54l-7.37-5.73L3 14.07l9 7 9-7-1.62-1.26-7.39 5.73zM12 16l7.36-5.73L21 9l-9-7-9 7 1.63 1.27L12 16z' },\r\n    { id: 'org-leaf', path: 'M17 8C8 10 5.9 16.17 3.82 21.34 5.71 18.06 8.4 15 12 13c-3 3-5 7-5 11 5-1 9-3 13-9 1-1.5 1-4-3-7z' },\r\n    { id: 'mark-arrow-ne', path: 'M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z' },\r\n];\r\n\r\n// Gradient presets\r\nconst GRADIENT_PRESETS = [\r\n    { id: 'sunset', name: 'Sunset', colors: ['#f97316', '#ec4899'], angle: 135 },\r\n    { id: 'ocean', name: 'Ocean', colors: ['#06b6d4', '#3b82f6'], angle: 135 },\r\n    { id: 'forest', name: 'Forest', colors: ['#22c55e', '#14b8a6'], angle: 135 },\r\n    { id: 'lavender', name: 'Lavender', colors: ['#a855f7', '#ec4899'], angle: 135 },\r\n    { id: 'midnight', name: 'Midnight', colors: ['#1e3a8a', '#7c3aed'], angle: 135 },\r\n    { id: 'ember', name: 'Ember', colors: ['#ef4444', '#f97316'], angle: 135 },\r\n    { id: 'mint', name: 'Mint', colors: ['#10b981', '#06b6d4'], angle: 135 },\r\n    { id: 'peach', name: 'Peach', colors: ['#fb923c', '#fbbf24'], angle: 135 },\r\n];\r\n\r\nexport function Sidebar({ onGenerate, isGenerating, selectedVibe, setSelectedVibe, hasGenerated }: SidebarProps) {\r\n    const [prompt, setPrompt] = useState('');\r\n    const [brandName, setBrandName] = useState('');\r\n    const [selectedColor, setSelectedColor] = useState('#f97316');\r\n    const [activeColorFamily, setActiveColorFamily] = useState<string | null>(null);\r\n    const [customVibe, setCustomVibe] = useState('');\r\n    const [selectedGradient, setSelectedGradient] = useState<string | null>(null);\r\n    const [selectedShape, setSelectedShape] = useState<string | null>(null);\r\n    const [selectedArchetype, setSelectedArchetype] = useState<'symbol' | 'wordmark'>('symbol'); // ADDING STATE\r\n    const [isShapesOpen, setIsShapesOpen] = useState(false);\r\n    const [isAiLoading, setIsAiLoading] = useState(false);\r\n\r\n    const isValid = brandName.trim().length > 0 && prompt.trim().length > 0 && (selectedVibe || customVibe.trim().length > 0);\r\n\r\n    // PLG: Restore pending work on load\r\n    useEffect(() => {\r\n        const saved = localStorage.getItem('glyph_pending_project');\r\n        if (saved) {\r\n            try {\r\n                const data = JSON.parse(saved);\r\n                if (data.name) setBrandName(data.name);\r\n                if (data.prompt) setPrompt(data.prompt);\r\n                if (data.vibe) setSelectedVibe(data.vibe);\r\n                if (data.customVibe) setCustomVibe(data.customVibe);\r\n                if (data.color) setSelectedColor(data.color);\r\n                if (data.archetype) setSelectedArchetype(data.archetype); // RESTORE\r\n                // Optional: Clear it after loading, or keep it until successful generation?\r\n                // Keeping it is safer for now.\r\n            } catch (e) {\r\n                console.error(\"Failed to restore draft\", e);\r\n            }\r\n        }\r\n    }, []);\r\n\r\n    const handleGenerate = async () => {\r\n        if (!isValid) return;\r\n\r\n        // PLG: Allow everyone to generate (Investment phase)\r\n        // Login is only required for \"Guidelines\" and \"Export\" (Conversion phase)\r\n\r\n        // Find full gradient object if selected\r\n        const vibeToUse = selectedVibe === 'custom' && customVibe ? customVibe : selectedVibe;\r\n\r\n        // Find full gradient object if selected\r\n        const gradientObj = selectedGradient\r\n            ? GRADIENT_PRESETS.find(g => g.id === selectedGradient)\r\n            : null;\r\n\r\n        onGenerate({\r\n            prompt,\r\n            vibe: vibeToUse,\r\n            name: brandName,\r\n            color: selectedColor,\r\n            archetype: selectedArchetype,\r\n            shape: selectedShape || undefined,\r\n            gradient: gradientObj ? { colors: gradientObj.colors, angle: gradientObj.angle } : null,\r\n        });\r\n    };\r\n\r\n    const handleSurpriseMe = () => {\r\n        // Pick random color family and shade\r\n        const families = Object.keys(COLOR_PALETTES);\r\n        const randomFamily = families[Math.floor(Math.random() * families.length)];\r\n        setActiveColorFamily(randomFamily);\r\n        const familyColors = COLOR_PALETTES[randomFamily as keyof typeof COLOR_PALETTES];\r\n        const randomColor = familyColors[Math.floor(Math.random() * familyColors.length)];\r\n        setSelectedColor(randomColor);\r\n\r\n        // Pick random shape\r\n        const randomShape = SHAPE_PRESETS[Math.floor(Math.random() * SHAPE_PRESETS.length)];\r\n        setSelectedShape(randomShape.id);\r\n\r\n        // Pick random gradient\r\n        const randomGradient = GRADIENT_PRESETS[Math.floor(Math.random() * GRADIENT_PRESETS.length)];\r\n        setSelectedGradient(randomGradient.id);\r\n\r\n        // Pick random vibe if none selected\r\n        if (!selectedVibe) {\r\n            const vibes = ['minimalist', 'tech', 'bold', 'nature', 'luxury', 'playful'];\r\n            const randomVibe = vibes[Math.floor(Math.random() * vibes.length)];\r\n            setSelectedVibe(randomVibe);\r\n        }\r\n\r\n        // For surprise me, we fill in defaults if missing so it's always valid\r\n        const finalName = brandName || \"Surprise Brand\";\r\n        const finalPrompt = prompt || \"A surprise startup concept\";\r\n\r\n        if (!brandName) setBrandName(finalName);\r\n        if (!prompt) setPrompt(finalPrompt);\r\n\r\n        // Trigger generation with surprise flag\r\n        onGenerate({\r\n            prompt: finalPrompt,\r\n            vibe: selectedVibe || \"bold\",\r\n            name: finalName,\r\n            color: randomColor,\r\n            archetype: 'symbol',\r\n            shape: randomShape.id,\r\n            gradient: { colors: randomGradient.colors, angle: randomGradient.angle },\r\n            surpriseMe: true\r\n        });\r\n    };\r\n\r\n    // AI Assist: Expand Brief\r\n    const handleExpandBrief = async () => {\r\n        if (!prompt.trim() || isAiLoading) return;\r\n        setIsAiLoading(true);\r\n        console.log('[Reframe] Starting brief reframe for:', prompt);\r\n        try {\r\n            const expanded = await expandBriefWithAI(prompt);\r\n            console.log('[Reframe] Result:', expanded);\r\n            setPrompt(expanded);\r\n            // Also suggest a vibe based on the brief\r\n            const suggestedVibe = await suggestVibeWithAI(expanded);\r\n            console.log('[Reframe] Suggested vibe:', suggestedVibe);\r\n            setSelectedVibe(suggestedVibe);\r\n        } catch (error) {\r\n            console.error('[Reframe] Error:', error);\r\n        } finally {\r\n            setIsAiLoading(false);\r\n        }\r\n    };\r\n\r\n    // AI Assist: Expand Custom Vibe\r\n    const handleExpandVibe = async () => {\r\n        if (!customVibe.trim() || isAiLoading) return;\r\n        setIsAiLoading(true);\r\n        try {\r\n            const expanded = await expandVibeWithAI(customVibe);\r\n            setCustomVibe(expanded);\r\n        } finally {\r\n            setIsAiLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <aside className=\"w-full md:w-[400px] h-[100dvh] md:h-full bg-white border-r border-stone-200 flex flex-col z-20 overflow-hidden shadow-[4px_0_24px_-12px_rgba(0,0,0,0.1)]\">\r\n\r\n            {/* Header - Premium Height & Spacing */}\r\n            <div className=\"h-16 border-b border-stone-100 flex items-center justify-between px-6 bg-white shrink-0 sticky top-0 z-10\">\r\n                <div className=\"flex items-center gap-2.5\">\r\n                    <div className=\"w-6 h-6 rounded-lg bg-stone-950 text-white flex items-center justify-center shadow-md shadow-stone-900/10\">\r\n                        <GlyphIcon className=\"w-3.5 h-3.5\" />\r\n                    </div>\r\n                    <span className=\"text-sm font-bold tracking-tight text-stone-900\">Glyph</span>\r\n                </div>\r\n                <div className=\"flex items-center gap-2\">\r\n                    <div className=\"flex items-center gap-1.5 px-2.5 py-1 rounded-full bg-stone-50 border border-stone-100\">\r\n                        <div className=\"w-1.5 h-1.5 rounded-full bg-emerald-500 shadow-[0_0_8px_rgba(16,185,129,0.4)]\" />\r\n                        <span className=\"text-[10px] font-semibold text-stone-500 uppercase tracking-wider\">Ready</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Scrollable Content */}\r\n            <div className=\"flex-1 overflow-y-auto px-6 py-6 space-y-6 scrollbar-hide\">\r\n\r\n                {/* PROJECT DETAILS */}\r\n                <section className=\"space-y-6\">\r\n                    <div className=\"flex flex-col space-y-1\">\r\n                        <h3 className=\"text-sm font-semibold text-stone-900 tracking-tight\">Project Identity</h3>\r\n                        <p className=\"text-xs text-stone-500\">Define the core DNA of your brand.</p>\r\n                    </div>\r\n\r\n                    <div className=\"space-y-5\">\r\n                        <BrandContextSelector\r\n                            onSelect={(industry) => {\r\n                                // AUTO-SELECT LOGIC based on Industry DNA\r\n                                setSelectedVibe(industry.vibe);\r\n                                if (industry.archetype === 'app-icon') {\r\n                                    setSelectedArchetype('symbol');\r\n                                } else if (industry.archetype === 'wordmark') {\r\n                                    setSelectedArchetype('wordmark');\r\n                                }\r\n                            }}\r\n                        />\r\n\r\n                        <div className=\"space-y-3\">\r\n                            <label className=\"text-[13px] font-medium text-stone-700\">Archetype</label>\r\n                            <ArchetypeSelector selected={selectedArchetype} onSelect={setSelectedArchetype} />\r\n                        </div>\r\n\r\n                        <div className=\"space-y-2\">\r\n                            <label className=\"text-[13px] font-medium text-stone-700\">Brand Name</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                value={brandName}\r\n                                onChange={(e) => setBrandName(e.target.value)}\r\n                                className=\"flex h-10 w-full rounded-lg border border-stone-200 bg-transparent px-3 py-2 text-sm shadow-sm transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-stone-950 focus-visible:ring-offset-2 placeholder:text-stone-400 hover:border-stone-300\"\r\n                                placeholder=\"e.g. Acme Corp\"\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"space-y-2 relative\">\r\n                            <div className=\"flex items-center justify-between\">\r\n                                <label className=\"text-[13px] font-medium text-stone-700\">Mission Statement</label>\r\n                                <button\r\n                                    onClick={handleExpandBrief}\r\n                                    disabled={!prompt.trim() || isAiLoading}\r\n                                    className=\"text-[11px] font-medium text-blue-600 hover:text-blue-700 disabled:opacity-50 disabled:cursor-default flex items-center gap-1 transition-colors\"\r\n                                >\r\n                                    {isAiLoading ? 'Reframing...' : <>Reframe with AI <span className=\"text-xs\">Γ£¿</span></>}\r\n                                </button>\r\n                            </div>\r\n                            <div className=\"relative\">\r\n                                <textarea\r\n                                    value={prompt}\r\n                                    onChange={(e) => setPrompt(e.target.value)}\r\n                                    className=\"flex min-h-[120px] w-full rounded-lg border border-stone-200 bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-white placeholder:text-stone-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-stone-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 resize-y transition-all hover:border-stone-300\"\r\n                                    placeholder=\"Describe your brand's core values and mission...\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n\r\n                <div className=\"h-px bg-stone-100\" />\r\n\r\n                {/* AESTHETIC */}\r\n                <section className=\"space-y-6\">\r\n                    <div className=\"flex flex-col space-y-1\">\r\n                        <h3 className=\"text-sm font-semibold text-stone-900 tracking-tight\">Aesthetic Direction</h3>\r\n                        <p className=\"text-xs text-stone-500\">Choose the visual language.</p>\r\n                    </div>\r\n\r\n                    <div className=\"space-y-5\">\r\n                        <VibeSelector\r\n                            selectedVibe={selectedVibe}\r\n                            onVibeChange={setSelectedVibe}\r\n                        />\r\n\r\n                        <div className=\"space-y-2\">\r\n                            <label className=\"text-[13px] font-medium text-stone-700\">Custom Vibe <span className=\"text-stone-400 font-normal\">(Optional)</span></label>\r\n                            <div className=\"relative\">\r\n                                <textarea\r\n                                    value={customVibe}\r\n                                    onChange={(e) => {\r\n                                        setCustomVibe(e.target.value);\r\n                                        if (e.target.value) setSelectedVibe('custom');\r\n                                        e.target.style.height = 'auto';\r\n                                        e.target.style.height = Math.min(e.target.scrollHeight, 100) + 'px';\r\n                                    }}\r\n                                    onFocus={() => setSelectedVibe('custom')}\r\n                                    placeholder=\"Describe a specific look...\"\r\n                                    rows={1}\r\n                                    className={`flex w-full rounded-lg border px-3 py-2.5 text-sm ring-offset-white placeholder:text-stone-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-stone-950 focus-visible:ring-offset-2 resize-none overflow-hidden transition-all min-h-[42px] shadow-sm ${selectedVibe === 'custom'\r\n                                        ? 'border-stone-900 ring-0 bg-white'\r\n                                        : 'border-stone-200 bg-transparent hover:border-stone-300'\r\n                                        }`}\r\n                                />\r\n                                {selectedVibe === 'custom' && (\r\n                                    <div className=\"absolute right-3 top-3\">\r\n                                        <span className=\"relative flex h-2 w-2\">\r\n                                            <span className=\"animate-ping absolute inline-flex h-full w-full rounded-full bg-stone-400 opacity-75\"></span>\r\n                                            <span className=\"relative inline-flex rounded-full h-2 w-2 bg-stone-900\"></span>\r\n                                        </span>\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n\r\n                <div className=\"h-px bg-stone-100\" />\r\n\r\n                {/* COLOR SYSTEM */}\r\n                <section className=\"space-y-6\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                        <div className=\"flex flex-col space-y-1\">\r\n                            <h3 className=\"text-sm font-semibold text-stone-900 tracking-tight\">Color System</h3>\r\n                            <p className=\"text-xs text-stone-500\">Select a primary palette.</p>\r\n                        </div>\r\n                        {selectedColor && (\r\n                            <div className=\"flex items-center gap-2 px-2.5 py-1 rounded-full bg-white border border-stone-200 shadow-sm\">\r\n                                <div className=\"w-3.5 h-3.5 rounded-full shadow-inner ring-1 ring-black/5\" style={{ backgroundColor: selectedColor }} />\r\n                                <span className=\"text-[10px] font-mono font-medium text-stone-600 uppercase\">{selectedColor}</span>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n\r\n                    <div className=\"space-y-4\">\r\n                        {/* Compact Color Grid */}\r\n                        <div className=\"grid grid-cols-7 gap-2\">\r\n                            {Object.entries(COLOR_PALETTES).map(([name, colors]) => (\r\n                                <button\r\n                                    key={name}\r\n                                    onClick={() => {\r\n                                        setActiveColorFamily(activeColorFamily === name ? null : name);\r\n                                        setSelectedColor(colors[5]);\r\n                                    }}\r\n                                    className={`group relative w-full aspect-square rounded-full transition-all duration-200 hover:scale-110 ${activeColorFamily === name\r\n                                        ? 'ring-2 ring-stone-900 ring-offset-2 z-10 shadow-md scale-110'\r\n                                        : 'hover:ring-2 hover:ring-stone-200 hover:ring-offset-1 opacity-90 hover:opacity-100'\r\n                                        }`}\r\n                                    title={name}\r\n                                >\r\n                                    <div className=\"absolute inset-0 rounded-full shadow-sm ring-1 ring-black/5\" style={{ backgroundColor: colors[5] }} />\r\n                                </button>\r\n                            ))}\r\n                        </div>\r\n\r\n                        {/* Expanded Shades */}\r\n                        {activeColorFamily && (\r\n                            <div className=\"p-4 bg-stone-50 rounded-xl border border-stone-100 animate-in fade-in slide-in-from-top-2 duration-200 shadow-inner\">\r\n                                <div className=\"flex justify-between items-center mb-3\">\r\n                                    <span className=\"text-[11px] font-bold uppercase tracking-widest text-stone-500\">{activeColorFamily} Spectrum</span>\r\n                                </div>\r\n                                <div className=\"flex gap-1 h-10 w-full\">\r\n                                    {COLOR_PALETTES[activeColorFamily as keyof typeof COLOR_PALETTES].map((color, i) => (\r\n                                        <button\r\n                                            key={i}\r\n                                            onClick={() => setSelectedColor(color)}\r\n                                            className={`flex-1 first:rounded-l-md last:rounded-r-md transition-all hover:scale-y-110 hover:shadow-lg relative group z-0 hover:z-10 focus:z-10 focus:outline-none`}\r\n                                            style={{ backgroundColor: color }}\r\n                                            title={color}\r\n                                        >\r\n                                            {selectedColor === color && (\r\n                                                <div className=\"absolute inset-0 flex items-center justify-center\">\r\n                                                    <div className={`w-1.5 h-1.5 rounded-full ${i < 5 ? 'bg-stone-900' : 'bg-white'} shadow-sm`} />\r\n                                                </div>\r\n                                            )}\r\n                                        </button>\r\n                                    ))}\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </section>\r\n            </div>\r\n\r\n            {/* Footer */}\r\n            <div className=\"p-6 border-t border-stone-100 bg-white z-20 shadow-[0_-4px_24px_-12px_rgba(0,0,0,0.1)]\">\r\n                <button\r\n                    onClick={handleGenerate}\r\n                    disabled={isGenerating || !isValid}\r\n                    className=\"w-full h-12 inline-flex items-center justify-center rounded-xl bg-stone-900 px-8 text-sm font-semibold text-white shadow-lg shadow-stone-900/20 transition-all hover:bg-stone-800 hover:shadow-stone-900/30 hover:-translate-y-0.5 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-stone-950 disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none disabled:translate-y-0\"\r\n                >\r\n                    {isGenerating ? (\r\n                        <div className=\"flex items-center gap-2\">\r\n                            <div className=\"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin\" />\r\n                            <span>Crafting Identity...</span>\r\n                        </div>\r\n                    ) : hasGenerated ? (\r\n                        <div className=\"flex items-center gap-2\">\r\n                            <Shuffle className=\"w-4 h-4\" />\r\n                            <span>Regenerate System</span>\r\n                        </div>\r\n                    ) : (\r\n                        'Generate Identity'\r\n                    )}\r\n                </button>\r\n            </div>\r\n        </aside>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\generator\\SoftGateVariations.tsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":96,"column":49,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[4974,5078],"text":"\r\n                        No password required. We&apos;ll also email you these styles.\r\n                    "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[4974,5078],"text":"\r\n                        No password required. We&lsquo;ll also email you these styles.\r\n                    "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[4974,5078],"text":"\r\n                        No password required. We&#39;ll also email you these styles.\r\n                    "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[4974,5078],"text":"\r\n                        No password required. We&rsquo;ll also email you these styles.\r\n                    "},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\nimport React, { useState } from \"react\";\r\nimport { Lock, Loader2, Wand2 } from \"lucide-react\";\r\nimport { toast } from \"sonner\";\r\n\r\ninterface SoftGateVariationsProps {\r\n    onUnlock?: () => void;\r\n}\r\n\r\nexport function SoftGateVariations({ onUnlock }: SoftGateVariationsProps) {\r\n    const [isUnlocked, setIsUnlocked] = useState(false);\r\n    const [email, setEmail] = useState(\"\");\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const handleUnlock = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        if (!email) return;\r\n\r\n        setLoading(true);\r\n\r\n        // Simulate API call / Value Exchange\r\n        // In a real app, you would send this to your API/DB/marketing tool\r\n        setTimeout(() => {\r\n            setLoading(false);\r\n            setIsUnlocked(true);\r\n            toast.success(\"Variations unlocked!\");\r\n            if (onUnlock) onUnlock();\r\n        }, 1200);\r\n    };\r\n\r\n    if (isUnlocked) {\r\n        // In a real implementation, this would likely render the new variations grid passed as children or fetched data\r\n        // For now, we show a success state or placeholders that would be replaced by the parent\r\n        return null; // The parent can handle showing the content when isUnlocked is true\r\n    }\r\n\r\n    return (\r\n        <div className=\"w-full mt-12 mb-20 animate-in fade-in slide-in-from-bottom-4 duration-700 delay-300\">\r\n            <div className=\"relative w-full overflow-hidden rounded-2xl bg-white border border-stone-200 shadow-sm\">\r\n\r\n                {/* 1. THE TEASER (Blurred Background Pattern) */}\r\n                <div className=\"absolute inset-0 bg-stone-50/50\">\r\n                    <div\r\n                        className=\"absolute inset-0 opacity-[0.03]\"\r\n                        style={{\r\n                            backgroundImage: 'radial-gradient(#000 1px, transparent 1px)',\r\n                            backgroundSize: '16px 16px'\r\n                        }}\r\n                    />\r\n                    {/* Blurred blobs to simulate logos */}\r\n                    <div className=\"absolute top-1/4 left-1/4 w-24 h-24 bg-stone-200 rounded-full blur-2xl opacity-40\" />\r\n                    <div className=\"absolute bottom-1/4 right-1/3 w-32 h-32 bg-stone-300 rounded-full blur-2xl opacity-40\" />\r\n                    <div className=\"absolute top-1/3 right-1/4 w-16 h-16 bg-orange-100 rounded-full blur-2xl opacity-40\" />\r\n                </div>\r\n\r\n                <div className=\"relative z-10 flex flex-col items-center justify-center py-16 px-6 text-center\">\r\n                    <div className=\"w-12 h-12 bg-white rounded-full shadow-md shadow-stone-200/50 flex items-center justify-center mb-5 text-orange-600 ring-1 ring-stone-100\">\r\n                        <Lock size={20} />\r\n                    </div>\r\n\r\n                    <h3 className=\"text-xl font-bold text-stone-900 mb-2 tracking-tight\">\r\n                        Unlock 4 Creative Variations\r\n                    </h3>\r\n                    <p className=\"text-stone-500 text-sm mb-8 max-w-sm mx-auto leading-relaxed\">\r\n                        Our AI has generated 4 more experimental concepts for this brand.\r\n                        Enter your email to see them instantly.\r\n                    </p>\r\n\r\n                    {/* 2. THE CAPTURE FORM */}\r\n                    <form onSubmit={handleUnlock} className=\"flex flex-col sm:flex-row w-full max-w-sm gap-2\">\r\n                        <input\r\n                            type=\"email\"\r\n                            required\r\n                            placeholder=\"founder@startup.com\"\r\n                            className=\"flex-1 px-4 py-2.5 rounded-lg border border-stone-200 text-sm bg-white shadow-sm placeholder:text-stone-400 focus:outline-none focus:ring-2 focus:ring-stone-950 focus:border-stone-950 transition-all\"\r\n                            value={email}\r\n                            onChange={(e) => setEmail(e.target.value)}\r\n                        />\r\n                        <button\r\n                            type=\"submit\"\r\n                            disabled={loading}\r\n                            className=\"px-5 py-2.5 bg-stone-900 text-white rounded-lg text-sm font-bold shadow hover:bg-black hover:shadow-md active:scale-95 transition-all flex items-center justify-center gap-2 disabled:opacity-80\"\r\n                        >\r\n                            {loading ? (\r\n                                <Loader2 size={16} className=\"animate-spin\" />\r\n                            ) : (\r\n                                <>\r\n                                    Unlock <Wand2 size={14} className=\"opacity-80\" />\r\n                                </>\r\n                            )}\r\n                        </button>\r\n                    </form>\r\n\r\n                    <p className=\"text-[10px] text-stone-400 mt-4 flex items-center gap-1.5\">\r\n                        <span className=\"w-1.5 h-1.5 rounded-full bg-green-500/50 block\" />\r\n                        No password required. We'll also email you these styles.\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\generator\\Toolbar.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Copy' is defined but never used.","line":4,"column":91,"nodeType":null,"messageId":"unusedVar","endLine":4,"endColumn":95}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState } from 'react';\r\nimport { Sun, Moon, Download, ChevronDown, FileCode, Image, Package, Code2, Share2, Link, Copy, Check, ChevronLeft, ChevronRight, Shuffle, RefreshCw } from 'lucide-react';\r\nimport UserProfile from '@/components/auth/UserProfile';\r\n\r\ninterface ToolbarProps {\r\n    isDark: boolean;\r\n    toggleDark: () => void;\r\n    onExport?: (type: string) => void;\r\n    viewMode: 'overview' | 'presentation';\r\n    setViewMode: (mode: 'overview' | 'presentation') => void;\r\n    // History Props\r\n    canUndo?: boolean;\r\n    canRedo?: boolean;\r\n    onUndo?: () => void;\r\n    onRedo?: () => void;\r\n    currentHistoryIndex?: number;\r\n    totalHistory?: number;\r\n    // Compare Props\r\n    onAddToCompare?: () => void;\r\n    onOpenCompare?: () => void;\r\n    compareCount?: number;\r\n    onVariations?: () => void;\r\n    isGenerating?: boolean;\r\n}\r\n\r\nexport function Toolbar({ isDark, toggleDark, onExport, viewMode, setViewMode, canUndo, canRedo, onUndo, onRedo, currentHistoryIndex, totalHistory, onAddToCompare, onOpenCompare, compareCount = 0, onVariations, isGenerating }: ToolbarProps) {\r\n    const [showExport, setShowExport] = useState(false);\r\n    const [showShare, setShowShare] = useState(false);\r\n    const [copied, setCopied] = useState(false);\r\n\r\n    const exportOptions = [\r\n        { id: 'tailwind', label: 'Tailwind Config', icon: FileCode, desc: 'CSS variables & tokens' },\r\n        { id: 'svg', label: 'SVG Logo', icon: Image, desc: 'Vector format' },\r\n        { id: 'favicon', label: 'Favicon Package', icon: Image, desc: 'All favicon sizes' },\r\n        { id: 'social', label: 'Social Media Kit', icon: Share2, desc: 'Profile pics & banners' },\r\n        { id: 'brandbook', label: 'Brand Guidelines', icon: FileCode, desc: 'PDF-ready Brand Book' },\r\n        { id: 'react', label: 'React Component', icon: Code2, desc: 'Copy-paste ready' },\r\n        { id: 'all', label: 'Full Package', icon: Package, desc: 'ZIP with all assets' },\r\n    ];\r\n\r\n    const handleShare = () => {\r\n        // Generate a share link (in production this would save to DB)\r\n        const shareUrl = `${window.location.origin}/share/${Date.now().toString(36)}`;\r\n        navigator.clipboard.writeText(shareUrl);\r\n        setCopied(true);\r\n        setTimeout(() => setCopied(false), 2000);\r\n    };\r\n\r\n    return (\r\n        <div className=\"flex items-center gap-2 md:gap-3\">\r\n            {/* History Controls - Hidden on mobile */}\r\n            {(onUndo && onRedo) && (\r\n                <div className=\"hidden md:flex border border-stone-200 rounded-lg p-0.5 bg-white shadow-sm h-10 mr-2 items-center\">\r\n                    <button\r\n                        onClick={onUndo}\r\n                        disabled={!canUndo}\r\n                        className=\"w-9 h-full flex items-center justify-center text-stone-500 hover:text-stone-900 disabled:opacity-30 disabled:hover:text-stone-500 transition-colors border-r border-stone-100\"\r\n                        title=\"Previous Brand\"\r\n                    >\r\n                        <ChevronLeft className=\"w-4 h-4\" />\r\n                    </button>\r\n                    <div className=\"px-3 text-[10px] font-mono font-medium text-stone-400 select-none\">\r\n                        {currentHistoryIndex} / {totalHistory}\r\n                    </div>\r\n                    <button\r\n                        onClick={onRedo}\r\n                        disabled={!canRedo}\r\n                        className=\"w-9 h-full flex items-center justify-center text-stone-500 hover:text-stone-900 disabled:opacity-30 disabled:hover:text-stone-500 transition-colors border-l border-stone-100\"\r\n                        title=\"Next Brand\"\r\n                    >\r\n                        <ChevronRight className=\"w-4 h-4\" />\r\n                    </button>\r\n                </div>\r\n            )}\r\n\r\n            {/* View Mode Toggle - Compact on mobile */}\r\n            <div className=\"flex border border-stone-200 rounded-lg p-0.5 bg-white shadow-sm md:mr-2 h-9 md:h-10\">\r\n                <button\r\n                    onClick={() => setViewMode('overview')}\r\n                    className={`px-2 md:px-4 text-[10px] md:text-xs font-semibold rounded-md transition-all ${viewMode === 'overview' ? 'bg-stone-950 text-white shadow-sm' : 'text-stone-500 hover:text-stone-950'}`}\r\n                >\r\n                    Overview\r\n                </button>\r\n                <button\r\n                    onClick={() => setViewMode('presentation')}\r\n                    className={`px-2 md:px-4 text-[10px] md:text-xs font-semibold rounded-md transition-all ${viewMode === 'presentation' ? 'bg-stone-950 text-white shadow-sm' : 'text-stone-500 hover:text-stone-950'}`}\r\n                >\r\n                    Guidelines\r\n                </button>\r\n            </div>\r\n\r\n            {/* Apple-Style Dark Mode Toggle */}\r\n            <div\r\n                className=\"relative w-16 h-8 rounded-full cursor-pointer transition-colors duration-300 shadow-inner\"\r\n                style={{\r\n                    backgroundColor: isDark ? '#1d1d1f' : '#e5e5ea',\r\n                }}\r\n                onClick={toggleDark}\r\n            >\r\n                {/* Sun Icon */}\r\n                <Sun\r\n                    className={`absolute left-1.5 top-1.5 w-5 h-5 text-amber-500 transition-opacity duration-300 ${isDark ? 'opacity-30' : 'opacity-100'}`}\r\n                />\r\n                {/* Moon Icon */}\r\n                <Moon\r\n                    className={`absolute right-1.5 top-1.5 w-5 h-5 text-indigo-300 transition-opacity duration-300 ${isDark ? 'opacity-100' : 'opacity-30'}`}\r\n                />\r\n                {/* Sliding Knob */}\r\n                <div\r\n                    className={`absolute top-1 w-6 h-6 bg-white rounded-full shadow-md transition-all duration-300 ease-in-out ${isDark ? 'left-9' : 'left-1'}`}\r\n                    style={{ boxShadow: '0 2px 4px rgba(0,0,0,0.2)' }}\r\n                />\r\n            </div>\r\n\r\n            {/* Share Button - Hidden on mobile */}\r\n            <div className=\"relative hidden md:block\">\r\n                <button\r\n                    onClick={() => setShowShare(!showShare)}\r\n                    className=\"flex items-center gap-2 p-2.5 border border-stone-200 rounded-full bg-white shadow-sm text-stone-700 hover:border-stone-400 transition-all\"\r\n                    title=\"Share\"\r\n                >\r\n                    <Share2 className=\"w-4 h-4\" />\r\n                </button>\r\n\r\n                {showShare && (\r\n                    <div className=\"absolute top-full right-0 mt-2 w-64 bg-white border border-stone-200 rounded-xl shadow-xl overflow-hidden z-50 p-4\">\r\n                        <div className=\"text-sm font-semibold text-stone-900 mb-2\">Share Preview</div>\r\n                        <p className=\"text-xs text-stone-500 mb-3\">Generate a public link to share your brand with clients.</p>\r\n                        <button\r\n                            onClick={handleShare}\r\n                            className=\"w-full flex items-center justify-center gap-2 px-4 py-2.5 bg-stone-900 text-white rounded-lg text-sm font-medium hover:bg-stone-800 transition-colors\"\r\n                        >\r\n                            {copied ? <Check className=\"w-4 h-4\" /> : <Link className=\"w-4 h-4\" />}\r\n                            {copied ? 'Link Copied!' : 'Copy Share Link'}\r\n                        </button>\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {/* Compare Controls */}\r\n            {onAddToCompare && onOpenCompare && (\r\n                <div className=\"flex items-center gap-2 mr-2\">\r\n                    <button\r\n                        onClick={onVariations}\r\n                        disabled={!onVariations || isGenerating}\r\n                        className=\"hidden md:flex items-center gap-2 px-3 py-2 h-9 md:h-10 border border-stone-200 rounded-full bg-white shadow-sm text-xs font-semibold hover:border-violet-300 hover:text-violet-600 hover:bg-violet-50 transition-all disabled:opacity-50\"\r\n                        title=\"Generate Variations\"\r\n                    >\r\n                        {isGenerating ? (\r\n                            <RefreshCw className=\"w-3.5 h-3.5 animate-spin\" />\r\n                        ) : (\r\n                            <Shuffle className=\"w-3.5 h-3.5\" />\r\n                        )}\r\n                        <span>{isGenerating ? 'Thinking...' : 'Variations'}</span>\r\n                    </button>\r\n\r\n                    <button\r\n                        onClick={onAddToCompare}\r\n                        className=\"flex items-center justify-center w-9 h-9 md:w-10 md:h-10 border border-stone-200 rounded-full bg-white shadow-sm text-stone-500 hover:text-orange-600 hover:border-orange-200 transition-all\"\r\n                        title=\"Add to Comparison\"\r\n                    >\r\n                        <span className=\"text-xl font-light leading-none mb-0.5\">+</span>\r\n                    </button>\r\n                    {compareCount > 0 && (\r\n                        <button\r\n                            onClick={onOpenCompare}\r\n                            className=\"flex items-center gap-2 px-3 py-2 h-9 md:h-10 bg-stone-900 text-white rounded-full shadow-sm text-xs font-semibold hover:bg-stone-800 transition-all animate-in fade-in zoom-in duration-200\"\r\n                        >\r\n                            Compare\r\n                            <span className=\"bg-white/20 px-1.5 py-0.5 rounded-full text-[10px]\">{compareCount}</span>\r\n                        </button>\r\n                    )}\r\n                </div>\r\n            )}\r\n\r\n            {/* Export Dropdown - Compact on mobile */}\r\n            <div className=\"relative\">\r\n                <button\r\n                    onClick={() => setShowExport(!showExport)}\r\n                    className=\"flex items-center gap-1 md:gap-2 px-2.5 md:px-4 py-2 border border-stone-200 rounded-full bg-white shadow-sm text-sm font-medium text-stone-700 hover:border-stone-400 transition-all h-9 md:h-10\"\r\n                >\r\n                    <Download className=\"w-4 h-4\" />\r\n                    <span className=\"hidden md:inline\">Export</span>\r\n                    <ChevronDown className={`w-3 h-3 transition-transform ${showExport ? 'rotate-180' : ''}`} />\r\n                </button>\r\n\r\n                {showExport && (\r\n                    <div className=\"absolute top-full right-0 mt-2 w-56 bg-white border border-stone-200 rounded-xl shadow-xl overflow-hidden z-50\">\r\n                        {exportOptions.map((option) => (\r\n                            <button\r\n                                key={option.id}\r\n                                onClick={() => {\r\n                                    onExport?.(option.id);\r\n                                    setShowExport(false);\r\n                                }}\r\n                                className=\"w-full px-4 py-3 text-left hover:bg-stone-50 flex items-center gap-3 transition-colors group\"\r\n                            >\r\n                                <div className=\"w-8 h-8 rounded-lg bg-stone-100 flex items-center justify-center group-hover:bg-stone-200 transition-colors\">\r\n                                    <option.icon className=\"w-4 h-4 text-stone-600\" />\r\n                                </div>\r\n                                <div>\r\n                                    <div className=\"text-sm font-medium text-stone-900\">{option.label}</div>\r\n                                    <div className=\"text-[10px] text-stone-400\">{option.desc}</div>\r\n                                </div>\r\n                            </button>\r\n                        ))}\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {/* Profile Menu */}\r\n            <div className=\"pl-2 border-l border-stone-200\">\r\n                <UserProfile />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\generator\\UnifiedExportMenu.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Box' is defined but never used.","line":6,"column":78,"nodeType":null,"messageId":"unusedVar","endLine":6,"endColumn":81},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Check' is defined but never used.","line":6,"column":83,"nodeType":null,"messageId":"unusedVar","endLine":6,"endColumn":88},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'html2canvas' is defined but never used.","line":18,"column":8,"nodeType":null,"messageId":"unusedVar","endLine":18,"endColumn":19},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":349,"column":70,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":349,"endColumn":73,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[15770,15773],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[15770,15773],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport React, { useState } from 'react';\r\nimport { BrandIdentity } from '@/lib/data';\r\nimport { Button } from '@/components/ui/button';\r\nimport { ChevronDown, FileJson, ImageIcon, Package, Share2, FileText, Code2, Box, Check, Loader2, Download, Play, Smartphone, Globe } from 'lucide-react';\r\nimport {\r\n    DropdownMenu,\r\n    DropdownMenuContent,\r\n    DropdownMenuItem,\r\n    DropdownMenuLabel,\r\n    DropdownMenuSeparator,\r\n    DropdownMenuTrigger,\r\n    DropdownMenuGroup\r\n} from '@/components/ui/dropdown-menu';\r\nimport { saveAs } from 'file-saver';\r\nimport JSZip from 'jszip';\r\nimport html2canvas from 'html2canvas';\r\n\r\n// Dynamically import the Heavy components effectively if needed, \r\n// for now we trigger downloads via logic or redirect to 'view' mode which is cleaner.\r\n// Actually, for \"Social Media Kit\" and \"Brand Guidelines\", exporting directly from menu \r\n// without viewing is hard because we need the DOM rendered.\r\n// Strategy: The menu triggers the \"PresentationMode\" view OR a hidden render-capture process.\r\n// For MVP: We will use the same \"Hidden Container\" trick from ExportBrandKit for the 'Full Package',\r\n// and for individual items we might just trigger the Full Package or specific parts.\r\n\r\ninterface UnifiedExportMenuProps {\r\n    brand: BrandIdentity;\r\n    onViewGuidelines?: () => void;\r\n}\r\n\r\nexport function UnifiedExportMenu({ brand, onViewGuidelines }: UnifiedExportMenuProps) {\r\n    const [isExporting, setIsExporting] = useState(false);\r\n    const [activeExport, setActiveExport] = useState<string | null>(null);\r\n\r\n    // HELPER: Download Text File\r\n    const downloadText = (content: string, filename: string) => {\r\n        const blob = new Blob([content], { type: 'text/plain;charset=utf-8' });\r\n        saveAs(blob, filename);\r\n    };\r\n\r\n    // 1. Tailwind Config\r\n    const exportTailwind = () => {\r\n        const t = brand.theme.tokens;\r\n        const config = `\r\nmodule.exports = {\r\n  theme: {\r\n    extend: {\r\n      colors: {\r\n        brand: {\r\n          50: '${t.light.bg}',\r\n          500: '${t.light.primary}',\r\n          900: '${t.light.text}',\r\n          // Add more shades generated by your tool\r\n        },\r\n        dark: {\r\n          bg: '${t.dark.bg}',\r\n          surface: '${t.dark.surface}',\r\n        }\r\n      },\r\n      fontFamily: {\r\n        sans: ['${brand.font.name}', 'sans-serif'],\r\n        heading: ['${brand.font.headingName || brand.font.name}', 'sans-serif'],\r\n      }\r\n    }\r\n  }\r\n}\r\n        `;\r\n        downloadText(config.trim(), 'tailwind.config.js');\r\n    };\r\n\r\n    // 2. SVG Logo\r\n    const exportSVG = () => {\r\n        const svgElement = document.getElementById('main-logo-svg'); // Ensure we have an ID on the main logo\r\n        if (!svgElement) {\r\n            alert(\"Could not find logo element to capture. Please enable logo view.\");\r\n            return;\r\n        }\r\n        // Basic grab of outerHTML or create a clean SVG string from data\r\n        // For robustness, generating from data is better, but grabbing DOM is easy v1.\r\n        const svgString = svgElement.outerHTML;\r\n        const blob = new Blob([svgString], { type: 'image/svg+xml;charset=utf-8' });\r\n        saveAs(blob, `${brand.name.toLowerCase()}-logo.svg`);\r\n    };\r\n\r\n    // 3. React Component\r\n    const exportReact = () => {\r\n        const component = `\r\nimport React from 'react';\r\n\r\nexport const ${brand.name.replace(/\\s+/g, '')}Logo = ({ className }: { className?: string }) => (\r\n  <svg viewBox=\"0 0 100 100\" className={className} fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    {/* Shape Path */}\r\n    <path d=\"${brand.shape}\" fill=\"currentColor\" />\r\n  </svg>\r\n);\r\n        `;\r\n        downloadText(component.trim(), `${brand.name.replace(/\\s+/g, '')}Logo.tsx`);\r\n    };\r\n\r\n    // 4. Animation Export (Lottie + CSS)\r\n    const exportAnimation = async () => {\r\n        try {\r\n            const { generateLogoAnimation, exportAnimationPackage } = await import('@/components/logo-engine/animation/animation-export');\r\n            const { getSelectedLogo } = await import('@/components/logo-engine/renderers/stored-logo-export');\r\n\r\n            const selectedLogo = getSelectedLogo(brand);\r\n            if (!selectedLogo) {\r\n                alert('No logo selected. Please generate a logo first.');\r\n                return;\r\n            }\r\n\r\n            // Generate animation for 'fade-in' preset\r\n            const animation = generateLogoAnimation(selectedLogo, 'fade-in', 1000);\r\n            const pkg = exportAnimationPackage(animation);\r\n\r\n            // Create ZIP with both files\r\n            const zip = new JSZip();\r\n            zip.file('animation.json', pkg.lottieJson);\r\n            zip.file('animation.css', pkg.cssFile);\r\n            zip.file('README.txt', `# ${brand.name} Logo Animation\r\n\r\nLottie Animation: animation.json\r\n- Import into Lottie player libraries (lottie-web, lottie-react, etc.)\r\n- Test at lottiefiles.com\r\n\r\nCSS Animation: animation.css\r\n- Copy keyframes into your stylesheet\r\n- Apply .logo-animation class to your logo element\r\n\r\nGenerated by Glyph`);\r\n\r\n            const content = await zip.generateAsync({ type: 'blob' });\r\n            saveAs(content, `${brand.name.toLowerCase().replace(/\\s+/g, '-')}-animation.zip`);\r\n        } catch (e) {\r\n            console.error('Animation export failed:', e);\r\n            alert('Animation export failed. Please try again.');\r\n        }\r\n    };\r\n\r\n    // 5. Favicon ICO Export\r\n    const exportFaviconICO = async () => {\r\n        try {\r\n            const { generateFaviconICO } = await import('@/components/export/ExportFavicon');\r\n            const icoBlob = await generateFaviconICO(brand);\r\n            saveAs(icoBlob, 'favicon.ico');\r\n        } catch (e) {\r\n            console.error('Favicon ICO export failed:', e);\r\n            alert('Favicon ICO export failed. Please try again.');\r\n        }\r\n    };\r\n\r\n    // 6. App Icons Export (iOS + Android)\r\n    const exportAppIcons = async () => {\r\n        try {\r\n            const { generateAppIcons } = await import('@/components/export/ExportFavicon');\r\n            const { ios, android } = await generateAppIcons(brand);\r\n\r\n            const zip = new JSZip();\r\n            zip.file('ios-1024x1024.png', ios);\r\n            zip.file('android-512x512.png', android);\r\n            zip.file('README.txt', `# ${brand.name} App Icons\r\n\r\niOS App Icon: ios-1024x1024.png\r\n- 1024x1024 with proper padding\r\n- No transparency (solid background)\r\n- Upload to App Store Connect\r\n\r\nAndroid App Icon: android-512x512.png\r\n- 512x512 adaptive icon foreground\r\n- 15% padding for safe zone\r\n- Use with ic_launcher\r\n\r\nGenerated by Glyph`);\r\n\r\n            const content = await zip.generateAsync({ type: 'blob' });\r\n            saveAs(content, `${brand.name.toLowerCase().replace(/\\s+/g, '-')}-app-icons.zip`);\r\n        } catch (e) {\r\n            console.error('App icons export failed:', e);\r\n            alert('App icons export failed. Please try again.');\r\n        }\r\n    };\r\n\r\n    const handleItemClick = async (action: string, fn: () => void) => {\r\n        setActiveExport(action);\r\n        setIsExporting(true);\r\n        // Simulate async\r\n        await new Promise(r => setTimeout(r, 800));\r\n        try {\r\n            fn();\r\n        } catch (e) {\r\n            console.error(e);\r\n        }\r\n        setIsExporting(false);\r\n        setActiveExport(null);\r\n    };\r\n\r\n    return (\r\n        <DropdownMenu>\r\n            <DropdownMenuTrigger asChild>\r\n                <Button className=\"bg-white text-stone-900 border border-stone-200 hover:bg-stone-50 shadow-sm gap-2 rounded-full px-6 shadow-xl hover:shadow-2xl transition-all\">\r\n                    {isExporting ? <Loader2 className=\"animate-spin\" size={16} /> : <Download size={16} />}\r\n                    Export\r\n                    <ChevronDown size={14} className=\"opacity-50\" />\r\n                </Button>\r\n            </DropdownMenuTrigger>\r\n            <DropdownMenuContent align=\"end\" className=\"w-80 p-2 rounded-2xl shadow-xl border-stone-100 bg-white/95 backdrop-blur-xl\">\r\n                <DropdownMenuLabel className=\"px-3 py-2 text-xs font-mono text-stone-400 uppercase tracking-widest\">\r\n                    Assets & Config\r\n                </DropdownMenuLabel>\r\n\r\n                <DropdownMenuGroup className=\"space-y-1\">\r\n                    {/* Tailwind */}\r\n                    <DropdownMenuItem\r\n                        onClick={() => handleItemClick('tailwind', exportTailwind)}\r\n                        className=\"flex items-start gap-4 p-3 rounded-xl focus:bg-stone-50 cursor-pointer\"\r\n                    >\r\n                        <div className=\"p-2 bg-stone-100 rounded-lg text-stone-600\">\r\n                            <SwitchIcon active={activeExport === 'tailwind'} icon={Code2} />\r\n                        </div>\r\n                        <div>\r\n                            <div className=\"font-semibold text-stone-900\">Tailwind Config</div>\r\n                            <div className=\"text-xs text-stone-500\">CSS variables & tokens</div>\r\n                        </div>\r\n                    </DropdownMenuItem>\r\n\r\n                    {/* SVG Logo */}\r\n                    <DropdownMenuItem\r\n                        onClick={() => handleItemClick('svg', exportSVG)}\r\n                        className=\"flex items-start gap-4 p-3 rounded-xl focus:bg-stone-50 cursor-pointer\"\r\n                    >\r\n                        <div className=\"p-2 bg-stone-100 rounded-lg text-stone-600\">\r\n                            <SwitchIcon active={activeExport === 'svg'} icon={ImageIcon} />\r\n                        </div>\r\n                        <div>\r\n                            <div className=\"font-semibold text-stone-900\">SVG Logo</div>\r\n                            <div className=\"text-xs text-stone-500\">Vector format</div>\r\n                        </div>\r\n                    </DropdownMenuItem>\r\n\r\n                    {/* Social Media Kit (Scroll/Link) */}\r\n                    <DropdownMenuItem\r\n                        onClick={() => {\r\n                            if (onViewGuidelines) onViewGuidelines();\r\n                        }}\r\n                        className=\"flex items-start gap-4 p-3 rounded-xl focus:bg-stone-50 cursor-pointer\"\r\n                    >\r\n                        <div className=\"p-2 bg-stone-100 rounded-lg text-stone-600\">\r\n                            <SwitchIcon active={false} icon={Share2} />\r\n                        </div>\r\n                        <div>\r\n                            <div className=\"font-semibold text-stone-900\">Social Media Kit</div>\r\n                            <div className=\"text-xs text-stone-500\">Profile pics & banners</div>\r\n                        </div>\r\n                    </DropdownMenuItem>\r\n\r\n                    {/* Brand Guidelines */}\r\n                    <DropdownMenuItem\r\n                        onClick={() => {\r\n                            if (onViewGuidelines) onViewGuidelines();\r\n                        }}\r\n                        className=\"flex items-start gap-4 p-3 rounded-xl focus:bg-stone-50 cursor-pointer\"\r\n                    >\r\n                        <div className=\"p-2 bg-stone-100 rounded-lg text-stone-600\">\r\n                            <SwitchIcon active={false} icon={FileText} />\r\n                        </div>\r\n                        <div>\r\n                            <div className=\"font-semibold text-stone-900\">Brand Guidelines</div>\r\n                            <div className=\"text-xs text-stone-500\">PDF-ready Brand Book</div>\r\n                        </div>\r\n                    </DropdownMenuItem>\r\n\r\n                    {/* React Component */}\r\n                    <DropdownMenuItem\r\n                        onClick={() => handleItemClick('react', exportReact)}\r\n                        className=\"flex items-start gap-4 p-3 rounded-xl focus:bg-stone-50 cursor-pointer\"\r\n                    >\r\n                        <div className=\"p-2 bg-stone-100 rounded-lg text-stone-600\">\r\n                            <SwitchIcon active={activeExport === 'react'} icon={FileJson} />\r\n                        </div>\r\n                        <div>\r\n                            <div className=\"font-semibold text-stone-900\">React Component</div>\r\n                            <div className=\"text-xs text-stone-500\">Copy-paste ready</div>\r\n                        </div>\r\n                    </DropdownMenuItem>\r\n\r\n                    {/* Animation Export */}\r\n                    <DropdownMenuItem\r\n                        onClick={() => handleItemClick('animation', exportAnimation)}\r\n                        className=\"flex items-start gap-4 p-3 rounded-xl focus:bg-stone-50 cursor-pointer\"\r\n                    >\r\n                        <div className=\"p-2 bg-stone-100 rounded-lg text-stone-600\">\r\n                            <SwitchIcon active={activeExport === 'animation'} icon={Play} />\r\n                        </div>\r\n                        <div>\r\n                            <div className=\"font-semibold text-stone-900\">Logo Animation</div>\r\n                            <div className=\"text-xs text-stone-500\">Lottie JSON + CSS keyframes</div>\r\n                        </div>\r\n                    </DropdownMenuItem>\r\n\r\n                    {/* Favicon ICO */}\r\n                    <DropdownMenuItem\r\n                        onClick={() => handleItemClick('favicon', exportFaviconICO)}\r\n                        className=\"flex items-start gap-4 p-3 rounded-xl focus:bg-stone-50 cursor-pointer\"\r\n                    >\r\n                        <div className=\"p-2 bg-stone-100 rounded-lg text-stone-600\">\r\n                            <SwitchIcon active={activeExport === 'favicon'} icon={Globe} />\r\n                        </div>\r\n                        <div>\r\n                            <div className=\"font-semibold text-stone-900\">Favicon ICO</div>\r\n                            <div className=\"text-xs text-stone-500\">16, 32, 48px embedded</div>\r\n                        </div>\r\n                    </DropdownMenuItem>\r\n\r\n                    {/* App Icons */}\r\n                    <DropdownMenuItem\r\n                        onClick={() => handleItemClick('appicons', exportAppIcons)}\r\n                        className=\"flex items-start gap-4 p-3 rounded-xl focus:bg-stone-50 cursor-pointer\"\r\n                    >\r\n                        <div className=\"p-2 bg-stone-100 rounded-lg text-stone-600\">\r\n                            <SwitchIcon active={activeExport === 'appicons'} icon={Smartphone} />\r\n                        </div>\r\n                        <div>\r\n                            <div className=\"font-semibold text-stone-900\">App Icons</div>\r\n                            <div className=\"text-xs text-stone-500\">iOS 1024px + Android 512px</div>\r\n                        </div>\r\n                    </DropdownMenuItem>\r\n                </DropdownMenuGroup>\r\n\r\n                <DropdownMenuSeparator className=\"my-2 bg-stone-100\" />\r\n\r\n                {/* Full Package */}\r\n                <DropdownMenuItem className=\"flex items-start gap-4 p-3 rounded-xl focus:bg-stone-900 focus:text-white group cursor-pointer\">\r\n                    <div className=\"p-2 bg-stone-100 rounded-lg text-stone-900 group-focus:bg-stone-800 group-focus:text-white\">\r\n                        <Package size={18} />\r\n                    </div>\r\n                    <div>\r\n                        <div className=\"font-semibold text-stone-900 group-focus:text-white\">Full Package</div>\r\n                        <div className=\"text-xs text-stone-500 group-focus:text-stone-400\">ZIP with all assets</div>\r\n                    </div>\r\n                </DropdownMenuItem>\r\n\r\n            </DropdownMenuContent>\r\n        </DropdownMenu>\r\n    );\r\n}\r\n\r\nfunction SwitchIcon({ active, icon: Icon }: { active: boolean, icon: any }) {\r\n    if (active) return <Loader2 size={18} className=\"animate-spin text-orange-500\" />;\r\n    return <Icon size={18} />;\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\generator\\UpgradeModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\generator\\VibeSelector.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\generator\\WorkbenchBentoGrid.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'useRef' is defined but never used.","line":3,"column":20,"nodeType":null,"messageId":"unusedVar","endLine":3,"endColumn":26},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'useEffect' is defined but never used.","line":3,"column":28,"nodeType":null,"messageId":"unusedVar","endLine":3,"endColumn":37},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'UnifiedExportMenu' is defined but never used.","line":4,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":4,"endColumn":27},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ArrowUp' is defined but never used.","line":6,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":6,"endColumn":17},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Copy' is defined but never used.","line":11,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":11,"endColumn":14},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Check' is defined but never used.","line":11,"column":16,"nodeType":null,"messageId":"unusedVar","endLine":11,"endColumn":21},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Share2' is defined but never used.","line":11,"column":62,"nodeType":null,"messageId":"unusedVar","endLine":11,"endColumn":68},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'AppIconVariants' is defined but never used.","line":19,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":19,"endColumn":25},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'MockupBrowser' is defined but never used.","line":25,"column":24,"nodeType":null,"messageId":"unusedVar","endLine":25,"endColumn":37},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'BrowserBrandPreview' is defined but never used.","line":26,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":26,"endColumn":29},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'MonogramMark' is defined but never used.","line":27,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":27,"endColumn":22},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":37,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":37,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1880,1883],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1880,1883],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'copiedHex' is assigned a value but never used.","line":50,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":50,"endColumn":21},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'content' is assigned a value but never used.","line":57,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":57,"endColumn":18},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'copyToClipboard' is assigned a value but never used.","line":80,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":80,"endColumn":26}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":14,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState, useRef, useEffect } from 'react';\r\nimport { UnifiedExportMenu } from '@/components/generator/UnifiedExportMenu';\r\nimport { SocialMediaKit } from '@/components/preview/SocialMediaKit';\r\nimport { ArrowUp, ArrowUpRight as ArrowUpEnd } from 'lucide-react';\r\nimport { Button } from '@/components/ui/button';\r\nimport { BrandIdentity } from '@/lib/data';\r\nimport { cn } from '@/lib/utils';\r\nimport { motion } from 'framer-motion';\r\nimport { Copy, Check, Shuffle, RefreshCw, SlidersHorizontal, Share2 } from 'lucide-react';\r\nimport { LogoTweakPanel } from './LogoTweakPanel';\r\nimport { ExportBrandKit } from './ExportBrandKit';\r\nimport { SlideCover, SlideStrategy, SlideLogo, SlideColors, SlideTypography, SlideSocial, SlideOutdoor, SlideMockups, SlidePitchDeck, SlideGuidelines } from './BrandSlides';\r\nimport { LogoComposition } from '@/components/logo-engine/LogoComposition';\r\nimport { LogoConstruction } from '@/components/logo-engine/LogoConstruction';\r\nimport { SafariBrowserMockup } from '@/components/preview/SafariBrowserMockup';\r\nimport { ColorPaletteHorizontal } from './ColorPaletteStrip';\r\nimport { AppIconVariants } from './AppIconVariants';\r\nimport { MockupCreditCard, MockupIDBadge } from '@/components/preview/MockupMerch';\r\nimport { MockupIPhoneHome } from '@/components/preview/MockupIPhoneHome';\r\n\r\n\r\nimport { Mockup3DCard } from '@/components/preview/Mockup3DCard';\r\nimport { MockupDevice, MockupBrowser } from '@/components/preview/MockupDevice';\r\nimport { BrowserBrandPreview } from '@/components/preview/BrowserBrandPreview';\r\nimport { MonogramMark } from '@/components/logo-engine/LogoMonogram';\r\nimport { FontSelector } from './FontSelector';\r\n\r\n\r\n\r\ninterface WorkbenchBentoGridProps {\r\n    brand: BrandIdentity;\r\n    isDark: boolean;\r\n    onShuffleLogo?: () => void;\r\n    onSwapFont?: () => void;\r\n    onUpdateFont?: (font: any) => void;\r\n    onCycleColor?: () => void;\r\n    onSelectColor?: (color: { light: string; dark: string }) => void;\r\n    onVariations?: () => void;\r\n    onUpdateBrand?: (updates: Partial<BrandIdentity>) => void;\r\n    viewMode: 'overview' | 'presentation';\r\n    setViewMode?: (mode: 'overview' | 'presentation') => void;\r\n}\r\n\r\nexport function WorkbenchBentoGrid({ brand, isDark, onShuffleLogo, onSwapFont, onUpdateFont, onCycleColor, onSelectColor, onVariations, onUpdateBrand, viewMode, setViewMode }: WorkbenchBentoGridProps) {\r\n    // New State for Font Selector & Tweak Panel\r\n    const [isFontSelectorOpen, setIsFontSelectorOpen] = useState(false);\r\n    const [isTweakPanelOpen, setIsTweakPanelOpen] = useState(false);\r\n    const [copiedHex, setCopiedHex] = useState<string | null>(null);\r\n\r\n    // PHASE 4: CONTENT INJECTION\r\n    const CONTENT_TEMPLATES: Record<string, { headline: string; subhead: string; cta: string }> = {\r\n        // ... existing content templates ...\r\n    };\r\n\r\n    const content = CONTENT_TEMPLATES[brand.vibe] || CONTENT_TEMPLATES.modern;\r\n\r\n    // If in Presentation Mode, render the Slide Deck\r\n    if (viewMode === 'presentation') {\r\n        return (\r\n            <div className=\"w-full max-w-[1600px] mx-auto p-4 md:p-8 space-y-8 pb-32\">\r\n                <SlideCover brand={brand} />\r\n                <SlideStrategy brand={brand} />\r\n                <SlideLogo brand={brand} onSelectColor={onSelectColor} />\r\n                <SlideColors brand={brand} />\r\n                <SlideTypography brand={brand} onSwapFont={onSwapFont} onUpdateFont={onUpdateFont} />\r\n                <SlideSocial brand={brand} />\r\n                <SlideOutdoor brand={brand} />\r\n                <SlideMockups brand={brand} />\r\n                <SlidePitchDeck brand={brand} />\r\n                <SlideGuidelines brand={brand} />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const mode = isDark ? 'dark' : 'light';\r\n    const tokens = brand.theme.tokens[mode];\r\n\r\n    const copyToClipboard = (text: string) => {\r\n        navigator.clipboard.writeText(text);\r\n        setCopiedHex(text);\r\n        setTimeout(() => setCopiedHex(null), 1500);\r\n    };\r\n\r\n    return (\r\n        <div className=\"w-full max-w-[1600px] mx-auto p-4 md:p-8\">\r\n            <div className=\"grid grid-cols-1 md:grid-cols-12 gap-4 md:gap-6 auto-rows-[minmax(180px,auto)]\">\r\n\r\n                {/* 1. Main Identity Card (Tall) - The \"Poster\" with Gradient Canvas */}\r\n                <motion.div\r\n                    whileHover={{ scale: 1.005 }}\r\n                    onClick={() => setViewMode?.('presentation')}\r\n                    className=\"md:col-span-4 md:row-span-2 rounded-[2.5rem] overflow-hidden relative cursor-pointer group shadow-2xl transition-all border border-black/5\"\r\n                    style={{\r\n                        background: tokens.gradient\r\n                            ? `linear-gradient(145deg, ${tokens.gradient[0]}, ${tokens.gradient[1]})`\r\n                            : tokens.bg\r\n                    }}\r\n                >\r\n                    {/* ... Background Layers ... */}\r\n                    <div\r\n                        className=\"absolute top-0 left-1/2 -translate-x-1/2 w-[120%] h-[60%] bg-[radial-gradient(ellipse_at_top,rgba(255,255,255,0.4)_0%,transparent_70%)] pointer-events-none mix-blend-overlay\"\r\n                    />\r\n                    <div\r\n                        className=\"absolute inset-0 opacity-[0.03] pointer-events-none mix-blend-overlay\"\r\n                        style={{\r\n                            backgroundImage: 'url(\"data:image/svg+xml,%3Csvg viewBox=\\'0 0 400 400\\' xmlns=\\'http://www.w3.org/2000/svg\\'%3E%3Cfilter id=\\'noise\\'%3E%3CfeTurbulence type=\\'fractalNoise\\' baseFrequency=\\'0.9\\' numOctaves=\\'3\\' stitchTiles=\\'stitch\\'/%3E%3C/filter%3E%3Crect width=\\'100%25\\' height=\\'100%25\\' filter=\\'url(%23noise)\\'/%3E%3C/svg%3E\")',\r\n                        }}\r\n                    />\r\n\r\n                    {/* View Details Overlay */}\r\n                    <div className=\"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors z-20 flex items-center justify-center pointer-events-none\">\r\n                        <div className=\"opacity-0 group-hover:opacity-100 transition-all transform scale-95 group-hover:scale-100 bg-white/20 backdrop-blur-md border border-white/30 text-white px-4 py-2 rounded-full text-xs font-semibold flex items-center gap-2\">\r\n                            <span>View Brand Deck</span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Tweak Panel Popover */}\r\n                    {isTweakPanelOpen && onUpdateBrand && (\r\n                        <div\r\n                            className=\"absolute top-20 right-4 z-50 cursor-default\"\r\n                            onClick={(e) => e.stopPropagation()}\r\n                        >\r\n                            <LogoTweakPanel\r\n                                brand={brand}\r\n                                onUpdateBrand={onUpdateBrand}\r\n                                onClose={() => setIsTweakPanelOpen(false)}\r\n                            />\r\n                        </div>\r\n                    )}\r\n\r\n                    <div className=\"absolute inset-0 flex flex-col justify-between p-10\">\r\n                        {/* Header */}\r\n                        <div className=\"flex justify-between items-start relative z-30\">\r\n                            <div className=\"w-16 h-16 rounded-full flex items-center justify-center bg-white/10 backdrop-blur-sm\">\r\n                                <div className=\"w-8 h-8 relative\">\r\n                                    <LogoComposition\r\n                                        brand={brand}\r\n                                        overrideColors={{ primary: tokens.gradient ? '#FFFFFF' : tokens.text }}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Actions overlay */}\r\n                            <div\r\n                                className=\"flex bg-white/10 backdrop-blur-md rounded-2xl p-1 border border-white/20\"\r\n                                onClick={(e) => e.stopPropagation()}\r\n                            >\r\n                                <button\r\n                                    onClick={(e) => { e.stopPropagation(); onShuffleLogo?.(); }}\r\n                                    className=\"p-2 hover:bg-white/20 rounded-xl transition-all text-white/80 hover:text-white\"\r\n                                    title=\"Shuffle Selection\"\r\n                                >\r\n                                    <RefreshCw className=\"w-4 h-4\" />\r\n                                </button>\r\n                                {onUpdateBrand && (\r\n                                    <button\r\n                                        onClick={(e) => {\r\n                                            e.stopPropagation();\r\n                                            setIsTweakPanelOpen(!isTweakPanelOpen);\r\n                                        }}\r\n                                        className={cn(\r\n                                            \"p-2 hover:bg-white/20 rounded-xl transition-all text-white/80 hover:text-white border-l border-white/10\",\r\n                                            isTweakPanelOpen && \"bg-white/20 text-white\"\r\n                                        )}\r\n                                        title=\"Fine Tune\"\r\n                                    >\r\n                                        <SlidersHorizontal className=\"w-4 h-4\" />\r\n                                    </button>\r\n                                )}\r\n                                {onVariations && (\r\n                                    <button\r\n                                        onClick={(e) => { e.stopPropagation(); onVariations(); }}\r\n                                        className=\"p-2 hover:bg-white/20 rounded-xl transition-all text-white/80 hover:text-white flex items-center gap-2 px-3 border-l border-white/10\"\r\n                                        title=\"Explore Variations\"\r\n                                    >\r\n                                        <Shuffle className=\"w-4 h-4\" />\r\n                                        <span className=\"text-[10px] font-bold uppercase tracking-wider\">Variations</span>\r\n                                    </button>\r\n                                )}\r\n\r\n                                <div className=\"border-l border-white/10 pl-1 ml-1\">\r\n                                    <ExportBrandKit\r\n                                        brand={brand}\r\n                                        className=\"bg-transparent text-white/80 hover:text-white hover:bg-white/20 rounded-xl shadow-none p-2 h-auto text-[0px] w-auto border-none\"\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Centerpiece - Lettermark Logo */}\r\n                        <div className=\"flex-1 flex flex-col items-center justify-center text-center space-y-6\">\r\n                            {/* Combined Logo: Shape + Initial */}\r\n                            <motion.div\r\n                                layoutId=\"main-logo\"\r\n                                className=\"w-48 h-48 relative drop-shadow-2xl\"\r\n                            >\r\n                                <LogoComposition\r\n                                    brand={brand}\r\n                                    overrideColors={tokens.gradient ? { primary: '#FFFFFF' } : undefined}\r\n                                />\r\n                            </motion.div>\r\n\r\n                            <div className=\"space-y-2\">\r\n                                <h1\r\n                                    className=\"text-5xl font-bold tracking-tighter\"\r\n                                    style={{ color: tokens.gradient ? '#FFFFFF' : tokens.text }}\r\n                                >\r\n                                    {brand.name}\r\n                                </h1>\r\n                                <p\r\n                                    className=\"text-lg font-medium opacity-70 tracking-wide uppercase\"\r\n                                    style={{ color: tokens.gradient ? '#FFFFFF' : tokens.text }}\r\n                                >\r\n                                    The {brand.vibe} Collection\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Footer */}\r\n                        <div className=\"flex justify-between items-end border-t border-white/10 pt-6\">\r\n                            <div className=\"space-y-1\">\r\n                                <p className=\"text-xs uppercase tracking-widest opacity-60\" style={{ color: tokens.gradient ? '#FFFFFF' : tokens.text }}>Est. 2024</p>\r\n                                <p className=\"text-xs uppercase tracking-widest opacity-60\" style={{ color: tokens.gradient ? '#FFFFFF' : tokens.text }}>San Francisco, CA</p>\r\n                            </div>\r\n                            <div className=\"text-xs font-mono opacity-50\" style={{ color: tokens.gradient ? '#FFFFFF' : tokens.text }}>\r\n                                {brand.id.slice(0, 8)}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </motion.div>\r\n\r\n                {/* 2. Construction / Blueprint View */}\r\n                {/* Spans 5 columns on Desktop to create the \"Hero Feature\" look alongside the 4-col palette below */}\r\n                <div className=\"md:col-span-5 md:row-span-1 h-[320px] bg-white rounded-[2.5rem] overflow-hidden border border-stone-200 relative group shadow-sm\">\r\n                    <LogoConstruction brand={brand} className=\"w-full h-full\" />\r\n                </div>\r\n\r\n                {/* Logo Block - Large */}\r\n                <div className=\"col-span-2 row-span-2 md:col-span-2 md:row-span-1 bg-white rounded-3xl p-6 md:p-8 flex items-center justify-between overflow-hidden relative group hover:shadow-xl transition-all duration-500 border border-stone-100\">\r\n                    <div className=\"flex items-center gap-6 md:gap-8 z-10 w-full\">\r\n                        <div className=\"w-24 h-24 md:w-28 md:h-28 shrink-0 relative group/logo\">\r\n                            <LogoComposition brand={brand} />\r\n                            {/* Color Cycler for Logo */}\r\n                            <button\r\n                                onClick={(e) => { e.stopPropagation(); onCycleColor?.(); }}\r\n                                className=\"absolute -bottom-2 -right-2 p-2 bg-stone-900 text-white rounded-full opacity-0 group-hover/logo:opacity-100 transition-all shadow-lg hover:scale-110\"\r\n                                title=\"Cycle Color\"\r\n                            >\r\n                                <RefreshCw className=\"w-3 h-3\" />\r\n                            </button>\r\n                        </div>\r\n                        <div className=\"flex flex-col gap-1 min-w-0\">\r\n                            <h2 className={cn(\"text-4xl md:text-5xl font-bold tracking-tight text-stone-950 truncate\", brand.font.heading)}>\r\n                                {brand.name}\r\n                            </h2>\r\n                            <p className=\"text-sm font-mono text-stone-400 uppercase tracking-widest pl-0.5\">\r\n                                {brand.logoLayout === 'generative' ? 'Generative Mark' : 'Brand Mark'}\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Background Pattern */}\r\n                    <div className=\"absolute right-0 bottom-0 opacity-[0.03] pointer-events-none transform translate-y-1/3 translate-x-1/4 scale-150\">\r\n                        <LogoComposition brand={brand} />\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Safari Browser Mockup - Shows Favicon & Website Preview */}\r\n                <div className=\"md:col-span-8 md:row-span-1 h-[380px] bg-stone-100 rounded-[2.5rem] overflow-hidden border border-stone-200 relative group p-6 flex items-center justify-center\">\r\n                    <SafariBrowserMockup brand={brand} className=\"w-full max-w-3xl shadow-2xl\" isDark={isDark} />\r\n                </div>\r\n                {/* 3. Color Palette - 4 Core Colors */}\r\n                <div className=\"md:col-span-4 md:row-span-1 h-[320px] rounded-[2.5rem] shadow-xl overflow-hidden border border-stone-200\">\r\n                    <ColorPaletteHorizontal\r\n                        colors={[\r\n                            { label: 'Background', hex: tokens.bg },\r\n                            { label: 'Primary', hex: tokens.primary },\r\n                            { label: 'Surface', hex: tokens.surface },\r\n                            { label: 'Text', hex: tokens.text },\r\n                        ]}\r\n                        className=\"h-full\"\r\n                    />\r\n                </div>\r\n\r\n                {/* 3.5. iPhone Home Screen with App Icon */}\r\n                <div className=\"md:col-span-4 md:row-span-1 h-[320px] rounded-[2.5rem] shadow-xl overflow-hidden border border-stone-200\">\r\n                    <MockupIPhoneHome brand={brand} isDark={isDark} />\r\n                </div>\r\n\r\n                {/* 4. Mobile Mockup - Context */}\r\n                <div className=\"md:col-span-3 md:row-span-1 h-[320px] rounded-[2.5rem] shadow-xl overflow-hidden flex items-center justify-center bg-stone-100 border border-stone-200 relative\">\r\n                    <div className=\"absolute inset-0 opacity-10\"\r\n                        style={{ backgroundImage: 'radial-gradient(circle at center, #000 1px, transparent 1px)', backgroundSize: '16px 16px' }}\r\n                    />\r\n                    <div className=\"scale-[0.8] origin-center shadow-2xl rounded-[2.5rem]\">\r\n                        <MockupDevice brand={brand} />\r\n                    </div>\r\n                </div>\r\n\r\n                {/* 5. Credit Card Mockup */}\r\n                <div\r\n                    className=\"md:col-span-5 md:row-span-1 h-[320px] rounded-[2.5rem] shadow-xl overflow-hidden border border-stone-200 relative\"\r\n                    style={{ backgroundColor: tokens.bg }}\r\n                >\r\n                    <MockupCreditCard brand={brand} isDark={isDark} />\r\n                </div>\r\n\r\n                {/* 6. Business Cards */}\r\n                <div className=\"md:col-span-4 md:row-span-1 h-[320px] rounded-[2.5rem] shadow-xl overflow-hidden bg-stone-50 border border-stone-200 flex items-center justify-center\">\r\n                    <Mockup3DCard brand={brand} stacked />\r\n                </div>\r\n\r\n                {/* 7. ID Badge Mockup */}\r\n                <div\r\n                    className=\"md:col-span-4 md:row-span-1 h-[320px] rounded-[2.5rem] shadow-xl overflow-hidden border border-stone-200\"\r\n                    style={{ background: `linear-gradient(135deg, ${tokens.surface} 0%, ${tokens.bg} 100%)` }}\r\n                >\r\n                    <MockupIDBadge brand={brand} isDark={isDark} />\r\n                </div>\r\n\r\n                {/* 6. Typography Spec - The \"Type Specimen\" */}\r\n                <div\r\n                    onClick={onSwapFont}\r\n                    className=\"md:col-span-12 md:row-span-1 h-auto min-h-[400px] rounded-[2.5rem] shadow-xl overflow-hidden relative cursor-pointer group hover:bg-stone-50 transition-colors bg-white border border-stone-200\"\r\n                >\r\n                    <div className=\"p-8 md:p-12 flex flex-col h-full\">\r\n                        {/* Header */}\r\n                        <div className=\"flex justify-between items-start mb-12\">\r\n                            <div>\r\n                                <h3 className=\"text-[10px] font-bold text-stone-400 uppercase tracking-[0.2em] mb-2\">Type Scale</h3>\r\n                                <p className=\"text-stone-500 font-mono text-xs tracking-tight\">8 Styles ΓÇó {brand.font.name}</p>\r\n                            </div>\r\n                            <button\r\n                                onClick={(e) => {\r\n                                    e.stopPropagation();\r\n                                    setIsFontSelectorOpen(true);\r\n                                }}\r\n                                className=\"flex items-center gap-2 px-3 py-1.5 bg-stone-100 rounded-full group-hover:bg-stone-200 transition-colors duration-300\"\r\n                            >\r\n                                <span className=\"text-[10px] font-bold text-stone-500 uppercase tracking-wider\">Change Font</span>\r\n                                <RefreshCw className=\"w-4 h-4 text-stone-500 group-hover:rotate-180 transition-transform duration-500\" />\r\n                            </button>\r\n                        </div>\r\n\r\n                        {/* Type Scale Grid - 4 Columns */}\r\n                        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-12 items-baseline\">\r\n\r\n                            {/* Column 1: Display */}\r\n                            <div className=\"space-y-12\">\r\n                                <div className=\"group/item relative\">\r\n                                    <div className=\"flex items-baseline gap-3 mb-2\">\r\n                                        <span className=\"text-[10px] font-bold text-stone-300 uppercase tracking-wider\">H1</span>\r\n                                        <span className=\"text-[10px] font-mono text-stone-300\">ΓÇó 96px</span>\r\n                                    </div>\r\n                                    <p className={cn(\"text-8xl md:text-9xl leading-none text-stone-900\", brand.font.heading)}>Aa</p>\r\n                                </div>\r\n                                <div className=\"group/item relative\">\r\n                                    <div className=\"flex items-baseline gap-3 mb-2\">\r\n                                        <span className=\"text-[10px] font-bold text-stone-300 uppercase tracking-wider\">H2</span>\r\n                                        <span className=\"text-[10px] font-mono text-stone-300\">ΓÇó 60px</span>\r\n                                    </div>\r\n                                    <p className={cn(\"text-6xl md:text-7xl leading-tight text-stone-900 break-words\", brand.font.heading)}>Title</p>\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Column 2: Major Headings */}\r\n                            <div className=\"space-y-10 self-center\">\r\n                                <div className=\"group/item flex items-baseline justify-between border-b border-stone-100 pb-3\">\r\n                                    <p className={cn(\"text-5xl text-stone-900 leading-tight\", brand.font.heading)}>Heading 3</p>\r\n                                    <span className=\"text-[10px] font-mono text-stone-300 shrink-0 ml-4\">48px</span>\r\n                                </div>\r\n                                <div className=\"group/item flex items-baseline justify-between border-b border-stone-100 pb-3\">\r\n                                    <p className={cn(\"text-4xl text-stone-900 leading-tight\", brand.font.heading)}>Heading 4</p>\r\n                                    <span className=\"text-[10px] font-mono text-stone-300 shrink-0 ml-4\">36px</span>\r\n                                </div>\r\n                                <div className=\"group/item flex items-baseline justify-between border-b border-stone-100 pb-3\">\r\n                                    <p className={cn(\"text-3xl text-stone-900 leading-tight\", brand.font.heading)}>Heading 5</p>\r\n                                    <span className=\"text-[10px] font-mono text-stone-300 shrink-0 ml-4\">30px</span>\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Column 3: Minor Headings */}\r\n                            <div className=\"space-y-8 self-center\">\r\n                                <div className=\"group/item flex items-baseline justify-between border-b border-stone-100 pb-2\">\r\n                                    <p className=\"text-2xl font-semibold text-stone-900\">Heading 6</p>\r\n                                    <span className=\"text-[10px] font-mono text-stone-300 shrink-0 ml-4\">24px</span>\r\n                                </div>\r\n                                <div className=\"group/item flex items-baseline justify-between border-b border-stone-100 pb-2\">\r\n                                    <p className=\"text-xl font-medium text-stone-800\">Heading 7</p>\r\n                                    <span className=\"text-[10px] font-mono text-stone-300 shrink-0 ml-4\">20px</span>\r\n                                </div>\r\n                                <div className=\"group/item flex items-baseline justify-between border-b border-stone-100 pb-2\">\r\n                                    <p className=\"text-lg font-medium text-stone-800\">Heading 8</p>\r\n                                    <span className=\"text-[10px] font-mono text-stone-300 shrink-0 ml-4\">18px</span>\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Column 4: Body & UI */}\r\n                            <div className=\"space-y-8\">\r\n                                <div>\r\n                                    <p className=\"text-base leading-relaxed text-stone-600 mb-3\">\r\n                                        The quick brown fox jumps over the lazy dog. A good typography system establishes hierarchy and improves readability across all devices.\r\n                                    </p>\r\n                                    <div className=\"flex items-center gap-4\">\r\n                                        <span className=\"text-[10px] font-mono text-stone-300\">Body ΓÇó 16px</span>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"pt-8 border-t border-stone-100\">\r\n                                    <p className=\"text-xs text-stone-400 uppercase tracking-widest font-bold mb-2\">\r\n                                        Caption Text\r\n                                    </p>\r\n                                    <div className=\"flex items-center gap-2\">\r\n                                        <span className=\"text-[10px] font-mono text-stone-300\">Caption ΓÇó 12px</span>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n\r\n            <div id=\"section-guidelines\" className=\"mt-6 md:col-span-12 h-auto min-h-[200px] rounded-[2.5rem] shadow-xl overflow-hidden relative group hover:bg-stone-50 transition-colors bg-white border border-stone-200 p-8 md:p-12 flex flex-col md:flex-row items-center justify-between gap-8 animate-fade-in-up\">\r\n                <div>\r\n                    <div className=\"flex items-center gap-3 mb-2\">\r\n                        <h3 className=\"text-[10px] font-bold text-orange-500 uppercase tracking-[0.2em]\">Premium Asset</h3>\r\n                        <span className=\"px-2 py-0.5 bg-orange-100 text-orange-700 text-[10px] font-bold rounded-full\">NEW</span>\r\n                    </div>\r\n                    <h2 className=\"text-3xl font-bold text-stone-900 mb-2\">Brand Guidelines</h2>\r\n                    <p className=\"text-stone-500 max-w-lg\">\r\n                        Get your complete brand manual. Includes clear space rules, color codes (HEX/CMYK), and typography hierarchy in a print-ready PDF.\r\n                    </p>\r\n                </div>\r\n                <div onClick={() => setViewMode?.('presentation')}>\r\n                    <Button className=\"bg-stone-900 text-white rounded-xl h-14 px-8 text-lg hover:scale-105 transition-all shadow-xl gap-3\">\r\n                        View Manual <ArrowUpEnd className=\"rotate-45\" size={20} />\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n\r\n            {/* 8. Social Media Kit Preview */}\r\n            <div id=\"section-social\" className=\"mt-12\">\r\n                <SocialMediaKit brand={brand} />\r\n            </div>\r\n\r\n            {/* FONT SELECTOR DIALOG */}\r\n            <FontSelector\r\n                isOpen={isFontSelectorOpen}\r\n                onClose={() => setIsFontSelectorOpen(false)}\r\n                currentFontId={brand.font.id}\r\n                onSelect={(font) => {\r\n                    onUpdateFont?.(font);\r\n                    // Also call onSwapFont if provided for legacy support, though we prefer onUpdateFont\r\n                }}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\landing\\AuthSection.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Mail' is defined but never used.","line":1,"column":30,"nodeType":null,"messageId":"unusedVar","endLine":1,"endColumn":34}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { ArrowRight, Github, Mail } from 'lucide-react';\r\nimport Image from 'next/image';\r\n\r\nexport function AuthSection() {\r\n    return (\r\n        <section className=\"flex flex-col lg:flex-row h-auto lg:h-[700px] border-y border-stone-200 bg-white\">\r\n            {/* 1. Visual Side (Half) */}\r\n            {/* 1. Visual Side (Half) - Aesthetic Image */}\r\n            <div className=\"w-full lg:w-1/2 relative bg-stone-900 overflow-hidden min-h-[400px] lg:min-h-0\">\r\n                <Image\r\n                    src=\"/auth-visual.jpg\"\r\n                    alt=\"Design Engineer Aesthetic\"\r\n                    fill\r\n                    className=\"object-cover\"\r\n                    priority\r\n                />\r\n                <div className=\"absolute inset-0 bg-black/10\" />\r\n            </div>\r\n\r\n            {/* 2. Auth Form Side (Half) */}\r\n            <div className=\"w-full lg:w-1/2 flex items-center justify-center p-8 lg:p-20\">\r\n                <div className=\"w-full max-w-md space-y-8\">\r\n                    <div className=\"text-center lg:text-left\">\r\n                        <h2 className=\"text-3xl font-bold tracking-tight text-stone-900\">\r\n                            Join the <span className=\"text-[#FF4500]\">Design Engineer</span> Club.\r\n                        </h2>\r\n                        <p className=\"mt-2 text-stone-500\">\r\n                            Sign up to save your generated brands and export premium assets.\r\n                        </p>\r\n                    </div>\r\n\r\n                    {/* Social Auth Buttons */}\r\n                    <div className=\"grid grid-cols-2 gap-4\">\r\n                        <button className=\"flex items-center justify-center gap-2 px-4 py-3 border border-stone-200 rounded-xl hover:bg-stone-50 transition-colors font-medium text-sm\">\r\n                            <Github className=\"w-5 h-5\" />\r\n                            GitHub\r\n                        </button>\r\n                        <button className=\"flex items-center justify-center gap-2 px-4 py-3 border border-stone-200 rounded-xl hover:bg-stone-50 transition-colors font-medium text-sm\">\r\n                            <div className=\"w-5 h-5 flex items-center justify-center font-bold text-lg bg-red-500 rounded-full text-white leading-none\">G</div>\r\n                            Google\r\n                        </button>\r\n                    </div>\r\n\r\n                    <div className=\"relative\">\r\n                        <div className=\"absolute inset-0 flex items-center\">\r\n                            <span className=\"w-full border-t border-stone-200\" />\r\n                        </div>\r\n                        <div className=\"relative flex justify-center text-xs uppercase\">\r\n                            <span className=\"bg-white px-2 text-stone-400 font-medium tracking-wide\">Or continue with email</span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Email Form */}\r\n                    <form className=\"space-y-4\">\r\n                        <div>\r\n                            <label htmlFor=\"email\" className=\"block text-sm font-medium text-stone-700 mb-1\">Email address</label>\r\n                            <input\r\n                                type=\"email\"\r\n                                id=\"email\"\r\n                                className=\"w-full px-4 py-3 rounded-lg border border-stone-200 focus:ring-2 focus:ring-[#FF4500] focus:border-transparent outline-none transition-all\"\r\n                                placeholder=\"you@example.com\"\r\n                            />\r\n                        </div>\r\n                        <div>\r\n                            <label htmlFor=\"password\" className=\"block text-sm font-medium text-stone-700 mb-1\">Password</label>\r\n                            <input\r\n                                type=\"password\"\r\n                                id=\"password\"\r\n                                className=\"w-full px-4 py-3 rounded-lg border border-stone-200 focus:ring-2 focus:ring-[#FF4500] focus:border-transparent outline-none transition-all\"\r\n                                placeholder=\"ΓÇóΓÇóΓÇóΓÇóΓÇóΓÇóΓÇóΓÇó\"\r\n                            />\r\n                        </div>\r\n\r\n                        <button\r\n                            type=\"button\" // Prevent submission for now\r\n                            className=\"w-full py-4 bg-stone-900 text-white rounded-xl font-bold hover:bg-stone-800 transition-all shadow-xl active:scale-95 flex items-center justify-center gap-2\"\r\n                        >\r\n                            Create Account\r\n                            <ArrowRight className=\"w-4 h-4\" />\r\n                        </button>\r\n                    </form>\r\n\r\n                    <p className=\"text-center text-sm text-stone-500\">\r\n                        Already have an account? <span className=\"font-bold text-stone-900 cursor-pointer hover:underline\">Log in</span>\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\landing\\FAQ.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\landing\\HeroAnimation.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'useSpring' is defined but never used.","line":3,"column":51,"nodeType":null,"messageId":"unusedVar","endLine":3,"endColumn":60},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'THEMES' is defined but never used.","line":6,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":6,"endColumn":16},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'FONT_PAIRINGS' is defined but never used.","line":8,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":23},{"ruleId":"@typescript-eslint/ban-ts-comment","severity":2,"message":"Use \"@ts-expect-error\" instead of \"@ts-ignore\", as \"@ts-ignore\" will do nothing if the following line is error-free.","line":18,"column":9,"nodeType":"Line","messageId":"tsIgnoreInsteadOfExpectError","endLine":18,"endColumn":48,"suggestions":[{"messageId":"replaceTsIgnoreWithTsExpectError","fix":{"range":[647,686],"text":"// @ts-expect-error - Simplification for demo"},"desc":"Replace \"@ts-ignore\" with \"@ts-expect-error\"."}]},{"ruleId":"@typescript-eslint/ban-ts-comment","severity":2,"message":"Use \"@ts-expect-error\" instead of \"@ts-ignore\", as \"@ts-ignore\" will do nothing if the following line is error-free.","line":46,"column":9,"nodeType":"Line","messageId":"tsIgnoreInsteadOfExpectError","endLine":46,"endColumn":48,"suggestions":[{"messageId":"replaceTsIgnoreWithTsExpectError","fix":{"range":[1636,1675],"text":"// @ts-expect-error - Simplification for demo"},"desc":"Replace \"@ts-ignore\" with \"@ts-expect-error\"."}]},{"ruleId":"@typescript-eslint/ban-ts-comment","severity":2,"message":"Use \"@ts-expect-error\" instead of \"@ts-ignore\", as \"@ts-ignore\" will do nothing if the following line is error-free.","line":74,"column":9,"nodeType":"Line","messageId":"tsIgnoreInsteadOfExpectError","endLine":74,"endColumn":48,"suggestions":[{"messageId":"replaceTsIgnoreWithTsExpectError","fix":{"range":[2658,2697],"text":"// @ts-expect-error - Simplification for demo"},"desc":"Replace \"@ts-ignore\" with \"@ts-expect-error\"."}]},{"ruleId":"@typescript-eslint/ban-ts-comment","severity":2,"message":"Use \"@ts-expect-error\" instead of \"@ts-ignore\", as \"@ts-ignore\" will do nothing if the following line is error-free.","line":102,"column":9,"nodeType":"Line","messageId":"tsIgnoreInsteadOfExpectError","endLine":102,"endColumn":48,"suggestions":[{"messageId":"replaceTsIgnoreWithTsExpectError","fix":{"range":[3682,3721],"text":"// @ts-expect-error - Simplification for demo"},"desc":"Replace \"@ts-ignore\" with \"@ts-expect-error\"."}]},{"ruleId":"@typescript-eslint/ban-ts-comment","severity":2,"message":"Use \"@ts-expect-error\" instead of \"@ts-ignore\", as \"@ts-ignore\" will do nothing if the following line is error-free.","line":130,"column":9,"nodeType":"Line","messageId":"tsIgnoreInsteadOfExpectError","endLine":130,"endColumn":48,"suggestions":[{"messageId":"replaceTsIgnoreWithTsExpectError","fix":{"range":[4697,4736],"text":"// @ts-expect-error - Simplification for demo"},"desc":"Replace \"@ts-ignore\" with \"@ts-expect-error\"."}]}],"suppressedMessages":[],"errorCount":5,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\nimport React, { useState, useEffect, useRef } from \"react\";\r\nimport { motion, AnimatePresence, useMotionValue, useSpring, useTransform } from \"framer-motion\";\r\nimport { LogoComposition } from \"@/components/logo-engine/LogoComposition\";\r\nimport { BrandIdentity } from '@/lib/data';\r\nimport { THEMES } from '@/lib/themes';\r\nimport { SHAPES } from '@/lib/shapes';\r\nimport { FONT_PAIRINGS } from '@/lib/typography';\r\n\r\n// 1. PREMIUM BRAND DEMOS\r\nconst DEMO_BRANDS: BrandIdentity[] = [\r\n    {\r\n        id: \"demo-1\",\r\n        name: \"Lumina\",\r\n        vibe: \"Tech\",\r\n        generationSeed: 12345,\r\n        createdAt: new Date(),\r\n        // @ts-ignore - Simplification for demo\r\n        font: {\r\n            id: 'tech',\r\n            name: 'Inter',\r\n            heading: 'Inter',\r\n            body: 'Inter',\r\n            tags: ['tech']\r\n        },\r\n        theme: {\r\n            id: 'tech',\r\n            name: 'Tech',\r\n            description: 'A modern tech theme.',\r\n            tags: ['tech'],\r\n            tokens: {\r\n                light: { bg: '#ffffff', surface: '#f4f4f5', text: '#18181b', primary: '#0ea5e9', accent: '#38bdf8', border: '#e4e4e7', muted: '#71717a' },\r\n                dark: { bg: '#09090b', surface: '#18181b', text: '#fafafa', primary: '#38bdf8', accent: '#0ea5e9', border: '#27272a', muted: '#a1a1aa' }\r\n            }\r\n        },\r\n        shape: SHAPES[3], // Hexagon\r\n        logoAssemblerLayout: 'stacked',\r\n        selectedLogoIndex: 0\r\n    },\r\n    {\r\n        id: \"demo-2\",\r\n        name: \"Velvet\",\r\n        vibe: \"Elegant\",\r\n        generationSeed: 12345,\r\n        createdAt: new Date(),\r\n        // @ts-ignore - Simplification for demo\r\n        font: {\r\n            id: 'luxury',\r\n            name: 'Instrument Serif',\r\n            heading: 'Instrument Serif',\r\n            body: 'DM Sans',\r\n            tags: ['luxury']\r\n        },\r\n        theme: {\r\n            id: 'luxury',\r\n            name: 'Luxury',\r\n            description: 'An elegant luxury theme.',\r\n            tags: ['luxury'],\r\n            tokens: {\r\n                light: { bg: '#fdf4ff', surface: '#fae8ff', text: '#4a044e', primary: '#d946ef', accent: '#f0abfc', border: '#f5d0fe', muted: '#a855f7' },\r\n                dark: { bg: '#2e1065', surface: '#4c1d95', text: '#faf5ff', primary: '#d8b4fe', accent: '#c084fc', border: '#5b21b6', muted: '#a78bfa' }\r\n            }\r\n        },\r\n        shape: SHAPES[5], // Star\r\n        logoAssemblerLayout: 'icon_left',\r\n        selectedLogoIndex: 0\r\n    },\r\n    {\r\n        id: \"demo-3\",\r\n        name: \"Forge\",\r\n        vibe: \"Bold\",\r\n        generationSeed: 12345,\r\n        createdAt: new Date(),\r\n        // @ts-ignore - Simplification for demo\r\n        font: {\r\n            id: 'bold',\r\n            name: 'Montserrat',\r\n            heading: 'Space Grotesk',\r\n            body: 'Inter',\r\n            tags: ['bold']\r\n        },\r\n        theme: {\r\n            id: 'industrial',\r\n            name: 'Industrial',\r\n            description: 'A bold, industrial theme.',\r\n            tags: ['industrial'],\r\n            tokens: {\r\n                light: { bg: '#f5f5f4', surface: '#e7e5e4', text: '#0c0a09', primary: '#ea580c', accent: '#f97316', border: '#d6d3d1', muted: '#78716c' },\r\n                dark: { bg: '#1c1917', surface: '#292524', text: '#fafaf9', primary: '#f97316', accent: '#ea580c', border: '#44403c', muted: '#a8a29e' }\r\n            }\r\n        },\r\n        shape: SHAPES[1], // Square\r\n        logoAssemblerLayout: 'stacked',\r\n        selectedLogoIndex: 0\r\n    },\r\n    {\r\n        id: \"demo-4\",\r\n        name: \"Zenith\",\r\n        vibe: \"Minimal\",\r\n        generationSeed: 12345,\r\n        createdAt: new Date(),\r\n        // @ts-ignore - Simplification for demo\r\n        font: {\r\n            id: 'minimal',\r\n            name: 'Manrope',\r\n            heading: 'Manrope',\r\n            body: 'Manrope',\r\n            tags: ['minimal']\r\n        },\r\n        theme: {\r\n            id: 'minimal',\r\n            name: 'Minimal',\r\n            description: 'A clean, minimal theme.',\r\n            tags: ['minimal'],\r\n            tokens: {\r\n                light: { bg: '#ffffff', surface: '#f7f7f7', text: '#111111', primary: '#111111', accent: '#333333', border: '#eaeaea', muted: '#888888' },\r\n                dark: { bg: '#111111', surface: '#222222', text: '#ffffff', primary: '#ffffff', accent: '#cccccc', border: '#333333', muted: '#999999' }\r\n            }\r\n        },\r\n        shape: SHAPES[0], // Circle\r\n        logoAssemblerLayout: 'icon_left',\r\n        selectedLogoIndex: 0\r\n    },\r\n    {\r\n        id: \"demo-5\",\r\n        name: \"Solstice\",\r\n        vibe: \"Nature\",\r\n        generationSeed: 12345,\r\n        createdAt: new Date(),\r\n        // @ts-ignore - Simplification for demo\r\n        font: {\r\n            id: 'nature',\r\n            name: 'Outfit',\r\n            heading: 'Manrope',\r\n            body: 'Inter',\r\n            tags: ['nature']\r\n        },\r\n        theme: {\r\n            id: 'nature',\r\n            name: 'Nature',\r\n            description: 'A fresh, nature-inspired theme.',\r\n            tags: ['nature'],\r\n            tokens: {\r\n                light: { bg: '#f0fdf4', surface: '#dcfce7', text: '#14532d', primary: '#16a34a', accent: '#22c55e', border: '#bbf7d0', muted: '#4ade80' },\r\n                dark: { bg: '#052e16', surface: '#14532d', text: '#f0fdf4', primary: '#4ade80', accent: '#22c55e', border: '#15803d', muted: '#86efac' }\r\n            }\r\n        },\r\n        shape: SHAPES[4], // Leaf like\r\n        logoAssemblerLayout: 'stacked',\r\n        selectedLogoIndex: 0\r\n    }\r\n];\r\n\r\nexport default function HeroAnimation() {\r\n    const [index, setIndex] = useState(0);\r\n    const cardRef = useRef<HTMLDivElement>(null);\r\n\r\n    // 3D Tilt Logic\r\n    const x = useMotionValue(0);\r\n    const y = useMotionValue(0);\r\n    const rotateX = useTransform(y, [-100, 100], [10, -10]);\r\n    const rotateY = useTransform(x, [-100, 100], [-10, 10]);\r\n\r\n    // Cycle every 3 seconds\r\n    useEffect(() => {\r\n        const timer = setInterval(() => {\r\n            setIndex((prev) => (prev + 1) % DEMO_BRANDS.length);\r\n        }, 4000);\r\n        return () => clearInterval(timer);\r\n    }, []);\r\n\r\n    const handleMouseMove = (e: React.MouseEvent<HTMLDivElement>) => {\r\n        if (!cardRef.current) return;\r\n        const rect = cardRef.current.getBoundingClientRect();\r\n        const width = rect.width;\r\n        const height = rect.height;\r\n        const mouseX = e.clientX - rect.left;\r\n        const mouseY = e.clientY - rect.top;\r\n        const xPct = mouseX / width - 0.5;\r\n        const yPct = mouseY / height - 0.5;\r\n        x.set(xPct * 200);\r\n        y.set(yPct * 200);\r\n    };\r\n\r\n    const handleMouseLeave = () => {\r\n        x.set(0);\r\n        y.set(0);\r\n    };\r\n\r\n    const brand = DEMO_BRANDS[index];\r\n    const tokens = brand.theme.tokens.light;\r\n\r\n    return (\r\n        <div className=\"relative w-full max-w-lg aspect-square perspective-[1000px] flex items-center justify-center -mr-12 md:mr-0 scale-90 md:scale-100\">\r\n            {/* Background elements for depth */}\r\n            <div className=\"absolute inset-0 bg-gradient-to-tr from-stone-100/50 to-stone-50/0 rounded-[3rem] -z-20 blur-3xl opacity-60\" />\r\n\r\n            <motion.div\r\n                ref={cardRef}\r\n                style={{\r\n                    rotateX: rotateX,\r\n                    rotateY: rotateY,\r\n                    transformStyle: \"preserve-3d\"\r\n                }}\r\n                onMouseMove={handleMouseMove}\r\n                onMouseLeave={handleMouseLeave}\r\n                className=\"relative cursor-pointer\"\r\n            >\r\n                {/* Floating Animation Wrapper */}\r\n                <motion.div\r\n                    animate={{ y: [0, -10, 0] }}\r\n                    transition={{ duration: 6, repeat: Infinity, ease: \"easeInOut\" }}\r\n                    className=\"relative\"\r\n                >\r\n                    {/* THE BUSINESS CARD MOCKUP */}\r\n                    <div className=\"w-[380px] h-[240px] rounded-2xl shadow-2xl relative overflow-hidden bg-white border border-stone-200/50 transition-colors duration-500\">\r\n                        {/* Dynamic Background */}\r\n                        <AnimatePresence mode=\"popLayout\">\r\n                            <motion.div\r\n                                key={`bg-${brand.id}`}\r\n                                initial={{ opacity: 0 }}\r\n                                animate={{ opacity: 1 }}\r\n                                exit={{ opacity: 0 }}\r\n                                transition={{ duration: 0.8 }}\r\n                                className=\"absolute inset-0\"\r\n                                style={{ backgroundColor: tokens.bg }}\r\n                            >\r\n                                {/* Abstract Texture */}\r\n                                <div className=\"absolute inset-0 opacity-10\"\r\n                                    style={{\r\n                                        backgroundImage: `radial-gradient(${tokens.primary} 1.5px, transparent 1.5px)`,\r\n                                        backgroundSize: '24px 24px'\r\n                                    }}\r\n                                />\r\n                                <div className=\"absolute top-0 right-0 w-64 h-64 bg-gradient-to-b from-white/20 to-transparent mix-blend-overlay rotate-12 translate-x-10 -translate-y-10\" />\r\n                            </motion.div>\r\n                        </AnimatePresence>\r\n\r\n                        {/* Content Container */}\r\n                        <div className=\"absolute inset-0 flex flex-col items-center justify-center p-8 z-10\">\r\n                            <AnimatePresence mode=\"wait\">\r\n                                <motion.div\r\n                                    key={brand.id}\r\n                                    initial={{ opacity: 0, scale: 0.9, y: 10, filter: 'blur(4px)' }}\r\n                                    animate={{ opacity: 1, scale: 1, y: 0, filter: 'blur(0px)' }}\r\n                                    exit={{ opacity: 0, scale: 1.05, y: -10, filter: 'blur(4px)' }}\r\n                                    transition={{ duration: 0.5, ease: \"circOut\" }}\r\n                                    className=\"flex flex-col items-center gap-6\"\r\n                                >\r\n                                    {/* Logo */}\r\n                                    <div className=\"w-24 h-24 drop-shadow-lg transform hover:scale-105 transition-transform duration-300\">\r\n                                        <LogoComposition\r\n                                            brand={brand}\r\n                                            layout=\"generative\"\r\n                                            className=\"w-full h-full\"\r\n                                        />\r\n                                    </div>\r\n\r\n                                    {/* Text Info */}\r\n                                    <div className=\"text-center space-y-1\">\r\n                                        <h3\r\n                                            className=\"text-2xl font-bold tracking-tight\"\r\n                                            style={{ color: tokens.text, fontFamily: brand.font.name }}\r\n                                        >\r\n                                            {brand.name}\r\n                                        </h3>\r\n                                        <p\r\n                                            className=\"text-[10px] font-bold tracking-[0.2em] uppercase opacity-60\"\r\n                                            style={{ color: tokens.muted }}\r\n                                        >\r\n                                            {brand.vibe} IDENTITY\r\n                                        </p>\r\n                                    </div>\r\n                                </motion.div>\r\n                            </AnimatePresence>\r\n                        </div>\r\n\r\n                        {/* Shining Glare Effect */}\r\n                        <div className=\"absolute inset-0 bg-gradient-to-tr from-white/0 via-white/10 to-white/0 pointer-events-none mix-blend-overlay\" />\r\n                    </div>\r\n\r\n                    {/* Stacked Cards for depth (Visual Flourish) */}\r\n                    <div className=\"absolute -z-10 top-4 left-4 w-full h-full bg-stone-900/5 rounded-2xl blur-sm transform translate-y-2 opacity-50\" />\r\n\r\n                </motion.div>\r\n            </motion.div>\r\n\r\n            {/* Floating UI Badges */}\r\n            <div className=\"absolute -right-8 top-12 bg-white/90 backdrop-blur px-4 py-2 rounded-lg shadow-lg border border-stone-100 animate-in slide-in-from-left-4 fade-in duration-700 delay-300 flex items-center gap-2\">\r\n                <div className=\"w-2 h-2 rounded-full bg-green-500 animate-pulse\" />\r\n                <span className=\"text-xs font-bold text-stone-600\">Generated in 1.2s</span>\r\n            </div>\r\n\r\n            <div className=\"absolute -left-4 bottom-20 bg-white/90 backdrop-blur px-4 py-2 rounded-lg shadow-lg border border-stone-100 animate-in slide-in-from-right-4 fade-in duration-700 delay-500\">\r\n                <span className=\"text-xs font-bold text-stone-600\">Vector Ready</span>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\landing\\LiveCounter.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\landing\\Pricing.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ShieldCheck' is defined but never used.","line":1,"column":20,"nodeType":null,"messageId":"unusedVar","endLine":1,"endColumn":31},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":11,"column":105,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[569,620],"text":"Build for free. Pay only when you&apos;re ready to ship."},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[569,620],"text":"Build for free. Pay only when you&lsquo;re ready to ship."},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[569,620],"text":"Build for free. Pay only when you&#39;re ready to ship."},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[569,620],"text":"Build for free. Pay only when you&rsquo;re ready to ship."},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":38,"column":136,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[2272,2342],"text":"Great for exploring ideas. You can generate forever, but can&apos;t export."},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[2272,2342],"text":"Great for exploring ideas. You can generate forever, but can&lsquo;t export."},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[2272,2342],"text":"Great for exploring ideas. You can generate forever, but can&#39;t export."},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[2272,2342],"text":"Great for exploring ideas. You can generate forever, but can&rsquo;t export."},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { Check, X, ShieldCheck } from \"lucide-react\";\r\nimport Link from \"next/link\";\r\n\r\nexport default function Pricing() {\r\n    return (\r\n        <section id=\"pricing\" className=\"py-16 md:py-24 px-4 md:px-6 bg-stone-50 border-t border-stone-200\">\r\n            <div className=\"max-w-4xl mx-auto\">\r\n\r\n                <div className=\"text-center mb-8 md:mb-12\">\r\n                    <h2 className=\"text-2xl md:text-3xl font-bold text-stone-950 tracking-tight mb-2\">Simple, Transparent Pricing.</h2>\r\n                    <p className=\"text-stone-500 text-sm md:text-base\">Build for free. Pay only when you're ready to ship.</p>\r\n                </div>\r\n\r\n                {/* PRICING GRID */}\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6\">\r\n\r\n                    {/* FREE TIER - The \"Anchor\" */}\r\n                    <div className=\"relative group\">\r\n                        <div className=\"absolute -inset-0.5 bg-stone-200 rounded-2xl opacity-50\"></div>\r\n                        <div className=\"relative bg-white border border-stone-200 rounded-xl overflow-hidden shadow-lg h-full flex flex-col\">\r\n\r\n                            {/* FREE HEADER */}\r\n                            <div className=\"bg-stone-100 p-6 border-b border-stone-200\">\r\n                                <div className=\"flex justify-between items-center\">\r\n                                    <div>\r\n                                        <h3 className=\"font-bold text-lg tracking-wide uppercase text-stone-700\">Explorer</h3>\r\n                                        <p className=\"text-stone-400 text-xs font-mono\">FOREVER FREE</p>\r\n                                    </div>\r\n                                    <div className=\"text-right\">\r\n                                        <span className=\"block text-2xl font-bold text-stone-950\">$0</span>\r\n                                        <span className=\"text-stone-400 text-xs\">no credit card</span>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* FREE BODY */}\r\n                            <div className=\"p-6 flex-1 flex flex-col\">\r\n                                <p className=\"text-stone-500 text-sm mb-6\">Great for exploring ideas. You can generate forever, but can't export.</p>\r\n\r\n                                <ul className=\"space-y-3 mb-6 flex-1\">\r\n                                    {/* INCLUDED */}\r\n                                    <li className=\"flex items-center gap-3 text-stone-700\">\r\n                                        <div className=\"w-4 h-4 rounded-full bg-green-100 flex items-center justify-center shrink-0\">\r\n                                            <Check className=\"w-2.5 h-2.5 text-green-700\" />\r\n                                        </div>\r\n                                        <span className=\"text-sm\">Unlimited AI Generations</span>\r\n                                    </li>\r\n                                    <li className=\"flex items-center gap-3 text-stone-700\">\r\n                                        <div className=\"w-4 h-4 rounded-full bg-green-100 flex items-center justify-center shrink-0\">\r\n                                            <Check className=\"w-2.5 h-2.5 text-green-700\" />\r\n                                        </div>\r\n                                        <span className=\"text-sm\">Live Preview & Mockups</span>\r\n                                    </li>\r\n                                    <li className=\"flex items-center gap-3 text-stone-700\">\r\n                                        <div className=\"w-4 h-4 rounded-full bg-green-100 flex items-center justify-center shrink-0\">\r\n                                            <Check className=\"w-2.5 h-2.5 text-green-700\" />\r\n                                        </div>\r\n                                        <span className=\"text-sm\">Basic PNG Exports</span>\r\n                                    </li>\r\n\r\n                                    {/* NOT INCLUDED - Psychological */}\r\n                                    <li className=\"flex items-center gap-3 text-stone-400\">\r\n                                        <div className=\"w-4 h-4 rounded-full bg-stone-100 flex items-center justify-center shrink-0\">\r\n                                            <X className=\"w-2.5 h-2.5 text-stone-400\" />\r\n                                        </div>\r\n                                        <span className=\"text-sm line-through\">SVG Vector Export</span>\r\n                                    </li>\r\n                                    <li className=\"flex items-center gap-3 text-stone-400\">\r\n                                        <div className=\"w-4 h-4 rounded-full bg-stone-100 flex items-center justify-center shrink-0\">\r\n                                            <X className=\"w-2.5 h-2.5 text-stone-400\" />\r\n                                        </div>\r\n                                        <span className=\"text-sm line-through\">Tailwind CSS Config</span>\r\n                                    </li>\r\n                                    <li className=\"flex items-center gap-3 text-stone-400\">\r\n                                        <div className=\"w-4 h-4 rounded-full bg-stone-100 flex items-center justify-center shrink-0\">\r\n                                            <X className=\"w-2.5 h-2.5 text-stone-400\" />\r\n                                        </div>\r\n                                        <span className=\"text-sm line-through\">Commercial License</span>\r\n                                    </li>\r\n                                </ul>\r\n\r\n                                <Link\r\n                                    href=\"/login\"\r\n                                    className=\"w-full bg-stone-100 hover:bg-stone-200 text-stone-700 font-bold py-3 rounded-lg transition-all flex items-center justify-center gap-2 border border-stone-200\"\r\n                                >\r\n                                    Start Building Free\r\n                                </Link>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* FOUNDER PASS - The \"Ticket\" */}\r\n                    <div className=\"relative group\">\r\n                        {/* Glow Effect behind the ticket */}\r\n                        <div className=\"absolute -inset-1 bg-gradient-to-r from-orange-500 to-purple-600 rounded-2xl blur opacity-25 group-hover:opacity-50 transition duration-1000\"></div>\r\n\r\n                        <div className=\"relative bg-white border border-stone-200 rounded-xl overflow-hidden shadow-2xl h-full flex flex-col\">\r\n\r\n                            {/* TICKET HEADER (Dark Mode) */}\r\n                            <div className=\"bg-[#0C0A09] p-4 md:p-6 flex justify-between items-center text-white border-b border-stone-800 relative overflow-hidden\">\r\n                                {/* Decorative diagonal lines */}\r\n                                <div className=\"absolute inset-0 opacity-10\"\r\n                                    style={{ backgroundImage: 'repeating-linear-gradient(45deg, transparent, transparent 10px, #fff 10px, #fff 11px)' }}>\r\n                                </div>\r\n\r\n                                {/* RECOMMENDED Badge - Repositioned for mobile safely */}\r\n                                <div className=\"absolute top-0 right-0 bg-[#FF4500] text-[9px] md:text-[10px] font-bold px-1.5 md:px-2 py-0.5 md:py-1 rounded-bl-lg text-white uppercase tracking-wide z-20\">\r\n                                    Best Value\r\n                                </div>\r\n\r\n                                <div className=\"relative z-10 pr-2\">\r\n                                    <h3 className=\"font-bold text-base md:text-lg tracking-wide uppercase\">Founder Pass</h3>\r\n                                    <p className=\"text-stone-400 text-[10px] md:text-xs font-mono\">EARLY ACCESS LICENSE</p>\r\n                                </div>\r\n                                <div className=\"relative z-10 text-right pt-2 md:pt-0\">\r\n                                    <span className=\"block text-xl md:text-2xl font-bold text-orange-500\">$19</span>\r\n                                    <span className=\"text-stone-500 text-[10px] md:text-xs line-through decoration-red-500\">$49</span>\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* TICKET BODY (The Value) */}\r\n                            <div className=\"p-4 md:p-6 flex-1 flex flex-col\">\r\n                                <p className=\"text-stone-500 text-sm mb-6\">Own your brand completely. Ship it, sell it, build on it.</p>\r\n\r\n                                <ul className=\"space-y-3 mb-6 flex-1\">\r\n                                    {[\r\n                                        \"Unlimited AI Generations\",\r\n                                        \"Full Commercial Ownership\",\r\n                                        \"Export Tailwind CSS Config\",\r\n                                        \"SVG & PNG Asset Pack\",\r\n                                        \"React Component Code\",\r\n                                        \"Priority Support\"\r\n                                    ].map((feature) => (\r\n                                        <li key={feature} className=\"flex items-center gap-3 text-stone-700\">\r\n                                            <div className=\"w-4 h-4 rounded-full bg-green-100 flex items-center justify-center shrink-0\">\r\n                                                <Check className=\"w-2.5 h-2.5 text-green-700\" />\r\n                                            </div>\r\n                                            <span className=\"text-sm font-medium\">{feature}</span>\r\n                                        </li>\r\n                                    ))}\r\n                                </ul>\r\n\r\n                                <a\r\n                                    href=\"https://checkout.dodopayments.com/buy/pdt_0NVXcrRSqLnWomnnrEIla?quantity=1&redirect_url=https://glyph.software\"\r\n                                    className=\"w-full bg-[#FF4500] hover:bg-orange-600 text-white font-bold py-3 rounded-lg transition-all shadow-lg hover:shadow-orange-200 active:scale-[0.98] flex items-center justify-center gap-2 text-sm md:text-base\"\r\n                                >\r\n                                    Get Lifetime Access\r\n                                </a>\r\n                            </div>\r\n\r\n                            {/* THE \"TEAR-OFF\" STUB VISUAL (Bottom) */}\r\n                            <div className=\"h-3 bg-stone-50 border-t border-dashed border-stone-300 relative\">\r\n                                <div className=\"absolute -left-1.5 -top-1.5 w-3 h-3 rounded-full bg-stone-50 border border-stone-200\"></div>\r\n                                <div className=\"absolute -right-1.5 -top-1.5 w-3 h-3 rounded-full bg-stone-50 border border-stone-200\"></div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\landing\\hero\\BrowserMockup.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\layout\\Footer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\layout\\Navbar.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ArrowRight' is defined but never used.","line":5,"column":19,"nodeType":null,"messageId":"unusedVar","endLine":5,"endColumn":29}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport Link from 'next/link';\r\nimport { useState, useEffect } from 'react';\r\nimport { Menu, X, ArrowRight } from 'lucide-react';\r\nimport { cn } from '@/lib/utils';\r\nimport { GlyphLogo } from '@/components/logo-engine/LogoGlyph';\r\n\r\n// ... (existing imports)\r\n\r\nconst NAV_LINKS = [\r\n    { href: '#how-it-works', label: 'How It Works' },\r\n    { href: '#pricing', label: 'Pricing' },\r\n];\r\n\r\nexport function Navbar() {\r\n    const [isScrolled, setIsScrolled] = useState(false);\r\n    const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);\r\n\r\n    useEffect(() => {\r\n        const handleScroll = () => {\r\n            setIsScrolled(window.scrollY > 20);\r\n        };\r\n        window.addEventListener('scroll', handleScroll);\r\n        return () => window.removeEventListener('scroll', handleScroll);\r\n    }, []);\r\n\r\n    return (\r\n        <nav\r\n            className={cn(\r\n                'fixed top-0 left-0 right-0 z-50 transition-all duration-300',\r\n                isScrolled\r\n                    ? 'bg-white/80 backdrop-blur-lg shadow-sm border-b border-stone-200'\r\n                    : 'bg-transparent'\r\n            )}\r\n        >\r\n            <div className=\"max-w-7xl mx-auto px-6 lg:px-8\">\r\n                <div className=\"flex items-center justify-between h-16 lg:h-20\">\r\n                    {/* Logo */}\r\n                    <Link href=\"/\" className=\"group hover:opacity-90 transition-opacity\">\r\n                        <GlyphLogo className=\"h-8\" />\r\n                    </Link>\r\n\r\n                    {/* Desktop Nav Links */}\r\n                    <div className=\"hidden md:flex items-center gap-8\">\r\n                        {NAV_LINKS.map((link) => (\r\n                            <a\r\n                                key={link.href}\r\n                                href={link.href}\r\n                                className=\"text-sm font-medium text-stone-600 hover:text-stone-950 transition-colors\"\r\n                            >\r\n                                {link.label}\r\n                            </a>\r\n                        ))}\r\n                    </div>\r\n\r\n                    {/* Desktop CTA */}\r\n                    <div className=\"hidden md:flex items-center gap-4\">\r\n                        <Link\r\n                            href=\"/generator\"\r\n                            className=\"inline-flex items-center h-9 px-4 rounded-full bg-stone-950 text-white text-sm font-medium hover:bg-stone-800 transition-all shadow-lg hover:shadow-xl active:scale-95\"\r\n                        >\r\n                            Launch Generator\r\n                        </Link>\r\n                    </div>\r\n\r\n                    {/* Mobile Menu Button */}\r\n                    <button\r\n                        onClick={() => setIsMobileMenuOpen(!isMobileMenuOpen)}\r\n                        className=\"md:hidden p-2 text-stone-600\"\r\n                    >\r\n                        {isMobileMenuOpen ? <X className=\"w-6 h-6\" /> : <Menu className=\"w-6 h-6\" />}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Mobile Menu */}\r\n            {isMobileMenuOpen && (\r\n                <div className=\"md:hidden bg-white border-t border-stone-200\">\r\n                    <div className=\"px-6 py-4 space-y-4\">\r\n                        {NAV_LINKS.map((link) => (\r\n                            <a\r\n                                key={link.href}\r\n                                href={link.href}\r\n                                className=\"block text-base font-medium text-stone-700 hover:text-stone-950\"\r\n                                onClick={() => setIsMobileMenuOpen(false)}\r\n                            >\r\n                                {link.label}\r\n                            </a>\r\n                        ))}\r\n                        <Link\r\n                            href=\"/generator\"\r\n                            className=\"block w-full text-center px-5 py-3 rounded-full bg-stone-950 text-white text-sm font-medium\"\r\n                            onClick={() => setIsMobileMenuOpen(false)}\r\n                        >\r\n                            Launch Generator\r\n                        </Link>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </nav>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\BrandCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\BrandGuidelines.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":40,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":40,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1406,1409],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1406,1409],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ratio' is assigned a value but never used.","line":51,"column":19,"nodeType":null,"messageId":"unusedVar","endLine":51,"endColumn":24}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport React, { useRef, useState } from 'react';\r\nimport { BrandIdentity } from '@/lib/data';\r\nimport { LogoComposition } from '@/components/logo-engine/LogoComposition';\r\nimport { cn } from '@/lib/utils';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Download, Loader2 } from 'lucide-react';\r\nimport html2canvas from 'html2canvas';\r\nimport jsPDF from 'jspdf';\r\n\r\ninterface BrandGuidelinesProps {\r\n    brand: BrandIdentity;\r\n}\r\n\r\n/**\r\n * BrandGuidelines - The \"$500 Brand Package\" in a single printable page\r\n * Shows Logo System, Color System, Typography System, and Usage Rules\r\n */\r\nexport function BrandGuidelines({ brand }: BrandGuidelinesProps) {\r\n    const t = brand.theme.tokens;\r\n    const printRef = useRef<HTMLDivElement>(null);\r\n    const [isExporting, setIsExporting] = useState(false);\r\n\r\n    const handleDownloadPDF = async () => {\r\n        if (!printRef.current) return;\r\n        setIsExporting(true);\r\n\r\n        try {\r\n            const element = printRef.current;\r\n            // Force desktop width for capture\r\n            element.style.width = '1200px';\r\n\r\n            const canvas = await html2canvas(element, {\r\n                scale: 2, // Higher resolution\r\n                useCORS: true,\r\n                backgroundColor: '#ffffff',\r\n                logging: false,\r\n                windowWidth: 1200, // Simulate desktop viewport\r\n            } as any);\r\n\r\n            // Reset width\r\n            element.style.width = '';\r\n\r\n            const imgData = canvas.toDataURL('image/png');\r\n            const pdf = new jsPDF('p', 'mm', 'a4');\r\n            const pdfWidth = pdf.internal.pageSize.getWidth();\r\n            const pdfHeight = pdf.internal.pageSize.getHeight();\r\n            const imgWidth = canvas.width;\r\n            const imgHeight = canvas.height;\r\n            const ratio = Math.min(pdfWidth / imgWidth, pdfHeight / imgHeight);\r\n\r\n            // Calculate height of the image on the PDF\r\n            const imgHeightOnPdf = imgHeight * (pdfWidth / imgWidth);\r\n\r\n            // Add image. If it's taller than one page, we might need multi-page logic, \r\n            // but for now we scale to fit width and let it paginate naturally or just simple single page scroll capture\r\n            // For a single long strip, we usually want to split it. \r\n            // BUT, for simplicity in v1, let's create a \"Long Sheet\" PDF or just capture the view port.\r\n            // A better approach for \"Guidelines\" is actually individual A4 pages.\r\n            // Let's stick to the current \"One Long Scroll\" rendered as a single PDF page for now (simplest MVP), \r\n            // OR fit-to-width and allow multiple pages if needed.\r\n\r\n            // Current strategy: Fit to width, potentially spanning pages.\r\n            pdf.addImage(imgData, 'PNG', 0, 0, pdfWidth, imgHeightOnPdf);\r\n            pdf.save(`${brand.name.replace(/\\s+/g, '_')}_Brand_Guidelines.pdf`);\r\n        } catch (error) {\r\n            console.error(\"PDF Export failed\", error);\r\n        } finally {\r\n            setIsExporting(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"space-y-8\">\r\n            <div className=\"flex justify-between items-center bg-stone-50 p-6 rounded-xl border border-stone-200\">\r\n                <div>\r\n                    <h2 className=\"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-orange-500 to-orange-700\">\r\n                        Brand Guidelines Export\r\n                    </h2>\r\n                    <p className=\"text-sm text-stone-500\">\r\n                        Download your comprehensive visual identity system as a PDF.\r\n                    </p>\r\n                </div>\r\n\r\n                <Button\r\n                    onClick={handleDownloadPDF}\r\n                    disabled={isExporting}\r\n                    className=\"bg-stone-900 hover:bg-stone-800 text-white gap-2 shadow-lg\"\r\n                >\r\n                    {isExporting ? <Loader2 className=\"animate-spin\" size={16} /> : <Download size={16} />}\r\n                    {isExporting ? 'Generating PDF...' : 'Download PDF Manual'}\r\n                </Button>\r\n            </div>\r\n\r\n            <div className=\"max-w-4xl mx-auto bg-white min-h-screen shadow-2xl border border-stone-200 print:shadow-none print:border-none overflow-hidden hover:shadow-[0_20px_60px_-15px_rgba(0,0,0,0.1)] transition-shadow duration-500\">\r\n                <div ref={printRef} className=\"bg-white\">\r\n                    {/* HEADER */}\r\n                    <header className=\"p-12 md:p-16 border-b border-stone-100 bg-stone-50/50\">\r\n                        <div className=\"flex justify-between items-start\">\r\n                            <div>\r\n                                <h1 className={cn(\"text-5xl md:text-6xl font-black text-stone-900 mb-6 tracking-tight\", brand.font.heading)}>\r\n                                    {brand.name}\r\n                                </h1>\r\n                                <p className=\"text-stone-500 text-xl max-w-lg leading-relaxed\">\r\n                                    Visual Identity System <br />\r\n                                    <span className=\"text-sm uppercase tracking-widest opacity-60 font-mono mt-2 block\">Version 1.0</span>\r\n                                </p>\r\n                            </div>\r\n                            <div className=\"hidden md:block\">\r\n                                <div className=\"w-24 h-24\">\r\n                                    <LogoComposition brand={brand} />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </header>\r\n\r\n                    {/* SECTION 1: LOGO CONSTRUCTION */}\r\n                    <section className=\"p-12 md:p-16 border-b border-stone-100\">\r\n                        <div className=\"flex items-center gap-4 mb-12\">\r\n                            <span className=\"text-xs font-mono text-white bg-stone-900 px-2 py-1 rounded\">01</span>\r\n                            <h2 className=\"font-bold text-lg text-stone-900 uppercase tracking-widest\">Logomark</h2>\r\n                        </div>\r\n\r\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\r\n                            {/* Primary Mark - Light Background */}\r\n                            <div className=\"group relative p-16 bg-white rounded-2xl border-2 border-stone-100 flex items-center justify-center aspect-[4/3]\">\r\n                                {/* Grid Lines Overlay */}\r\n                                <div className=\"absolute inset-0 opacity-[0.03]\" style={{ backgroundImage: 'linear-gradient(#000 1px, transparent 1px), linear-gradient(90deg, #000 1px, transparent 1px)', backgroundSize: '20px 20px' }} />\r\n\r\n                                {/* Clear Space Guide */}\r\n                                <div className=\"absolute inset-0 border border-dashed border-stone-300 m-10 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-500\" />\r\n\r\n                                <div className=\"w-40 h-40 scale-100 group-hover:scale-90 transition-transform duration-500\">\r\n                                    <LogoComposition brand={brand} />\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Symbol - Dark Background */}\r\n                            <div className=\"relative p-16 bg-stone-950 rounded-2xl border border-stone-900 flex items-center justify-center aspect-[4/3] text-white\">\r\n                                <div className=\"w-32 h-32\">\r\n                                    <LogoComposition brand={brand} overrideColors={{ primary: '#FFFFFF' }} />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Rules Grid */}\r\n                        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mt-8\">\r\n                            <div className=\"p-6 bg-stone-50 rounded-xl\">\r\n                                <h4 className=\"font-bold text-stone-900 mb-2 text-sm\">Clear Space</h4>\r\n                                <p className=\"text-xs text-stone-500 leading-relaxed\">Always maintain a minimum clear space defined by the height of the logomark to ensure legibility.</p>\r\n                            </div>\r\n                            <div className=\"p-6 bg-stone-50 rounded-xl\">\r\n                                <h4 className=\"font-bold text-stone-900 mb-2 text-sm\">Minimum Size</h4>\r\n                                <p className=\"text-xs text-stone-500 leading-relaxed\">Do not reproduce the logo smaller than 24px in digital or 10mm in print.</p>\r\n                            </div>\r\n                            <div className=\"p-6 bg-stone-50 rounded-xl\">\r\n                                <h4 className=\"font-bold text-stone-900 mb-2 text-sm\">Placement</h4>\r\n                                <p className=\"text-xs text-stone-500 leading-relaxed\">Prioritize the top-left corner for web, and center alignment for print materials.</p>\r\n                            </div>\r\n                        </div>\r\n                    </section>\r\n\r\n                    {/* SECTION 2: COLOR SYSTEM */}\r\n                    <section className=\"p-12 md:p-16 border-b border-stone-100\">\r\n                        <div className=\"flex items-center gap-4 mb-12\">\r\n                            <span className=\"text-xs font-mono text-white bg-stone-900 px-2 py-1 rounded\">02</span>\r\n                            <h2 className=\"font-bold text-lg text-stone-900 uppercase tracking-widest\">Color Palette</h2>\r\n                        </div>\r\n\r\n                        {/* Light Mode */}\r\n                        <div className=\"mb-10\">\r\n                            <h4 className=\"text-xs font-bold text-stone-400 uppercase tracking-wider mb-6 flex items-center gap-2\">\r\n                                Primary Scale\r\n                            </h4>\r\n                            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n                                <ColorSwatch name=\"Brand Primary\" hex={t.light.primary} large />\r\n                                <ColorSwatch name=\"Brand Accent\" hex={t.light.primary} />\r\n                                <ColorSwatch name=\"Surface\" hex={t.light.bg} />\r\n                                <ColorSwatch name=\"Text\" hex={t.light.text} />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"p-6 bg-stone-900 rounded-2xl text-white\">\r\n                            <h4 className=\"text-xs font-bold opacity-60 uppercase tracking-wider mb-6 flex items-center gap-2\">\r\n                                Dark Mode Tokens\r\n                            </h4>\r\n                            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n                                <ColorSwatch name=\"Primary Dark\" hex={t.dark.primary} dark />\r\n                                <ColorSwatch name=\"Accent Dark\" hex={t.dark.primary} dark />\r\n                                <ColorSwatch name=\"Surface Dark\" hex={t.dark.bg} dark />\r\n                                <ColorSwatch name=\"Text Dark\" hex={t.dark.text} dark />\r\n                            </div>\r\n                        </div>\r\n                    </section>\r\n\r\n                    {/* SECTION 3: TYPOGRAPHY */}\r\n                    <section className=\"p-12 md:p-16\">\r\n                        <div className=\"flex items-center gap-4 mb-12\">\r\n                            <span className=\"text-xs font-mono text-white bg-stone-900 px-2 py-1 rounded\">03</span>\r\n                            <h2 className=\"font-bold text-lg text-stone-900 uppercase tracking-widest\">Typography</h2>\r\n                        </div>\r\n\r\n                        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-12\">\r\n                            <div className=\"col-span-1\">\r\n                                <div className=\"sticky top-8\">\r\n                                    <h1 className=\"text-[120px] leading-none font-bold text-stone-900 opacity-10 mb-4 select-none\">\r\n                                        Aa\r\n                                    </h1>\r\n                                    <h4 className=\"text-2xl font-bold text-stone-900\">{brand.font.name}</h4>\r\n                                    <p className=\"text-stone-500 mt-2\">Primary Typeface</p>\r\n                                    <div className=\"flex gap-2 mt-4 flex-wrap\">\r\n                                        <span className=\"px-2 py-1 bg-stone-100 text-[10px] font-mono rounded\">400 Regular</span>\r\n                                        <span className=\"px-2 py-1 bg-stone-100 text-[10px] font-mono rounded\">600 SemiBold</span>\r\n                                        <span className=\"px-2 py-1 bg-stone-100 text-[10px] font-mono rounded\">700 Bold</span>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"col-span-2 space-y-10\">\r\n                                {/* Display */}\r\n                                <div className=\"border-b border-stone-100 pb-8\">\r\n                                    <span className=\"text-[10px] font-mono text-stone-400 uppercase tracking-widest mb-2 block\">Display ΓÇó H1</span>\r\n                                    <h1 className={cn(\"text-5xl md:text-6xl font-black text-stone-900\", brand.font.heading)}>\r\n                                        Make it simple. <br />\r\n                                        Make it memorable.\r\n                                    </h1>\r\n                                </div>\r\n\r\n                                {/* Body */}\r\n                                <div>\r\n                                    <span className=\"text-[10px] font-mono text-stone-400 uppercase tracking-widest mb-2 block\">Body Copy ΓÇó P</span>\r\n                                    <p className={cn(\"text-lg md:text-xl text-stone-600 leading-relaxed max-w-lg\", brand.font.body)}>\r\n                                        A brand for a company is like a reputation for a person. You earn reputation by trying to do hard things well.\r\n                                    </p>\r\n                                </div>\r\n\r\n                                <div className=\"bg-stone-50 p-6 rounded-xl\">\r\n                                    <p className=\"text-xs font-mono text-stone-500 uppercase tracking-widest\">\r\n                                        0123456789 ΓÇó !@#$%^&*()_+ ΓÇó The quick brown fox jumps over the lazy dog.\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </section>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n// Helper component for color swatches\r\nfunction ColorSwatch({ name, hex, dark = false, large = false }: { name: string; hex: string; dark?: boolean; large?: boolean }) {\r\n    return (\r\n        <div className=\"space-y-3 group\">\r\n            <div\r\n                className={cn(\r\n                    \"rounded-xl shadow-sm transition-transform duration-300 group-hover:scale-105\",\r\n                    !dark && \"border border-stone-200/50\",\r\n                    large ? \"aspect-square\" : \"h-24\"\r\n                )}\r\n                style={{ backgroundColor: hex }}\r\n            />\r\n            <div>\r\n                <span className={cn(\"text-xs font-bold block\", dark ? \"text-stone-300\" : \"text-stone-900\")}>{name}</span>\r\n                <span className={cn(\"text-[10px] font-mono opacity-60\", dark ? \"text-stone-400\" : \"text-stone-500\")}>{hex?.toUpperCase()}</span>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\Logo.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\LogoAssembler.tsx","messages":[{"ruleId":"@typescript-eslint/ban-ts-comment","severity":2,"message":"Use \"@ts-expect-error\" instead of \"@ts-ignore\", as \"@ts-ignore\" will do nothing if the following line is error-free.","line":48,"column":5,"nodeType":"Line","messageId":"tsIgnoreInsteadOfExpectError","endLine":48,"endColumn":35,"suggestions":[{"messageId":"replaceTsIgnoreWithTsExpectError","fix":{"range":[1636,1666],"text":"// @ts-expect-error - Dynamic access"},"desc":"Replace \"@ts-ignore\" with \"@ts-expect-error\"."}]},{"ruleId":"react-hooks/static-components","severity":2,"message":"Error: Cannot create components during render\n\nComponents created during render will reset their state each time they are created. Declare components outside of render.\n\nF:\\work\\Glyph\\components\\logo-engine\\LogoAssembler.tsx:114:18\n  112 |         return (\n  113 |             <div className={cn(\"flex items-center\", className)} style={{ gap: `${gap}px` }}>\n> 114 |                 <IconMark />\n      |                  ^^^^^^^^ This component is created during render\n  115 |                 <Wordmark />\n  116 |             </div>\n  117 |         );\n\nF:\\work\\Glyph\\components\\logo-engine\\LogoAssembler.tsx:55:22\n  53 |\n  54 |     // Render the Icon Part - supports both custom SVG and Lucide\n> 55 |     const IconMark = ({ size = 24, forceColor }: { size?: number, forceColor?: string }) => (\n     |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 56 |         <div\n     | ^^^^^^^^^^^^\n> 57 |             className={cn(\n     ΓÇª\n     | ^^^^^^^^^^^^\n> 95 |         </div>\n     | ^^^^^^^^^^^^\n> 96 |     );\n     | ^^^^^^ The component is created during render here\n  97 |\n  98 |     // Render the Text Part\n  99 |     const Wordmark = () => (","line":114,"column":18,"nodeType":null,"endLine":114,"endColumn":26},{"ruleId":"react-hooks/static-components","severity":2,"message":"Error: Cannot create components during render\n\nComponents created during render will reset their state each time they are created. Declare components outside of render.\n\nF:\\work\\Glyph\\components\\logo-engine\\LogoAssembler.tsx:115:18\n  113 |             <div className={cn(\"flex items-center\", className)} style={{ gap: `${gap}px` }}>\n  114 |                 <IconMark />\n> 115 |                 <Wordmark />\n      |                  ^^^^^^^^ This component is created during render\n  116 |             </div>\n  117 |         );\n  118 |     }\n\nF:\\work\\Glyph\\components\\logo-engine\\LogoAssembler.tsx:99:22\n   97 |\n   98 |     // Render the Text Part\n>  99 |     const Wordmark = () => (\n      |                      ^^^^^^^\n> 100 |         <span\n      | ^^^^^^^^^^^^^\n> 101 |             className=\"font-bold text-xl tracking-tight text-current\"\n      | ^^^^^^^^^^^^^\n> 102 |             style={{ fontFamily: fontFamily || 'inherit' }}\n      | ^^^^^^^^^^^^^\n> 103 |         >\n      | ^^^^^^^^^^^^^\n> 104 |             {brandName}\n      | ^^^^^^^^^^^^^\n> 105 |         </span>\n      | ^^^^^^^^^^^^^\n> 106 |     );\n      | ^^^^^^ The component is created during render here\n  107 |\n  108 |     // --- THE LAYOUT SWITCHER ---\n  109 |","line":115,"column":18,"nodeType":null,"endLine":115,"endColumn":26},{"ruleId":"react-hooks/static-components","severity":2,"message":"Error: Cannot create components during render\n\nComponents created during render will reset their state each time they are created. Declare components outside of render.\n\nF:\\work\\Glyph\\components\\logo-engine\\LogoAssembler.tsx:124:18\n  122 |         return (\n  123 |             <div className={cn(\"flex items-center flex-row-reverse\", className)} style={{ gap: `${gap}px` }}>\n> 124 |                 <IconMark />\n      |                  ^^^^^^^^ This component is created during render\n  125 |                 <Wordmark />\n  126 |             </div>\n  127 |         );\n\nF:\\work\\Glyph\\components\\logo-engine\\LogoAssembler.tsx:55:22\n  53 |\n  54 |     // Render the Icon Part - supports both custom SVG and Lucide\n> 55 |     const IconMark = ({ size = 24, forceColor }: { size?: number, forceColor?: string }) => (\n     |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 56 |         <div\n     | ^^^^^^^^^^^^\n> 57 |             className={cn(\n     ΓÇª\n     | ^^^^^^^^^^^^\n> 95 |         </div>\n     | ^^^^^^^^^^^^\n> 96 |     );\n     | ^^^^^^ The component is created during render here\n  97 |\n  98 |     // Render the Text Part\n  99 |     const Wordmark = () => (","line":124,"column":18,"nodeType":null,"endLine":124,"endColumn":26},{"ruleId":"react-hooks/static-components","severity":2,"message":"Error: Cannot create components during render\n\nComponents created during render will reset their state each time they are created. Declare components outside of render.\n\nF:\\work\\Glyph\\components\\logo-engine\\LogoAssembler.tsx:125:18\n  123 |             <div className={cn(\"flex items-center flex-row-reverse\", className)} style={{ gap: `${gap}px` }}>\n  124 |                 <IconMark />\n> 125 |                 <Wordmark />\n      |                  ^^^^^^^^ This component is created during render\n  126 |             </div>\n  127 |         );\n  128 |     }\n\nF:\\work\\Glyph\\components\\logo-engine\\LogoAssembler.tsx:99:22\n   97 |\n   98 |     // Render the Text Part\n>  99 |     const Wordmark = () => (\n      |                      ^^^^^^^\n> 100 |         <span\n      | ^^^^^^^^^^^^^\n> 101 |             className=\"font-bold text-xl tracking-tight text-current\"\n      | ^^^^^^^^^^^^^\n> 102 |             style={{ fontFamily: fontFamily || 'inherit' }}\n      | ^^^^^^^^^^^^^\n> 103 |         >\n      | ^^^^^^^^^^^^^\n> 104 |             {brandName}\n      | ^^^^^^^^^^^^^\n> 105 |         </span>\n      | ^^^^^^^^^^^^^\n> 106 |     );\n      | ^^^^^^ The component is created during render here\n  107 |\n  108 |     // --- THE LAYOUT SWITCHER ---\n  109 |","line":125,"column":18,"nodeType":null,"endLine":125,"endColumn":26},{"ruleId":"react-hooks/static-components","severity":2,"message":"Error: Cannot create components during render\n\nComponents created during render will reset their state each time they are created. Declare components outside of render.\n\nF:\\work\\Glyph\\components\\logo-engine\\LogoAssembler.tsx:134:18\n  132 |         return (\n  133 |             <div className={cn(\"flex flex-col items-center text-center\", className)} style={{ gap: `${gap}px` }}>\n> 134 |                 <IconMark size={32} />\n      |                  ^^^^^^^^ This component is created during render\n  135 |                 <Wordmark />\n  136 |             </div>\n  137 |         );\n\nF:\\work\\Glyph\\components\\logo-engine\\LogoAssembler.tsx:55:22\n  53 |\n  54 |     // Render the Icon Part - supports both custom SVG and Lucide\n> 55 |     const IconMark = ({ size = 24, forceColor }: { size?: number, forceColor?: string }) => (\n     |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 56 |         <div\n     | ^^^^^^^^^^^^\n> 57 |             className={cn(\n     ΓÇª\n     | ^^^^^^^^^^^^\n> 95 |         </div>\n     | ^^^^^^^^^^^^\n> 96 |     );\n     | ^^^^^^ The component is created during render here\n  97 |\n  98 |     // Render the Text Part\n  99 |     const Wordmark = () => (","line":134,"column":18,"nodeType":null,"endLine":134,"endColumn":26},{"ruleId":"react-hooks/static-components","severity":2,"message":"Error: Cannot create components during render\n\nComponents created during render will reset their state each time they are created. Declare components outside of render.\n\nF:\\work\\Glyph\\components\\logo-engine\\LogoAssembler.tsx:135:18\n  133 |             <div className={cn(\"flex flex-col items-center text-center\", className)} style={{ gap: `${gap}px` }}>\n  134 |                 <IconMark size={32} />\n> 135 |                 <Wordmark />\n      |                  ^^^^^^^^ This component is created during render\n  136 |             </div>\n  137 |         );\n  138 |     }\n\nF:\\work\\Glyph\\components\\logo-engine\\LogoAssembler.tsx:99:22\n   97 |\n   98 |     // Render the Text Part\n>  99 |     const Wordmark = () => (\n      |                      ^^^^^^^\n> 100 |         <span\n      | ^^^^^^^^^^^^^\n> 101 |             className=\"font-bold text-xl tracking-tight text-current\"\n      | ^^^^^^^^^^^^^\n> 102 |             style={{ fontFamily: fontFamily || 'inherit' }}\n      | ^^^^^^^^^^^^^\n> 103 |         >\n      | ^^^^^^^^^^^^^\n> 104 |             {brandName}\n      | ^^^^^^^^^^^^^\n> 105 |         </span>\n      | ^^^^^^^^^^^^^\n> 106 |     );\n      | ^^^^^^ The component is created during render here\n  107 |\n  108 |     // --- THE LAYOUT SWITCHER ---\n  109 |","line":135,"column":18,"nodeType":null,"endLine":135,"endColumn":26},{"ruleId":"react-hooks/static-components","severity":2,"message":"Error: Cannot create components during render\n\nComponents created during render will reset their state each time they are created. Declare components outside of render.\n\nF:\\work\\Glyph\\components\\logo-engine\\LogoAssembler.tsx:175:22\n  173 |                     style={{ color: primaryColor }}\n  174 |                 >\n> 175 |                     <IconElement size={14} strokeWidth={2.5} />\n      |                      ^^^^^^^^^^^ This component is created during render\n  176 |                 </div>\n  177 |                 <span\n  178 |                     className=\"text-sm font-bold uppercase tracking-widest opacity-80\"\n\nF:\\work\\Glyph\\components\\logo-engine\\LogoAssembler.tsx:141:25\n  139 |\n  140 |     // Helper to render just the raw icon (Custom or Lucide)\n> 141 |     const IconElement = ({ size, color, strokeWidth = 2.5 }: { size: number, color?: string, strokeWidth?: number }) => {\n      |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 142 |         if (customIcon) {\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 143 |             return (\n      ΓÇª\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 158 |         return <LucideIcon size={size} color={color || (isGhost ? primaryColor : 'white')} strokeWidth={strokeWidth} />;\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 159 |     };\n      | ^^^^^^ The component is created during render here\n  160 |\n  161 |     // 3. Badge (Tiny, Pill shape for container)\n  162 |     if (layout === 'badge') {","line":175,"column":22,"nodeType":null,"endLine":175,"endColumn":33},{"ruleId":"react-hooks/static-components","severity":2,"message":"Error: Cannot create components during render\n\nComponents created during render will reset their state each time they are created. Declare components outside of render.\n\nF:\\work\\Glyph\\components\\logo-engine\\LogoAssembler.tsx:202:22\n  200 |                 </span>\n  201 |                 <div className=\"absolute -bottom-2 -right-2 bg-white p-1.5 rounded-full border-2 border-white shadow-sm\">\n> 202 |                     <IconElement size={16} color={primaryColor} strokeWidth={3} />\n      |                      ^^^^^^^^^^^ This component is created during render\n  203 |                 </div>\n  204 |             </div>\n  205 |         )\n\nF:\\work\\Glyph\\components\\logo-engine\\LogoAssembler.tsx:141:25\n  139 |\n  140 |     // Helper to render just the raw icon (Custom or Lucide)\n> 141 |     const IconElement = ({ size, color, strokeWidth = 2.5 }: { size: number, color?: string, strokeWidth?: number }) => {\n      |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 142 |         if (customIcon) {\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 143 |             return (\n      ΓÇª\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 158 |         return <LucideIcon size={size} color={color || (isGhost ? primaryColor : 'white')} strokeWidth={strokeWidth} />;\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 159 |     };\n      | ^^^^^^ The component is created during render here\n  160 |\n  161 |     // 3. Badge (Tiny, Pill shape for container)\n  162 |     if (layout === 'badge') {","line":202,"column":22,"nodeType":null,"endLine":202,"endColumn":33},{"ruleId":"react-hooks/static-components","severity":2,"message":"Error: Cannot create components during render\n\nComponents created during render will reset their state each time they are created. Declare components outside of render.\n\nF:\\work\\Glyph\\components\\logo-engine\\LogoAssembler.tsx:212:18\n  210 |         return (\n  211 |             <div className={cn(\"flex items-center justify-center\", className)}>\n> 212 |                 <IconElement size={32} strokeWidth={2.5} />\n      |                  ^^^^^^^^^^^ This component is created during render\n  213 |             </div>\n  214 |         );\n  215 |     }\n\nF:\\work\\Glyph\\components\\logo-engine\\LogoAssembler.tsx:141:25\n  139 |\n  140 |     // Helper to render just the raw icon (Custom or Lucide)\n> 141 |     const IconElement = ({ size, color, strokeWidth = 2.5 }: { size: number, color?: string, strokeWidth?: number }) => {\n      |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 142 |         if (customIcon) {\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 143 |             return (\n      ΓÇª\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 158 |         return <LucideIcon size={size} color={color || (isGhost ? primaryColor : 'white')} strokeWidth={strokeWidth} />;\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 159 |     };\n      | ^^^^^^ The component is created during render here\n  160 |\n  161 |     // 3. Badge (Tiny, Pill shape for container)\n  162 |     if (layout === 'badge') {","line":212,"column":18,"nodeType":null,"endLine":212,"endColumn":29},{"ruleId":"react-hooks/static-components","severity":2,"message":"Error: Cannot create components during render\n\nComponents created during render will reset their state each time they are created. Declare components outside of render.\n\nF:\\work\\Glyph\\components\\logo-engine\\LogoAssembler.tsx:220:14\n  218 |     return (\n  219 |         <div className={cn(\"flex items-center gap-3\", className)}>\n> 220 |             <IconMark />\n      |              ^^^^^^^^ This component is created during render\n  221 |             <Wordmark />\n  222 |         </div>\n  223 |     );\n\nF:\\work\\Glyph\\components\\logo-engine\\LogoAssembler.tsx:55:22\n  53 |\n  54 |     // Render the Icon Part - supports both custom SVG and Lucide\n> 55 |     const IconMark = ({ size = 24, forceColor }: { size?: number, forceColor?: string }) => (\n     |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 56 |         <div\n     | ^^^^^^^^^^^^\n> 57 |             className={cn(\n     ΓÇª\n     | ^^^^^^^^^^^^\n> 95 |         </div>\n     | ^^^^^^^^^^^^\n> 96 |     );\n     | ^^^^^^ The component is created during render here\n  97 |\n  98 |     // Render the Text Part\n  99 |     const Wordmark = () => (","line":220,"column":14,"nodeType":null,"endLine":220,"endColumn":22},{"ruleId":"react-hooks/static-components","severity":2,"message":"Error: Cannot create components during render\n\nComponents created during render will reset their state each time they are created. Declare components outside of render.\n\nF:\\work\\Glyph\\components\\logo-engine\\LogoAssembler.tsx:221:14\n  219 |         <div className={cn(\"flex items-center gap-3\", className)}>\n  220 |             <IconMark />\n> 221 |             <Wordmark />\n      |              ^^^^^^^^ This component is created during render\n  222 |         </div>\n  223 |     );\n  224 | }\n\nF:\\work\\Glyph\\components\\logo-engine\\LogoAssembler.tsx:99:22\n   97 |\n   98 |     // Render the Text Part\n>  99 |     const Wordmark = () => (\n      |                      ^^^^^^^\n> 100 |         <span\n      | ^^^^^^^^^^^^^\n> 101 |             className=\"font-bold text-xl tracking-tight text-current\"\n      | ^^^^^^^^^^^^^\n> 102 |             style={{ fontFamily: fontFamily || 'inherit' }}\n      | ^^^^^^^^^^^^^\n> 103 |         >\n      | ^^^^^^^^^^^^^\n> 104 |             {brandName}\n      | ^^^^^^^^^^^^^\n> 105 |         </span>\n      | ^^^^^^^^^^^^^\n> 106 |     );\n      | ^^^^^^ The component is created during render here\n  107 |\n  108 |     // --- THE LAYOUT SWITCHER ---\n  109 |","line":221,"column":14,"nodeType":null,"endLine":221,"endColumn":22}],"suppressedMessages":[],"errorCount":12,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\nimport * as Icons from 'lucide-react';\r\nimport { cn } from '@/lib/utils';\r\nimport { getIconById } from '@/lib/icons';\r\n// We assume fonts are handled by the parent/global context, but we can accept fontFamily.\r\n\r\n// 1. THE LAYOUT VARIATIONS\r\n// This is the secret to variety. It changes the physical structure.\r\nexport type LogoAssemblerLayout = 'icon_left' | 'icon_right' | 'stacked' | 'badge' | 'monogram' | 'icon_only';\r\n\r\n// 2. THE CONTAINER SHAPES\r\nexport const ASSEMBLER_SHAPES: Record<string, string> = {\r\n    'squircle': 'rounded-2xl',\r\n    'pill': 'rounded-full', // Adjusted to generic pill utility if needed, strictly rounded-full usually works for square aspect\r\n    'ghost': 'bg-transparent border-2', // Outline style\r\n    'hexagon': 'clip-path-hexagon', // CSS class support needed\r\n    'diamond': 'rotate-45 rounded-xl',\r\n};\r\n\r\ninterface LogoAssemblerProps {\r\n    iconName: string;\r\n    brandName: string; // e.g. \"Glyph\"\r\n    layout?: LogoAssemblerLayout;\r\n    shape?: string;\r\n    primaryColor: string;\r\n    fontFamily?: string;\r\n    className?: string;\r\n    accentColor?: string; // Optional accent\r\n    gap?: number;         // Dynamic spacing\r\n}\r\n\r\nexport default function LogoAssembler({\r\n    iconName,\r\n    brandName,\r\n    layout = 'icon_left',\r\n    shape = 'squircle',\r\n    primaryColor,\r\n    fontFamily,\r\n    className,\r\n    accentColor,\r\n    gap = 12 // Default equivalent to gap-3 (3 * 4px = 12px)\r\n}: LogoAssemblerProps) {\r\n\r\n    // Check for custom icon from our library first\r\n    const customIcon = getIconById(iconName);\r\n\r\n    // Fallback to Lucide if not a custom icon\r\n    // @ts-ignore - Dynamic access\r\n    const LucideIcon = Icons[iconName] || Icons.Sparkles;\r\n\r\n    const isGhost = shape === 'ghost';\r\n    const isDiamond = shape === 'diamond';\r\n\r\n    // Render the Icon Part - supports both custom SVG and Lucide\r\n    const IconMark = ({ size = 24, forceColor }: { size?: number, forceColor?: string }) => (\r\n        <div\r\n            className={cn(\r\n                \"flex items-center justify-center transition-all duration-300\",\r\n                shape !== 'ghost' && (ASSEMBLER_SHAPES[shape] || 'rounded-xl'),\r\n                shape === 'ghost' && \"rounded-xl border-2\",\r\n                isDiamond && \"rotate-45\"\r\n            )}\r\n            style={{\r\n                backgroundColor: isGhost ? 'transparent' : primaryColor,\r\n                borderColor: isGhost ? primaryColor : 'transparent',\r\n                padding: size * 0.5,\r\n                width: size * 2,\r\n                height: size * 2,\r\n            }}\r\n        >\r\n            <div className={cn(isDiamond && \"-rotate-45\")}>\r\n                {customIcon ? (\r\n                    // Render custom SVG from our library\r\n                    <svg\r\n                        width={size}\r\n                        height={size}\r\n                        viewBox=\"0 0 24 24\"\r\n                        fill=\"none\"\r\n                        stroke={forceColor || (isGhost ? primaryColor : 'white')}\r\n                        strokeWidth={2.5}\r\n                        strokeLinecap=\"round\"\r\n                        strokeLinejoin=\"round\"\r\n                    >\r\n                        <path d={customIcon.path} />\r\n                    </svg>\r\n                ) : (\r\n                    // Fallback to Lucide icon\r\n                    <LucideIcon\r\n                        size={size}\r\n                        strokeWidth={2.5}\r\n                        color={forceColor || (isGhost ? primaryColor : 'white')}\r\n                    />\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    // Render the Text Part\r\n    const Wordmark = () => (\r\n        <span\r\n            className=\"font-bold text-xl tracking-tight text-current\"\r\n            style={{ fontFamily: fontFamily || 'inherit' }}\r\n        >\r\n            {brandName}\r\n        </span>\r\n    );\r\n\r\n    // --- THE LAYOUT SWITCHER ---\r\n\r\n    // 1. Classic (Icon Left)\r\n    if (layout === 'icon_left') {\r\n        return (\r\n            <div className={cn(\"flex items-center\", className)} style={{ gap: `${gap}px` }}>\r\n                <IconMark />\r\n                <Wordmark />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    // 1b. Icon Right\r\n    if (layout === 'icon_right') {\r\n        return (\r\n            <div className={cn(\"flex items-center flex-row-reverse\", className)} style={{ gap: `${gap}px` }}>\r\n                <IconMark />\r\n                <Wordmark />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    // 2. Stacked (App Icon Style - Vertical)\r\n    if (layout === 'stacked') {\r\n        return (\r\n            <div className={cn(\"flex flex-col items-center text-center\", className)} style={{ gap: `${gap}px` }}>\r\n                <IconMark size={32} />\r\n                <Wordmark />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    // Helper to render just the raw icon (Custom or Lucide)\r\n    const IconElement = ({ size, color, strokeWidth = 2.5 }: { size: number, color?: string, strokeWidth?: number }) => {\r\n        if (customIcon) {\r\n            return (\r\n                <svg\r\n                    width={size}\r\n                    height={size}\r\n                    viewBox=\"0 0 24 24\"\r\n                    fill=\"none\"\r\n                    stroke={color || (isGhost ? primaryColor : 'white')}\r\n                    strokeWidth={strokeWidth}\r\n                    strokeLinecap=\"round\"\r\n                    strokeLinejoin=\"round\"\r\n                >\r\n                    <path d={customIcon.path} />\r\n                </svg>\r\n            );\r\n        }\r\n        return <LucideIcon size={size} color={color || (isGhost ? primaryColor : 'white')} strokeWidth={strokeWidth} />;\r\n    };\r\n\r\n    // 3. Badge (Tiny, Pill shape for container)\r\n    if (layout === 'badge') {\r\n        return (\r\n            <div\r\n                className={cn(\"flex items-center gap-2 pl-1 pr-4 py-1 rounded-full border shadow-sm\", className)}\r\n                style={{\r\n                    backgroundColor: accentColor || '#f5f5f4', // fallback to stone-100\r\n                    borderColor: 'rgba(0,0,0,0.05)'\r\n                }}\r\n            >\r\n                <div\r\n                    className=\"p-1.5 bg-white rounded-full shadow-sm flex items-center justify-center\"\r\n                    style={{ color: primaryColor }}\r\n                >\r\n                    <IconElement size={14} strokeWidth={2.5} />\r\n                </div>\r\n                <span\r\n                    className=\"text-sm font-bold uppercase tracking-widest opacity-80\"\r\n                    style={{ fontFamily: fontFamily || 'inherit', color: primaryColor }}\r\n                >\r\n                    {brandName}\r\n                </span>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    // 4. Monogram (First Letter + Icon)\r\n    if (layout === 'monogram') {\r\n        return (\r\n            <div\r\n                className={cn(\r\n                    \"relative w-24 h-24 flex items-center justify-center drop-shadow-lg\",\r\n                    ASSEMBLER_SHAPES[shape] || 'rounded-2xl',\r\n                    className\r\n                )}\r\n                style={{ backgroundColor: primaryColor }}\r\n            >\r\n                <span className=\"text-white font-black text-5xl\" style={{ fontFamily: fontFamily }}>\r\n                    {brandName.charAt(0)}\r\n                </span>\r\n                <div className=\"absolute -bottom-2 -right-2 bg-white p-1.5 rounded-full border-2 border-white shadow-sm\">\r\n                    <IconElement size={16} color={primaryColor} strokeWidth={3} />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    // 5. Icon Only (New)\r\n    if (layout === 'icon_only') {\r\n        return (\r\n            <div className={cn(\"flex items-center justify-center\", className)}>\r\n                <IconElement size={32} strokeWidth={2.5} />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    // Default Fallback\r\n    return (\r\n        <div className={cn(\"flex items-center gap-3\", className)}>\r\n            <IconMark />\r\n            <Wordmark />\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\LogoComposition.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'getRandomShape' is defined but never used.","line":6,"column":25,"nodeType":null,"messageId":"unusedVar","endLine":6,"endColumn":39},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'IconDefinition' is defined but never used.","line":7,"column":23,"nodeType":null,"messageId":"unusedVar","endLine":7,"endColumn":37},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'FREE_STYLES' is defined but never used.","line":8,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":21},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'LOGO_STYLES' is defined but never used.","line":8,"column":23,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":34},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'isStyleFree' is defined but never used.","line":8,"column":36,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":47},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'AutoLettermark' is defined but never used.","line":9,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":9,"endColumn":24},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'LogoEngine' is defined but never used.","line":10,"column":8,"nodeType":null,"messageId":"unusedVar","endLine":10,"endColumn":18},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'LogoAssembler' is defined but never used.","line":11,"column":8,"nodeType":null,"messageId":"unusedVar","endLine":11,"endColumn":21},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'isPro' is assigned a value but never used.","line":80,"column":92,"nodeType":null,"messageId":"unusedVar","endLine":80,"endColumn":97},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'rng' is assigned a value but never used.","line":83,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":83,"endColumn":14},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'sWidth' is assigned a value but never used.","line":148,"column":20,"nodeType":null,"messageId":"unusedVar","endLine":148,"endColumn":26},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'gap' is assigned a value but never used.","line":158,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":158,"endColumn":14},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":198,"column":62,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":198,"endColumn":65,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7829,7832],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7829,7832],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'forceSolid' is assigned a value but never used.","line":208,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":208,"endColumn":21},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'accentColor' is assigned a value but never used.","line":435,"column":15,"nodeType":null,"messageId":"unusedVar","endLine":435,"endColumn":26},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'isWhite' is assigned a value but never used.","line":460,"column":19,"nodeType":null,"messageId":"unusedVar","endLine":460,"endColumn":26}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":15,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport React, { useId } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { BrandIdentity } from '@/lib/data';\r\nimport { SHAPES, Shape, getRandomShape } from '@/lib/shapes';\r\nimport { getIconById, IconDefinition } from '@/lib/icons';\r\nimport { FREE_STYLES, LOGO_STYLES, isStyleFree } from '@/lib/logo-styles';\r\nimport { AutoLettermark } from './LogoLettermark';\r\nimport LogoEngine from './LogoEngine';\r\nimport LogoAssembler from './LogoAssembler';\r\nimport RadialLogo from './LogoStarburst';\r\n\r\n// Import premium compositions\r\nimport {\r\n    GradientLinearComposition,\r\n    GradientRadialComposition,\r\n    GradientMeshComposition,\r\n    DuotoneComposition,\r\n    IsometricComposition,\r\n    ShadowDepthComposition,\r\n    Layered3DComposition,\r\n    PerspectiveComposition,\r\n    GlassmorphismComposition,\r\n    NeonGlowComposition,\r\n    SoftShadowComposition,\r\n    BlurGradientComposition,\r\n    TessellationComposition,\r\n    HoneycombComposition,\r\n    KaleidoscopeComposition,\r\n    GoldenSpiralComposition,\r\n    OrbitComposition,\r\n    ExplosionComposition,\r\n    WaveStackComposition,\r\n    CornerAccentComposition,\r\n    SealComposition,\r\n    LetterFillComposition,\r\n    BadgeTextComposition,\r\n} from './compositions';\r\n\r\n// All available layout styles\r\nexport type LogoLayoutStyle =\r\n    | 'default' | 'swiss' | 'bauhaus' | 'minimal_grid' | 'organic_fluid' | 'generative' | 'cut' | 'radial'\r\n    | 'container' | 'frame' | 'monogram' | 'diamond' | 'grid'\r\n    | 'gradient_linear' | 'gradient_radial' | 'gradient_mesh' | 'duotone'\r\n    | 'isometric' | 'shadow_depth' | 'layered_3d' | 'perspective'\r\n    | 'glassmorphism' | 'neon_glow' | 'soft_shadow' | 'blur_gradient'\r\n    | 'tessellation' | 'honeycomb' | 'kaleidoscope' | 'spiral_golden'\r\n    | 'letter_fill' | 'badge_text'\r\n    | 'orbit' | 'explosion' | 'wave_stack' | 'corner_accent' | 'seal'\r\n    | 'tech_circuit' | 'cluster' | 'overlap' | 'spiral' | 'wave' | 'split' | 'corner';\r\n\r\ninterface LogoCompositionProps {\r\n    brand: BrandIdentity;\r\n    className?: string;\r\n    layout?: LogoLayoutStyle;\r\n    overrideColors?: { primary: string; accent?: string; bg?: string };\r\n    isPro?: boolean; // Enable premium styles\r\n}\r\n\r\n/**\r\n * Deterministic PRNG based on string seed\r\n */\r\nfunction seededRandom(seed: string) {\r\n    let hash = 0;\r\n    for (let i = 0; i < seed.length; i++) {\r\n        const char = seed.charCodeAt(i);\r\n        hash = ((hash << 5) - hash) + char;\r\n        hash = hash & hash; // Convert to 32bit integer\r\n    }\r\n    const x = Math.sin(hash) * 10000;\r\n    return x - Math.floor(x);\r\n}\r\n\r\n/**\r\n * Logo Composition Engine v5 (Premium Parametric)\r\n *\r\n * Priority: Logo Engine v5 generated logos > Legacy procedural logos\r\n */\r\nexport const LogoComposition = ({ brand, className, layout = 'generative', overrideColors, isPro = false }: LogoCompositionProps) => {\r\n    const uniqueId = useId();\r\n    const seed = brand.id + (brand.name || 'brand') + (brand.generationSeed || brand.id || 'stable');\r\n    const rng = () => seededRandom(seed);\r\n\r\n    // =========================================================================\r\n    // LOGO ENGINE V5 - Render premium generated logo if available\r\n    // =========================================================================\r\n    if (brand.generatedLogos && brand.generatedLogos.length > 0) {\r\n        const selectedIndex = brand.selectedLogoIndex ?? 0;\r\n        const selectedLogo = brand.generatedLogos[selectedIndex];\r\n\r\n        if (selectedLogo?.svg) {\r\n            return (\r\n                <div\r\n                    className={className}\r\n                    dangerouslySetInnerHTML={{ __html: selectedLogo.svg }}\r\n                    style={{\r\n                        width: '100%',\r\n                        height: '100%',\r\n                        display: 'flex',\r\n                        alignItems: 'center',\r\n                        justifyContent: 'center',\r\n                    }}\r\n                />\r\n            );\r\n        }\r\n    }\r\n\r\n    // Deterministic Shape Selection\r\n    const shapeIndex1 = Math.floor(seededRandom(seed + 's1') * SHAPES.length);\r\n    const shapeIndex2 = Math.floor(seededRandom(seed + 's2') * SHAPES.length);\r\n    const safeShapes = SHAPES.length > 0 ? SHAPES : [{ id: 'fallback', path: 'M0 0h100v100H0z', name: 'Fallback', viewBox: '0 0 100 100', tags: [], complexity: 'simple' }];\r\n\r\n    // Resolve Shape: Check 1) logoIcon (Premium), 2) brand.shape (Explicit), 3) Random Fallback\r\n    // Normalize IconDefinition to Shape by ensuring viewBox is always defined\r\n    let resolvedShape: Shape | null = null;\r\n    if (brand.logoIcon) {\r\n        const icon = getIconById(brand.logoIcon);\r\n        if (icon) {\r\n            resolvedShape = {\r\n                id: icon.id,\r\n                name: icon.name,\r\n                path: icon.path,\r\n                viewBox: icon.viewBox || '0 0 24 24',\r\n                tags: icon.tags,\r\n            };\r\n        }\r\n    }\r\n    const primaryShape = resolvedShape || brand.shape || safeShapes[shapeIndex1 % safeShapes.length];\r\n    const secondaryShape = safeShapes[shapeIndex2 % safeShapes.length];\r\n\r\n    const colors = brand.theme.tokens.light;\r\n    const primaryColor = overrideColors?.primary || colors.primary;\r\n    const initial = brand.name.charAt(0).toUpperCase();\r\n\r\n    // VIEWBOX NORMALIZATION\r\n    // VIEWBOX NORMALIZATION\r\n    const getShapeInfo = (shape: { viewBox?: string }) => {\r\n        const parts = (shape.viewBox || '0 0 24 24').split(' ');\r\n        const width = parseFloat(parts[2]) || 24;\r\n        const height = parseFloat(parts[3]) || 24;\r\n        // Target roughly 80px width, but ensure we don't blow up tiny icons\r\n        const scaleFactor = 80 / width;\r\n        return { width, height, scaleFactor };\r\n    };\r\n\r\n    const { width: pWidth, scaleFactor: pScaleFactor } = getShapeInfo(primaryShape);\r\n    const { width: sWidth, scaleFactor: sScaleFactor } = getShapeInfo(secondaryShape);\r\n\r\n    const primaryScale = pScaleFactor * (brand.logoTweaks?.scale || 1);\r\n    const secondaryScale = sScaleFactor;\r\n\r\n    // Center Offsets (Dynamic)\r\n    const centerOffset = 50 - (pWidth * primaryScale) / 2;\r\n\r\n    // Tweak Values\r\n    const rotate = brand.logoTweaks?.rotate || 0;\r\n    const gap = brand.logoTweaks?.gap || 0;\r\n\r\n    // -------------------------------------------------------------------------\r\n    // ARCHETYPE FORK\r\n    // -------------------------------------------------------------------------\r\n\r\n    // A. WORDMARK ARCHETYPE\r\n    if (brand.archetype?.toLowerCase() === 'wordmark') {\r\n        const isTech = brand.vibe.toLowerCase().includes('tech');\r\n        const isLuxury = brand.vibe.toLowerCase().includes('luxury');\r\n\r\n        const fontFamily = 'var(--font-heading)'; // Default\r\n        let tracking = '0';\r\n        let textTransform = 'none';\r\n        let fontWeight = 'bold';\r\n\r\n        if (isTech) {\r\n            tracking = '-0.05em';\r\n            textTransform = 'lowercase';\r\n            fontWeight = '900';\r\n        } else if (isLuxury) {\r\n            tracking = '0.2em';\r\n            textTransform = 'uppercase';\r\n            fontWeight = '300';\r\n        }\r\n\r\n        return (\r\n            <motion.svg viewBox=\"0 0 200 60\" className={className} xmlns=\"http://www.w3.org/2000/svg\">\r\n                <motion.text\r\n                    initial={{ opacity: 0, y: 10 }}\r\n                    animate={{ opacity: 1, y: 0 }}\r\n                    transition={{ duration: 0.8, ease: \"easeOut\" }}\r\n                    x=\"100\"\r\n                    y=\"38\"\r\n                    fontSize=\"24\"\r\n                    fontFamily={fontFamily}\r\n                    fontWeight={fontWeight}\r\n                    letterSpacing={tracking}\r\n                    textAnchor=\"middle\"\r\n                    fill={primaryColor}\r\n                    style={{ textTransform: textTransform as any }}\r\n                >\r\n                    {brand.name}\r\n                </motion.text>\r\n            </motion.svg>\r\n        );\r\n    }\r\n\r\n    // B. SYMBOL ARCHETYPE (DEFAULT)\r\n    // Force SOLID GEOMETRY (no outlines) if archetype is symbol\r\n    const forceSolid = brand.archetype === 'symbol';\r\n\r\n\r\n    // -------------------------------------------------------------------------\r\n    // RENDER STRATEGIES\r\n    // -------------------------------------------------------------------------\r\n\r\n    // 0. RADIAL ENGINE (New)\r\n    if (layout === 'radial') {\r\n        return (\r\n            <div className={className}>\r\n                <RadialLogo name={brand.name} color={primaryColor} className=\"w-full h-full\" />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    // Common props for premium compositions\r\n    const accentColor = colors.accent || primaryColor;\r\n    const compositionProps = {\r\n        brand,\r\n        primaryColor,\r\n        accentColor,\r\n        centerOffset,\r\n        primaryScale,\r\n        primaryShape,\r\n        uniqueId,\r\n        className,\r\n    };\r\n\r\n    // =========================================================================\r\n    // PREMIUM COMPOSITIONS (Pro users only)\r\n    // =========================================================================\r\n\r\n    // Gradient Effects\r\n    if (layout === 'gradient_linear') {\r\n        return <GradientLinearComposition {...compositionProps} />;\r\n    }\r\n    if (layout === 'gradient_radial') {\r\n        return <GradientRadialComposition {...compositionProps} />;\r\n    }\r\n    if (layout === 'gradient_mesh') {\r\n        return <GradientMeshComposition {...compositionProps} />;\r\n    }\r\n    if (layout === 'duotone') {\r\n        return <DuotoneComposition {...compositionProps} />;\r\n    }\r\n\r\n    // 3D & Depth Effects\r\n    if (layout === 'isometric') {\r\n        return <IsometricComposition {...compositionProps} />;\r\n    }\r\n    if (layout === 'shadow_depth') {\r\n        return <ShadowDepthComposition {...compositionProps} />;\r\n    }\r\n    if (layout === 'layered_3d') {\r\n        return <Layered3DComposition {...compositionProps} />;\r\n    }\r\n    if (layout === 'perspective') {\r\n        return <PerspectiveComposition {...compositionProps} />;\r\n    }\r\n\r\n    // Glass & Modern Effects\r\n    if (layout === 'glassmorphism') {\r\n        return <GlassmorphismComposition {...compositionProps} />;\r\n    }\r\n    if (layout === 'neon_glow') {\r\n        return <NeonGlowComposition {...compositionProps} />;\r\n    }\r\n    if (layout === 'soft_shadow') {\r\n        return <SoftShadowComposition {...compositionProps} />;\r\n    }\r\n    if (layout === 'blur_gradient') {\r\n        return <BlurGradientComposition {...compositionProps} />;\r\n    }\r\n\r\n    // Geometric Patterns\r\n    if (layout === 'tessellation') {\r\n        return <TessellationComposition {...compositionProps} />;\r\n    }\r\n    if (layout === 'honeycomb') {\r\n        return <HoneycombComposition {...compositionProps} />;\r\n    }\r\n    if (layout === 'kaleidoscope') {\r\n        return <KaleidoscopeComposition {...compositionProps} />;\r\n    }\r\n    if (layout === 'spiral_golden') {\r\n        return <GoldenSpiralComposition {...compositionProps} />;\r\n    }\r\n\r\n    // Typography Mashup\r\n    if (layout === 'letter_fill') {\r\n        return <LetterFillComposition {...compositionProps} />;\r\n    }\r\n    if (layout === 'badge_text') {\r\n        return <BadgeTextComposition {...compositionProps} />;\r\n    }\r\n\r\n    // Advanced Compositions\r\n    if (layout === 'orbit') {\r\n        return <OrbitComposition {...compositionProps} />;\r\n    }\r\n    if (layout === 'explosion') {\r\n        return <ExplosionComposition {...compositionProps} />;\r\n    }\r\n    if (layout === 'wave_stack') {\r\n        return <WaveStackComposition {...compositionProps} />;\r\n    }\r\n    if (layout === 'corner_accent') {\r\n        return <CornerAccentComposition {...compositionProps} />;\r\n    }\r\n    if (layout === 'seal') {\r\n        return <SealComposition {...compositionProps} />;\r\n    }\r\n\r\n    // =========================================================================\r\n    // LEGACY LAYOUTS\r\n    // =========================================================================\r\n\r\n    // 1. SWISS: Large asymmetrical shape, small tight typography\r\n    if (layout === 'swiss') {\r\n        const offsetX = (seededRandom(seed + 'x') - 0.5) * 20;\r\n        const offsetY = (seededRandom(seed + 'y') - 0.5) * 20;\r\n\r\n        return (\r\n            <svg viewBox=\"0 0 100 100\" className={className} xmlns=\"http://www.w3.org/2000/svg\">\r\n                <defs>\r\n                    <mask id={`mask-swiss-${uniqueId}`}>\r\n                        <rect x=\"0\" y=\"0\" width=\"100\" height=\"100\" fill=\"white\" />\r\n                        <text x=\"50\" y=\"65\" fontSize=\"40\" fontWeight=\"900\" textAnchor=\"middle\" fill=\"black\" fontFamily=\"var(--font-heading)\">\r\n                            {initial}\r\n                        </text>\r\n                    </mask>\r\n                </defs>\r\n\r\n                {/* Asymmetrical Background Shape */}\r\n                <g transform={`translate(${centerOffset + offsetX}, ${centerOffset + offsetY}) scale(${primaryScale * 0.8})`}>\r\n                    <path d={primaryShape.path} fill={colors.primary} />\r\n                </g>\r\n\r\n                {/* Overlay Text */}\r\n                <text x=\"5\" y=\"90\" fontSize=\"12\" fontWeight=\"bold\" fill={colors.text} opacity=\"0.5\" fontFamily=\"var(--font-body)\">\r\n                    {brand.name.substring(0, 3).toUpperCase()}.\r\n                </text>\r\n            </svg>\r\n        );\r\n    }\r\n\r\n    // 2. BAUHAUS: Geometric primitives interaction\r\n    if (layout === 'bauhaus') {\r\n        return (\r\n            <svg viewBox=\"0 0 100 100\" className={className} xmlns=\"http://www.w3.org/2000/svg\">\r\n                <rect width=\"100\" height=\"100\" fill={colors.bg} />\r\n\r\n                {/* Secondary Shape (Accent) */}\r\n                <g transform={`translate(${50 - secondaryScale * 8}, ${50 - secondaryScale * 8}) scale(${secondaryScale * 0.6})`} opacity=\"0.3\">\r\n                    <path d={secondaryShape.path} fill={colors.accent || colors.primary} />\r\n                </g>\r\n\r\n                {/* Primary Shape (Main) */}\r\n                <g transform={`translate(${centerOffset}, ${centerOffset}) scale(${primaryScale})`}>\r\n                    <path d={primaryShape.path} fill={colors.primary} style={{ mixBlendMode: 'multiply' }} />\r\n                </g>\r\n\r\n                {/* Type */}\r\n                <text x=\"50\" y=\"60\" fontSize=\"50\" fontWeight=\"bold\" textAnchor=\"middle\" fill={colors.text}>\r\n                    {initial}\r\n                </text>\r\n            </svg>\r\n        );\r\n    }\r\n\r\n    // 3. MINIMAL GRID: Data-driven, structured, technical\r\n    if (layout === 'minimal_grid') {\r\n        const gridSize = 3;\r\n        const cellSize = 100 / gridSize;\r\n        const positions = [0, 1, 2, 3, 4, 5, 6, 7, 8];\r\n        // Select random cells to fill based on seed (density 5/9)\r\n        const activeCells = positions.filter((p) => seededRandom(seed + p) > 0.4);\r\n\r\n        return (\r\n            <svg viewBox=\"0 0 100 100\" className={className} xmlns=\"http://www.w3.org/2000/svg\">\r\n                {activeCells.map((pos) => {\r\n                    const row = Math.floor(pos / gridSize);\r\n                    const col = pos % gridSize;\r\n                    return (\r\n                        <g key={pos} transform={`translate(${col * cellSize + 10}, ${row * cellSize + 10}) scale(0.6)`}>\r\n                            <path d={primaryShape.path} fill={colors.primary} opacity={row === 1 && col === 1 ? 1 : 0.4} />\r\n                        </g>\r\n                    );\r\n                })}\r\n            </svg>\r\n        );\r\n    }\r\n\r\n    // 4. ORGANIC FLUID: Soft, blurred, blending\r\n    if (layout === 'organic_fluid') {\r\n        return (\r\n            <svg viewBox=\"0 0 100 100\" className={className} xmlns=\"http://www.w3.org/2000/svg\">\r\n                <defs>\r\n                    <filter id={`blur-${uniqueId}`} x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\">\r\n                        <feGaussianBlur in=\"SourceGraphic\" stdDeviation=\"8\" result=\"blur\" />\r\n                        <feColorMatrix in=\"blur\" mode=\"matrix\" values=\"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 19 -9\" result=\"goo\" />\r\n                    </filter>\r\n                </defs>\r\n                <g filter={`url(#blur-${uniqueId})`} style={{ isolation: 'isolate' }}>\r\n                    <g transform=\"translate(40, 40) scale(1.5)\">\r\n                        <path d={primaryShape.path} fill={colors.primary} />\r\n                    </g>\r\n                    <g transform=\"translate(60, 60) scale(1.8)\">\r\n                        <path d={secondaryShape.path} fill={colors.accent || colors.primary} />\r\n                    </g>\r\n                </g>\r\n                {/* Sharp Overlay to retaining legibility */}\r\n                <g transform=\"translate(50, 50) scale(1) translate(-12, -12)\">\r\n                    <path d={primaryShape.path} fill=\"white\" opacity=\"0.9\" />\r\n                </g>\r\n            </svg>\r\n        );\r\n    }\r\n    // Algorithmic decision tree based on Vibe + Random Seed\r\n\r\n    // CREATIVE COMPOSITIONS - 12+ layout styles for premium variety\r\n    if (layout === 'generative') {\r\n        const layoutRoll = seededRandom(seed + 'comp');\r\n        const textureRoll = seededRandom(seed + 'tex');\r\n        const isOutlined = textureRoll > 0.6;\r\n        const primaryColor = overrideColors?.primary || colors.primary;\r\n        const accentColor = colors.accent || primaryColor;\r\n\r\n        // 12 composition styles for maximum variety (removed 'single' - too generic)\r\n        const styles = ['container', 'grid', 'diamond', 'frame', 'monogram', 'tech_circuit', 'corner', 'split', 'radial', 'cluster', 'overlap', 'spiral', 'wave'] as const;\r\n\r\n        let compositionStyle: string = styles[Math.floor(layoutRoll * styles.length)];\r\n\r\n        // SMART SELECTION LOGIC - All styles are designed/premium (no plain shapes)\r\n        if (brand.vibe.includes('minimal')) {\r\n            // Clean but designed styles for minimal vibes\r\n            const minimalStyles = ['container', 'frame', 'diamond', 'split', 'monogram'];\r\n            compositionStyle = minimalStyles[Math.floor(layoutRoll * minimalStyles.length)];\r\n        }\r\n        else if (brand.vibe.includes('tech')) {\r\n            // Tech-appropriate styles with variety\r\n            const techStyles = ['tech_circuit', 'grid', 'frame', 'diamond', 'container'];\r\n            compositionStyle = techStyles[Math.floor(layoutRoll * techStyles.length)];\r\n        } else if (brand.archetype === 'symbol') {\r\n            // For symbols, use layouts that showcase the shape in a designed context\r\n            const symbolStyles = ['container', 'frame', 'diamond', 'tech_circuit', 'corner'];\r\n            compositionStyle = symbolStyles[Math.floor(layoutRoll * symbolStyles.length)];\r\n        }\r\n\r\n        // SPECIAL TECH CIRCUIT LAYOUT\r\n        if (compositionStyle === 'tech_circuit') {\r\n            const isWhite = primaryColor.toLowerCase() === '#ffffff' || primaryColor.toLowerCase() === '#fff' || primaryColor.toLowerCase() === 'white';\r\n            const strokeColor = primaryColor;\r\n\r\n            return (\r\n                <svg viewBox=\"0 0 100 100\" className={className} xmlns=\"http://www.w3.org/2000/svg\">\r\n                    {/* Circuit Lines Background */}\r\n                    <g opacity=\"0.4\" stroke={strokeColor} strokeWidth=\"0.5\" fill=\"none\">\r\n                        <path d=\"M10,50 L30,50 L40,40\" />\r\n                        <path d=\"M90,50 L70,50 L60,60\" />\r\n                        <path d=\"M50,10 L50,30 L60,40\" />\r\n                        <path d=\"M50,90 L50,70 L40,60\" />\r\n                        <circle cx=\"10\" cy=\"50\" r=\"1.5\" fill={strokeColor} stroke=\"none\" />\r\n                        <circle cx=\"90\" cy=\"50\" r=\"1.5\" fill={strokeColor} stroke=\"none\" />\r\n                        <circle cx=\"50\" cy=\"10\" r=\"1.5\" fill={strokeColor} stroke=\"none\" />\r\n                        <circle cx=\"50\" cy=\"90\" r=\"1.5\" fill={strokeColor} stroke=\"none\" />\r\n                    </g>\r\n\r\n                    {/* Central Shape */}\r\n                    <g transform={`translate(${centerOffset}, ${centerOffset}) scale(${primaryScale}) rotate(${rotate}, ${pWidth / 2}, ${pWidth / 2})`}>\r\n                        <path d={primaryShape.path} fill={primaryColor} />\r\n                    </g>\r\n\r\n                    {/* Tech Accents */}\r\n                    <g transform=\"translate(50, 50)\" opacity=\"0.8\">\r\n                        <rect x=\"-40\" y=\"-40\" width=\"80\" height=\"80\" rx=\"20\" fill=\"none\" stroke={strokeColor} strokeWidth=\"1\" strokeDasharray=\"10 5\" opacity=\"0.3\" />\r\n                    </g>\r\n                </svg>\r\n            );\r\n        }\r\n\r\n        // 1. RADIAL: Shapes in a circle\r\n        if (compositionStyle === 'radial') {\r\n            const numItems = 5 + Math.floor(seededRandom(seed + 'radialN') * 4);\r\n            const radius = 26;\r\n            const itemScale = primaryScale * 0.32;\r\n\r\n            return (\r\n                <svg viewBox=\"0 0 100 100\" className={className} xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <g transform=\"translate(50, 50)\">\r\n                        {Array.from({ length: numItems }).map((_, i) => {\r\n                            const angle = (360 / numItems) * i - 90;\r\n                            const rad = angle * (Math.PI / 180);\r\n                            const x = Math.cos(rad) * radius;\r\n                            const y = Math.sin(rad) * radius;\r\n                            return (\r\n                                <g key={i} transform={`translate(${x}, ${y}) rotate(${angle + 90}) scale(${itemScale})`}>\r\n                                    <path d={primaryShape.path} fill={isOutlined ? 'none' : primaryColor} stroke={isOutlined ? primaryColor : 'none'} strokeWidth={2} />\r\n                                </g>\r\n                            );\r\n                        })}\r\n                    </g>\r\n                </svg>\r\n            );\r\n        }\r\n\r\n        // 2. GRID / CONSTRUCTION (Simplified for when explicitly chosen)\r\n        if (compositionStyle === 'grid') {\r\n            const gridSize = 3;\r\n            const cellSize = 70 / gridSize;\r\n            const startX = 50 - (gridSize * cellSize) / 2;\r\n            const startY = 50 - (gridSize * cellSize) / 2;\r\n            const bgFill = primaryColor;\r\n            const isWhite = primaryColor.toLowerCase() === '#ffffff' || primaryColor.toLowerCase() === '#fff';\r\n            const cellFill = isWhite ? 'black' : 'white';\r\n            const tweakScale = brand.logoTweaks?.scale || 1;\r\n\r\n            return (\r\n                <motion.svg viewBox=\"0 0 100 100\" className={className} xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <motion.g transform={`translate(50, 50) scale(${tweakScale}) translate(-50, -50)`} style={{ transformOrigin: 'center' }}>\r\n                        <motion.rect\r\n                            initial={{ scale: 0.8, opacity: 0 }}\r\n                            animate={{ scale: 1, opacity: 1 }}\r\n                            transition={{ duration: 0.5, ease: \"backOut\" }}\r\n                            x=\"10\" y=\"10\" width=\"80\" height=\"80\" rx=\"16\" fill={bgFill}\r\n                        />\r\n                        {Array.from({ length: gridSize * gridSize }).map((_, i) => {\r\n                            const row = Math.floor(i / gridSize);\r\n                            const col = i % gridSize;\r\n                            const isActive = seededRandom(seed + `c${i}`) < 0.4;\r\n                            if (!isActive) return null;\r\n\r\n                            return (\r\n                                <motion.rect\r\n                                    key={i}\r\n                                    initial={{ opacity: 0, scale: 0 }}\r\n                                    animate={{ opacity: 1, scale: 1 }}\r\n                                    transition={{ delay: 0.2 + (i * 0.1) }}\r\n                                    x={startX + col * cellSize + 2}\r\n                                    y={startY + row * cellSize + 2}\r\n                                    width={cellSize - 4}\r\n                                    height={cellSize - 4}\r\n                                    rx={2}\r\n                                    fill={cellFill}\r\n                                />\r\n                            );\r\n                        })}\r\n                    </motion.g>\r\n                </motion.svg>\r\n            );\r\n        }\r\n\r\n        // 3. CLUSTER: Organic grouping\r\n        if (compositionStyle === 'cluster') {\r\n            const positions = [\r\n                { x: 50, y: 32, scale: 1 }, { x: 32, y: 52, scale: 0.85 }, { x: 68, y: 52, scale: 0.85 },\r\n                { x: 40, y: 72, scale: 0.7 }, { x: 60, y: 72, scale: 0.7 }\r\n            ];\r\n            const baseScale = primaryScale * 0.38;\r\n\r\n            return (\r\n                <svg viewBox=\"0 0 100 100\" className={className} xmlns=\"http://www.w3.org/2000/svg\">\r\n                    {positions.map((pos, i) => (\r\n                        <g key={i} transform={`translate(${pos.x - 12 * baseScale * pos.scale}, ${pos.y - 12 * baseScale * pos.scale}) scale(${baseScale * pos.scale})`}>\r\n                            <path d={primaryShape.path} fill={isOutlined ? 'none' : primaryColor} stroke={isOutlined ? primaryColor : 'none'} strokeWidth={2.5} opacity={0.85 + i * 0.03} />\r\n                        </g>\r\n                    ))}\r\n                </svg>\r\n            );\r\n        }\r\n\r\n        // 4. CONTAINER: Shape inside squircle (True Negative Space)\r\n        if (compositionStyle === 'container') {\r\n            return (\r\n                <svg viewBox=\"0 0 100 100\" className={className} xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <defs>\r\n                        <mask id={`mask-container-${uniqueId}`}>\r\n                            <rect width=\"100\" height=\"100\" fill=\"white\" />\r\n                            <g transform={`translate(${centerOffset}, ${centerOffset}) scale(${primaryScale * 0.85}) rotate(${rotate}, ${pWidth / 2}, ${pWidth / 2})`}>\r\n                                <path d={primaryShape.path} fill=\"black\" />\r\n                            </g>\r\n                        </mask>\r\n                    </defs>\r\n                    <rect x=\"10\" y=\"10\" width=\"80\" height=\"80\" rx=\"18\" fill={primaryColor} mask={`url(#mask-container-${uniqueId})`} />\r\n                </svg>\r\n            );\r\n        }\r\n\r\n        // 5. SPIRAL: Shapes in spiral pattern\r\n        if (compositionStyle === 'spiral') {\r\n            const numItems = 6;\r\n            return (\r\n                <svg viewBox=\"0 0 100 100\" className={className} xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <g transform=\"translate(50, 50)\">\r\n                        {Array.from({ length: numItems }).map((_, i) => {\r\n                            const angle = i * 60;\r\n                            const radius = 10 + i * 5;\r\n                            const scale = 0.5 + i * 0.12;\r\n                            const x = Math.cos(angle * Math.PI / 180) * radius;\r\n                            const y = Math.sin(angle * Math.PI / 180) * radius;\r\n                            return (\r\n                                <g key={i} transform={`translate(${x}, ${y}) scale(${primaryScale * 0.25 * scale})`}>\r\n                                    <path d={primaryShape.path} fill={primaryColor} opacity={0.4 + i * 0.1} />\r\n                                </g>\r\n                            );\r\n                        })}\r\n                    </g>\r\n                </svg>\r\n            );\r\n        }\r\n\r\n        // 6. WAVE: Horizontal wave of shapes\r\n        if (compositionStyle === 'wave') {\r\n            return (\r\n                <svg viewBox=\"0 0 100 100\" className={className} xmlns=\"http://www.w3.org/2000/svg\">\r\n                    {[0, 1, 2, 3, 4].map((i) => {\r\n                        const x = 15 + i * 18;\r\n                        const y = 50 + Math.sin(i * 1.2) * 15;\r\n                        const scale = 0.6 + Math.abs(Math.sin(i * 0.8)) * 0.4;\r\n                        return (\r\n                            <g key={i} transform={`translate(${x - 10}, ${y - 10}) scale(${primaryScale * 0.35 * scale})`}>\r\n                                <path d={primaryShape.path} fill={primaryColor} opacity={0.7 + i * 0.06} />\r\n                            </g>\r\n                        );\r\n                    })}\r\n                </svg>\r\n            );\r\n        }\r\n\r\n        // 7. SPLIT: Two complementary halves (True Negative Space)\r\n        if (compositionStyle === 'split') {\r\n            return (\r\n                <svg viewBox=\"0 0 100 100\" className={className} xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <defs>\r\n                        <mask id={`mask-split-${uniqueId}`}>\r\n                            <rect width=\"100\" height=\"100\" fill=\"white\" />\r\n                            <g transform={`translate(25, 25) scale(${primaryScale * 0.9})`}>\r\n                                <path d={primaryShape.path} fill=\"black\" />\r\n                            </g>\r\n                        </mask>\r\n                    </defs>\r\n                    <rect x=\"10\" y=\"10\" width=\"80\" height=\"80\" rx=\"40\" fill={primaryColor} mask={`url(#mask-split-${uniqueId})`} />\r\n                </svg>\r\n            );\r\n        }\r\n\r\n        // 8. DIAMOND: Rotated container (True Negative Space)\r\n        if (compositionStyle === 'diamond') {\r\n            return (\r\n                <svg viewBox=\"0 0 100 100\" className={className} xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <defs>\r\n                        <mask id={`mask-diamond-${uniqueId}`}>\r\n                            <rect width=\"100\" height=\"100\" fill=\"white\" />\r\n                            <g transform={`translate(${centerOffset}, ${centerOffset}) scale(${primaryScale * 0.7})`}>\r\n                                <path d={primaryShape.path} fill=\"black\" />\r\n                            </g>\r\n                        </mask>\r\n                    </defs>\r\n                    <g transform=\"translate(50, 50) rotate(45)\">\r\n                        <rect x=\"-30\" y=\"-30\" width=\"60\" height=\"60\" rx=\"10\" fill={primaryColor} mask={`url(#mask-diamond-${uniqueId})`} />\r\n                    </g>\r\n                </svg>\r\n            );\r\n        }\r\n\r\n        // 9. CORNER: Shape in corner accent (True Negative Space)\r\n        if (compositionStyle === 'corner') {\r\n            return (\r\n                <svg viewBox=\"0 0 100 100\" className={className} xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <defs>\r\n                        <mask id={`mask-corner-${uniqueId}`}>\r\n                            <rect width=\"100\" height=\"100\" fill=\"white\" />\r\n                            <g transform={`translate(22, 22) scale(${primaryScale * 0.9})`}>\r\n                                <path d={primaryShape.path} fill=\"black\" />\r\n                            </g>\r\n                        </mask>\r\n                    </defs>\r\n                    <rect x=\"10\" y=\"10\" width=\"80\" height=\"80\" rx=\"16\" fill={primaryColor} mask={`url(#mask-corner-${uniqueId})`} />\r\n                    <g transform={`translate(60, 60) scale(${primaryScale * 0.4})`}>\r\n                        <path d={primaryShape.path} fill={primaryColor} opacity=\"0.3\" />\r\n                    </g>\r\n                </svg>\r\n            );\r\n        }\r\n\r\n        // 10. OVERLAP: Layered shapes\r\n        if (compositionStyle === 'overlap') {\r\n            return (\r\n                <svg viewBox=\"0 0 100 100\" className={className} xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <g transform={`translate(30, 30) scale(${primaryScale * 0.8})`}>\r\n                        <path d={primaryShape.path} fill={primaryColor} opacity=\"0.4\" />\r\n                    </g>\r\n                    <g transform={`translate(40, 40) scale(${primaryScale * 0.8})`}>\r\n                        <path d={primaryShape.path} fill={primaryColor} opacity=\"0.7\" />\r\n                    </g>\r\n                    <g transform={`translate(50, 50) scale(${primaryScale * 0.8})`}>\r\n                        <path d={primaryShape.path} fill={primaryColor} />\r\n                    </g>\r\n                </svg>\r\n            );\r\n        }\r\n\r\n        // 11. FRAME: Shape with outline frame\r\n        if (compositionStyle === 'frame') {\r\n            return (\r\n                <svg viewBox=\"0 0 100 100\" className={className} xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <rect x=\"12\" y=\"12\" width=\"76\" height=\"76\" rx=\"14\" fill=\"none\" stroke={primaryColor} strokeWidth=\"3\" />\r\n                    return (\r\n                    <svg viewBox=\"0 0 100 100\" className={className} xmlns=\"http://www.w3.org/2000/svg\">\r\n                        <rect x=\"12\" y=\"12\" width=\"76\" height=\"76\" rx=\"14\" fill=\"none\" stroke={primaryColor} strokeWidth=\"3\" />\r\n                        <g transform={`translate(${centerOffset}, ${centerOffset}) scale(${primaryScale * 0.85}) rotate(${rotate}, ${pWidth / 2}, ${pWidth / 2})`}>\r\n                            <path d={primaryShape.path} fill={primaryColor} />\r\n                        </g>\r\n                    </svg>\r\n                    );\r\n                </svg>\r\n            );\r\n        }\r\n\r\n        // 12. MONOGRAM: Letter + Shape combo\r\n        if (compositionStyle === 'monogram') {\r\n            const isWhite = primaryColor.toLowerCase() === '#ffffff' || primaryColor.toLowerCase() === '#fff' || primaryColor.toLowerCase() === 'white';\r\n            const contentFill = isWhite ? 'black' : 'white';\r\n\r\n            return (\r\n                <svg viewBox=\"0 0 100 100\" className={className} xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <rect x=\"10\" y=\"10\" width=\"80\" height=\"80\" rx=\"18\" fill={primaryColor} />\r\n                    <text x=\"50\" y=\"62\" fontSize=\"40\" fontWeight=\"bold\" textAnchor=\"middle\" fill={contentFill} fontFamily=\"system-ui\">{initial}</text>\r\n                    <g transform={`translate(65, 22) scale(${primaryScale * 0.35})`}>\r\n                        <path d={primaryShape.path} fill={contentFill} opacity=\"0.8\" />\r\n                    </g>\r\n                </svg>\r\n            );\r\n        }\r\n\r\n        // Default fallback - use container style (shape cut out of squircle)\r\n        return (\r\n            <svg viewBox=\"0 0 100 100\" className={className} xmlns=\"http://www.w3.org/2000/svg\">\r\n                <defs>\r\n                    <mask id={`mask-fallback-${uniqueId}`}>\r\n                        <rect width=\"100\" height=\"100\" fill=\"white\" />\r\n                        <g transform={`translate(${centerOffset}, ${centerOffset}) scale(${primaryScale * 0.85}) rotate(${rotate}, ${pWidth / 2}, ${pWidth / 2})`}>\r\n                            <path d={primaryShape.path} fill=\"black\" />\r\n                        </g>\r\n                    </mask>\r\n                </defs>\r\n                <rect x=\"10\" y=\"10\" width=\"80\" height=\"80\" rx=\"18\" fill={primaryColor} mask={`url(#mask-fallback-${uniqueId})`} />\r\n            </svg>\r\n        );\r\n    }\r\n\r\n    // Legacy fallback - use container layout (negative space)\r\n    return (\r\n        <svg viewBox=\"0 0 100 100\" className={className} xmlns=\"http://www.w3.org/2000/svg\">\r\n            <defs>\r\n                <mask id={`mask-legacy-${uniqueId}`}>\r\n                    <rect width=\"100\" height=\"100\" fill=\"white\" />\r\n                    <g transform={`translate(${centerOffset}, ${centerOffset}) scale(${primaryScale * 0.85})`}>\r\n                        <path d={primaryShape.path} fill=\"black\" />\r\n                    </g>\r\n                </mask>\r\n            </defs>\r\n            <rect x=\"10\" y=\"10\" width=\"80\" height=\"80\" rx=\"18\" fill={colors.primary} mask={`url(#mask-legacy-${uniqueId})`} />\r\n        </svg>\r\n    );\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\LogoConstruction.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'guideColor' is assigned a value but never used.","line":19,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":19,"endColumn":21}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useId } from 'react';\r\nimport { BrandIdentity } from '@/lib/data';\r\nimport { LogoComposition } from './LogoComposition';\r\n\r\ninterface LogoConstructionProps {\r\n    brand: BrandIdentity;\r\n    className?: string;\r\n}\r\n\r\n/**\r\n * Logo Construction / Blueprint View\r\n * Displays the logo with architectural grid lines, clear space guides, and geometry markers.\r\n * Delivers the \"High-End Agency\" presentation aesthetic.\r\n */\r\nexport const LogoConstruction = ({ brand, className }: LogoConstructionProps) => {\r\n    const uniqueId = useId();\r\n    const primaryColor = brand.theme.tokens.light.primary;\r\n    const gridColor = '#E5E5E5'; // Faint grey keyline\r\n    const guideColor = primaryColor; // Brand color for active guides\r\n\r\n    return (\r\n        <div className={`relative w-full aspect-square bg-slate-50 overflow-hidden ${className}`}>\r\n            {/* 1. Underlying Grid (10x10) */}\r\n            <svg className=\"absolute inset-0 w-full h-full opacity-20\" width=\"100%\" height=\"100%\">\r\n                <defs>\r\n                    <pattern id={`grid-${uniqueId}`} width=\"40\" height=\"40\" patternUnits=\"userSpaceOnUse\">\r\n                        <path d=\"M 40 0 L 0 0 0 40\" fill=\"none\" stroke={gridColor} strokeWidth=\"0.5\" />\r\n                    </pattern>\r\n                </defs>\r\n                <rect width=\"100%\" height=\"100%\" fill={`url(#grid-${uniqueId})`} />\r\n            </svg>\r\n\r\n            {/* 2. Construction Lines (Golden Ratio / Geometry) */}\r\n            <svg className=\"absolute inset-0 w-full h-full opacity-30 pointer-events-none\">\r\n                {/* Center Crosshair */}\r\n                <line x1=\"50%\" y1=\"0\" x2=\"50%\" y2=\"100%\" stroke={primaryColor} strokeWidth=\"0.5\" strokeDasharray=\"4 4\" />\r\n                <line x1=\"0\" y1=\"50%\" x2=\"100%\" y2=\"50%\" stroke={primaryColor} strokeWidth=\"0.5\" strokeDasharray=\"4 4\" />\r\n\r\n                {/* Golden Ratio Circles */}\r\n                <circle cx=\"50%\" cy=\"50%\" r=\"25%\" fill=\"none\" stroke={primaryColor} strokeWidth=\"0.5\" opacity=\"0.5\" />\r\n                <circle cx=\"50%\" cy=\"50%\" r=\"38%\" fill=\"none\" stroke={primaryColor} strokeWidth=\"0.5\" opacity=\"0.3\" />\r\n\r\n                {/* Safe Zone Box */}\r\n                <rect x=\"15%\" y=\"15%\" width=\"70%\" height=\"70%\" fill=\"none\" stroke={primaryColor} strokeWidth=\"0.5\" strokeDasharray=\"2 2\" opacity=\"0.4\" />\r\n            </svg>\r\n\r\n            {/* 3. The Logo Itself (Ghosted & Real) */}\r\n            <div className=\"absolute inset-0 flex items-center justify-center p-12\">\r\n                <div className=\"relative w-full h-full\">\r\n                    {/* Outline / Construction Ghost */}\r\n                    <div className=\"absolute inset-0 opacity-10 scale-110 blur-sm pointer-events-none grayscale\">\r\n                        <LogoComposition brand={brand} layout=\"generative\" />\r\n                    </div>\r\n\r\n                    {/* Real Logo */}\r\n                    <div className=\"relative z-10 w-full h-full drop-shadow-2xl\">\r\n                        <LogoComposition brand={brand} layout=\"generative\" />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* 4. Annotations */}\r\n            <div className=\"absolute top-4 left-4 font-mono text-[10px] text-slate-400 tracking-widest uppercase\">\r\n                <div>Grid: 10px</div>\r\n                <div>Scale: 1:1</div>\r\n            </div>\r\n\r\n            <div className=\"absolute bottom-4 right-4 font-mono text-[10px] text-slate-400 tracking-widest uppercase text-right\">\r\n                <div>Safe Zone: 2x</div>\r\n                <div>{brand.shape?.name || 'Geometric'} Synthesis</div>\r\n            </div>\r\n\r\n            {/* 5. Measurement Indicators */}\r\n            <div className=\"absolute top-1/2 right-[10%] h-[30%] -translate-y-1/2 border-r border-slate-300 flex items-center justify-center\">\r\n                <span className=\"translate-x-[150%] rotate-90 font-mono text-[9px] text-slate-400\">1.618 x</span>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\LogoEngine.tsx","messages":[{"ruleId":"@typescript-eslint/ban-ts-comment","severity":2,"message":"Use \"@ts-expect-error\" instead of \"@ts-ignore\", as \"@ts-ignore\" will do nothing if the following line is error-free.","line":38,"column":5,"nodeType":"Line","messageId":"tsIgnoreInsteadOfExpectError","endLine":38,"endColumn":61,"suggestions":[{"messageId":"replaceTsIgnoreWithTsExpectError","fix":{"range":[1177,1233],"text":"// @ts-expect-error - We are dynamically accessing the library"},"desc":"Replace \"@ts-ignore\" with \"@ts-expect-error\"."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\nimport * as Icons from 'lucide-react';\r\nimport { cn } from '@/lib/utils';\r\n\r\n// 1. THE ARCHITECTURAL SHAPES (No more basic squares)\r\n// We use clip-paths to create complex geometric containers.\r\nexport const CONTAINERS: Record<string, string> = {\r\n    'squircle': 'rounded-2xl',\r\n    'hexagon': 'clip-path-hexagon', // You need a CSS class for this or SVG wrapper\r\n    'diamond': 'rotate-45 rounded-xl',\r\n    'cyber': 'rounded-tl-2xl rounded-br-2xl rounded-tr-sm rounded-bl-sm', // Tech shape\r\n    'pill': 'rounded-full',\r\n};\r\n\r\n// 2. THE STYLES (Fill, Outline, Duotone)\r\nexport type LogoStyle = 'solid' | 'outline' | 'soft' | 'gradient';\r\n\r\n// Valid Lucide Icon names (subset or logic to check)\r\n// checks done at runtime\r\n\r\ninterface LogoEngineProps {\r\n    iconName: string;      // The Lucide Icon Name (e.g. \"Zap\")\r\n    containerShape: string; // \"squircle\", \"cyber\", etc.\r\n    primaryColor: string;\r\n    className?: string;\r\n    style?: LogoStyle;\r\n}\r\n\r\nexport default function LogoEngine({\r\n    iconName,\r\n    containerShape,\r\n    primaryColor,\r\n    className,\r\n    style = 'solid'\r\n}: LogoEngineProps) {\r\n\r\n    // Dynamic Icon Retrieval\r\n    // @ts-ignore - We are dynamically accessing the library\r\n    const LucideIcon = Icons[iconName] || Icons.Sparkles; // Fallback to Sparkles if not found\r\n\r\n    // If diamond, we need to counter-rotate the icon\r\n    const isDiamond = containerShape === 'diamond';\r\n\r\n    return (\r\n        <div className={cn(\"relative flex items-center justify-center w-32 h-32 group\", className)}>\r\n\r\n            {/* LAYER 1: The Container */}\r\n            <div\r\n                className={cn(\r\n                    \"absolute inset-0 transition-all duration-500 overflow-hidden\",\r\n                    CONTAINERS[containerShape] || 'rounded-xl'\r\n                )}\r\n                style={{\r\n                    backgroundColor: style === 'outline' ? 'transparent' : primaryColor,\r\n                    border: style === 'outline' ? `4px solid ${primaryColor}` : 'none',\r\n                }}\r\n            >\r\n                {/* Subtle Gradient Overlay for depth */}\r\n                <div className=\"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent opacity-50\" />\r\n            </div>\r\n\r\n            {/* LAYER 2: The Icon */}\r\n            <div className={cn(\r\n                \"relative z-10 transform transition-transform duration-500 group-hover:scale-110\",\r\n                isDiamond && \"-rotate-45\"\r\n            )}>\r\n                <LucideIcon\r\n                    size={48}\r\n                    color={style === 'outline' ? primaryColor : 'white'}\r\n                    strokeWidth={style === 'outline' ? 2 : 2}\r\n                    className=\"drop-shadow-sm\"\r\n                />\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\LogoGlyph.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\LogoLettermark.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\LogoMonogram.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\LogoStarburst.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\PalettePreview.tsx","messages":[{"ruleId":"react-hooks/static-components","severity":2,"message":"Error: Cannot create components during render\n\nComponents created during render will reset their state each time they are created. Declare components outside of render.\n\nF:\\work\\Glyph\\components\\logo-engine\\PalettePreview.tsx:102:22\n  100 |                 <div className=\"mt-auto space-y-1.5\">\n  101 |                     <div className=\"text-[9px] font-mono mb-2 opacity-40 uppercase tracking-wider\">Generated Tokens</div>\n> 102 |                     <TokenRow label=\"--brand\" value={light.brand} mode=\"light\" />\n      |                      ^^^^^^^^ This component is created during render\n  103 |                     <TokenRow label=\"--surface\" value={light.surface} mode=\"light\" />\n  104 |                     <TokenRow label=\"--accent\" value={light.accent} mode=\"light\" />\n  105 |                 </div>\n\nF:\\work\\Glyph\\components\\logo-engine\\PalettePreview.tsx:28:22\n  26 |     };\n  27 |\n> 28 |     const TokenRow = ({ label, value, mode }: { label: string; value: string; mode: 'light' | 'dark' }) => {\n     |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 29 |         const bgStyle = mode === 'light'\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 30 |             ? { backgroundColor: 'rgba(255,255,255,0.5)', borderColor: light.border }\n     ΓÇª\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 50 |         );\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 51 |     };\n     | ^^^^^^ The component is created during render here\n  52 |\n  53 |     return (\n  54 |         <motion.div","line":102,"column":22,"nodeType":null,"endLine":102,"endColumn":30},{"ruleId":"react-hooks/static-components","severity":2,"message":"Error: Cannot create components during render\n\nComponents created during render will reset their state each time they are created. Declare components outside of render.\n\nF:\\work\\Glyph\\components\\logo-engine\\PalettePreview.tsx:103:22\n  101 |                     <div className=\"text-[9px] font-mono mb-2 opacity-40 uppercase tracking-wider\">Generated Tokens</div>\n  102 |                     <TokenRow label=\"--brand\" value={light.brand} mode=\"light\" />\n> 103 |                     <TokenRow label=\"--surface\" value={light.surface} mode=\"light\" />\n      |                      ^^^^^^^^ This component is created during render\n  104 |                     <TokenRow label=\"--accent\" value={light.accent} mode=\"light\" />\n  105 |                 </div>\n  106 |             </div>\n\nF:\\work\\Glyph\\components\\logo-engine\\PalettePreview.tsx:28:22\n  26 |     };\n  27 |\n> 28 |     const TokenRow = ({ label, value, mode }: { label: string; value: string; mode: 'light' | 'dark' }) => {\n     |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 29 |         const bgStyle = mode === 'light'\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 30 |             ? { backgroundColor: 'rgba(255,255,255,0.5)', borderColor: light.border }\n     ΓÇª\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 50 |         );\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 51 |     };\n     | ^^^^^^ The component is created during render here\n  52 |\n  53 |     return (\n  54 |         <motion.div","line":103,"column":22,"nodeType":null,"endLine":103,"endColumn":30},{"ruleId":"react-hooks/static-components","severity":2,"message":"Error: Cannot create components during render\n\nComponents created during render will reset their state each time they are created. Declare components outside of render.\n\nF:\\work\\Glyph\\components\\logo-engine\\PalettePreview.tsx:104:22\n  102 |                     <TokenRow label=\"--brand\" value={light.brand} mode=\"light\" />\n  103 |                     <TokenRow label=\"--surface\" value={light.surface} mode=\"light\" />\n> 104 |                     <TokenRow label=\"--accent\" value={light.accent} mode=\"light\" />\n      |                      ^^^^^^^^ This component is created during render\n  105 |                 </div>\n  106 |             </div>\n  107 |\n\nF:\\work\\Glyph\\components\\logo-engine\\PalettePreview.tsx:28:22\n  26 |     };\n  27 |\n> 28 |     const TokenRow = ({ label, value, mode }: { label: string; value: string; mode: 'light' | 'dark' }) => {\n     |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 29 |         const bgStyle = mode === 'light'\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 30 |             ? { backgroundColor: 'rgba(255,255,255,0.5)', borderColor: light.border }\n     ΓÇª\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 50 |         );\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 51 |     };\n     | ^^^^^^ The component is created during render here\n  52 |\n  53 |     return (\n  54 |         <motion.div","line":104,"column":22,"nodeType":null,"endLine":104,"endColumn":30},{"ruleId":"react-hooks/static-components","severity":2,"message":"Error: Cannot create components during render\n\nComponents created during render will reset their state each time they are created. Declare components outside of render.\n\nF:\\work\\Glyph\\components\\logo-engine\\PalettePreview.tsx:150:22\n  148 |                 <div className=\"mt-auto space-y-1.5\">\n  149 |                     <div className=\"text-[9px] font-mono mb-2 opacity-40 uppercase tracking-wider\">Adapted Tokens</div>\n> 150 |                     <TokenRow label=\"--brand\" value={dark.brand} mode=\"dark\" />\n      |                      ^^^^^^^^ This component is created during render\n  151 |                     <TokenRow label=\"--surface\" value={dark.surface} mode=\"dark\" />\n  152 |                     <TokenRow label=\"--accent\" value={dark.accent} mode=\"dark\" />\n  153 |                 </div>\n\nF:\\work\\Glyph\\components\\logo-engine\\PalettePreview.tsx:28:22\n  26 |     };\n  27 |\n> 28 |     const TokenRow = ({ label, value, mode }: { label: string; value: string; mode: 'light' | 'dark' }) => {\n     |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 29 |         const bgStyle = mode === 'light'\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 30 |             ? { backgroundColor: 'rgba(255,255,255,0.5)', borderColor: light.border }\n     ΓÇª\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 50 |         );\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 51 |     };\n     | ^^^^^^ The component is created during render here\n  52 |\n  53 |     return (\n  54 |         <motion.div","line":150,"column":22,"nodeType":null,"endLine":150,"endColumn":30},{"ruleId":"react-hooks/static-components","severity":2,"message":"Error: Cannot create components during render\n\nComponents created during render will reset their state each time they are created. Declare components outside of render.\n\nF:\\work\\Glyph\\components\\logo-engine\\PalettePreview.tsx:151:22\n  149 |                     <div className=\"text-[9px] font-mono mb-2 opacity-40 uppercase tracking-wider\">Adapted Tokens</div>\n  150 |                     <TokenRow label=\"--brand\" value={dark.brand} mode=\"dark\" />\n> 151 |                     <TokenRow label=\"--surface\" value={dark.surface} mode=\"dark\" />\n      |                      ^^^^^^^^ This component is created during render\n  152 |                     <TokenRow label=\"--accent\" value={dark.accent} mode=\"dark\" />\n  153 |                 </div>\n  154 |             </div>\n\nF:\\work\\Glyph\\components\\logo-engine\\PalettePreview.tsx:28:22\n  26 |     };\n  27 |\n> 28 |     const TokenRow = ({ label, value, mode }: { label: string; value: string; mode: 'light' | 'dark' }) => {\n     |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 29 |         const bgStyle = mode === 'light'\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 30 |             ? { backgroundColor: 'rgba(255,255,255,0.5)', borderColor: light.border }\n     ΓÇª\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 50 |         );\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 51 |     };\n     | ^^^^^^ The component is created during render here\n  52 |\n  53 |     return (\n  54 |         <motion.div","line":151,"column":22,"nodeType":null,"endLine":151,"endColumn":30},{"ruleId":"react-hooks/static-components","severity":2,"message":"Error: Cannot create components during render\n\nComponents created during render will reset their state each time they are created. Declare components outside of render.\n\nF:\\work\\Glyph\\components\\logo-engine\\PalettePreview.tsx:152:22\n  150 |                     <TokenRow label=\"--brand\" value={dark.brand} mode=\"dark\" />\n  151 |                     <TokenRow label=\"--surface\" value={dark.surface} mode=\"dark\" />\n> 152 |                     <TokenRow label=\"--accent\" value={dark.accent} mode=\"dark\" />\n      |                      ^^^^^^^^ This component is created during render\n  153 |                 </div>\n  154 |             </div>\n  155 |\n\nF:\\work\\Glyph\\components\\logo-engine\\PalettePreview.tsx:28:22\n  26 |     };\n  27 |\n> 28 |     const TokenRow = ({ label, value, mode }: { label: string; value: string; mode: 'light' | 'dark' }) => {\n     |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 29 |         const bgStyle = mode === 'light'\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 30 |             ? { backgroundColor: 'rgba(255,255,255,0.5)', borderColor: light.border }\n     ΓÇª\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 50 |         );\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 51 |     };\n     | ^^^^^^ The component is created during render here\n  52 |\n  53 |     return (\n  54 |         <motion.div","line":152,"column":22,"nodeType":null,"endLine":152,"endColumn":30}],"suppressedMessages":[],"errorCount":6,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport React from 'react';\r\nimport { generatePalette, getContrastText } from '@/utils/paletteGenerator';\r\nimport { Check, Copy, Sun, Moon } from \"lucide-react\";\r\nimport { cn } from '@/lib/utils';\r\nimport { motion } from 'framer-motion';\r\n\r\ninterface PalettePreviewProps {\r\n    primaryColor: string;\r\n    className?: string;\r\n}\r\n\r\n/**\r\n * Day/Night Twin Palette Preview\r\n * Shows how a brand color adapts between Light and Dark modes\r\n */\r\nexport default function PalettePreview({ primaryColor, className }: PalettePreviewProps) {\r\n    const { light, dark } = generatePalette(primaryColor);\r\n    const [copiedToken, setCopiedToken] = React.useState<string | null>(null);\r\n\r\n    const copyToken = (value: string, label: string) => {\r\n        navigator.clipboard.writeText(value);\r\n        setCopiedToken(label);\r\n        setTimeout(() => setCopiedToken(null), 1500);\r\n    };\r\n\r\n    const TokenRow = ({ label, value, mode }: { label: string; value: string; mode: 'light' | 'dark' }) => {\r\n        const bgStyle = mode === 'light'\r\n            ? { backgroundColor: 'rgba(255,255,255,0.5)', borderColor: light.border }\r\n            : { backgroundColor: 'rgba(255,255,255,0.05)', borderColor: dark.border };\r\n\r\n        return (\r\n            <button\r\n                onClick={() => copyToken(value, `${mode}-${label}`)}\r\n                className=\"flex items-center justify-between p-2 rounded border text-left hover:scale-[1.02] transition-transform w-full\"\r\n                style={bgStyle}\r\n            >\r\n                <span className=\"font-mono text-[10px] opacity-60\">{label}</span>\r\n                <div className=\"flex items-center gap-2\">\r\n                    <div className=\"w-3 h-3 rounded-full shadow-sm\" style={{ backgroundColor: value }} />\r\n                    <span className=\"font-mono text-[10px] font-bold\">{value.toUpperCase()}</span>\r\n                    {copiedToken === `${mode}-${label}` ? (\r\n                        <Check size={10} className=\"text-green-500\" />\r\n                    ) : (\r\n                        <Copy size={10} className=\"opacity-30\" />\r\n                    )}\r\n                </div>\r\n            </button>\r\n        );\r\n    };\r\n\r\n    return (\r\n        <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            className={cn(\"w-full flex flex-col md:flex-row rounded-3xl overflow-hidden border border-stone-200 shadow-xl\", className)}\r\n        >\r\n\r\n            {/* --- LIGHT MODE PREVIEW --- */}\r\n            <div\r\n                className=\"flex-1 p-6 md:p-8 flex flex-col gap-5 relative\"\r\n                style={{ backgroundColor: light.bg, color: light.text }}\r\n            >\r\n                <div className=\"flex items-center gap-2 absolute top-4 left-4\">\r\n                    <Sun size={12} className=\"opacity-50\" />\r\n                    <span className=\"text-[10px] font-mono uppercase tracking-widest opacity-50\">\r\n                        Light Mode\r\n                    </span>\r\n                </div>\r\n\r\n                {/* Brand Card Preview */}\r\n                <div\r\n                    className=\"p-5 rounded-2xl border flex flex-col gap-4 shadow-sm mt-6\"\r\n                    style={{ backgroundColor: light.surface, borderColor: light.border }}\r\n                >\r\n                    <div className=\"flex items-center gap-3\">\r\n                        <div\r\n                            className=\"w-10 h-10 rounded-xl flex items-center justify-center shadow-md\"\r\n                            style={{ backgroundColor: light.brand, color: getContrastText(light.brand) }}\r\n                        >\r\n                            <Check size={18} />\r\n                        </div>\r\n                        <div>\r\n                            <h4 className=\"font-bold text-sm\">Payment Success</h4>\r\n                            <p className=\"text-[11px] opacity-60\">Transaction #8832 completed.</p>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Primary Button */}\r\n                    <button\r\n                        className=\"w-full py-2.5 rounded-xl text-sm font-bold shadow-sm hover:translate-y-[-1px] transition-transform\"\r\n                        style={{ backgroundColor: light.brand, color: getContrastText(light.brand) }}\r\n                    >\r\n                        View Dashboard\r\n                    </button>\r\n                </div>\r\n\r\n                {/* Token List */}\r\n                <div className=\"mt-auto space-y-1.5\">\r\n                    <div className=\"text-[9px] font-mono mb-2 opacity-40 uppercase tracking-wider\">Generated Tokens</div>\r\n                    <TokenRow label=\"--brand\" value={light.brand} mode=\"light\" />\r\n                    <TokenRow label=\"--surface\" value={light.surface} mode=\"light\" />\r\n                    <TokenRow label=\"--accent\" value={light.accent} mode=\"light\" />\r\n                </div>\r\n            </div>\r\n\r\n            {/* --- DARK MODE PREVIEW --- */}\r\n            <div\r\n                className=\"flex-1 p-6 md:p-8 flex flex-col gap-5 relative border-t md:border-t-0 md:border-l\"\r\n                style={{ backgroundColor: dark.bg, color: dark.text, borderColor: 'rgba(255,255,255,0.1)' }}\r\n            >\r\n                <div className=\"flex items-center gap-2 absolute top-4 left-4\">\r\n                    <Moon size={12} className=\"opacity-50\" />\r\n                    <span className=\"text-[10px] font-mono uppercase tracking-widest opacity-50\">\r\n                        Dark Mode\r\n                    </span>\r\n                </div>\r\n\r\n                {/* Brand Card Preview */}\r\n                <div\r\n                    className=\"p-5 rounded-2xl border flex flex-col gap-4 shadow-lg mt-6\"\r\n                    style={{ backgroundColor: dark.surface, borderColor: dark.border }}\r\n                >\r\n                    <div className=\"flex items-center gap-3\">\r\n                        <div\r\n                            className=\"w-10 h-10 rounded-xl flex items-center justify-center shadow-lg\"\r\n                            style={{ backgroundColor: dark.brand, color: getContrastText(dark.brand) }}\r\n                        >\r\n                            <Check size={18} />\r\n                        </div>\r\n                        <div>\r\n                            <h4 className=\"font-bold text-sm\">Payment Success</h4>\r\n                            <p className=\"text-[11px] opacity-60\">Transaction #8832 completed.</p>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Primary Button - Notice the adapted color! */}\r\n                    <button\r\n                        className=\"w-full py-2.5 rounded-xl text-sm font-bold shadow-[0_0_20px_-5px_rgba(255,255,255,0.15)] hover:translate-y-[-1px] transition-transform\"\r\n                        style={{ backgroundColor: dark.brand, color: getContrastText(dark.brand) }}\r\n                    >\r\n                        View Dashboard\r\n                    </button>\r\n                </div>\r\n\r\n                {/* Token List */}\r\n                <div className=\"mt-auto space-y-1.5\">\r\n                    <div className=\"text-[9px] font-mono mb-2 opacity-40 uppercase tracking-wider\">Adapted Tokens</div>\r\n                    <TokenRow label=\"--brand\" value={dark.brand} mode=\"dark\" />\r\n                    <TokenRow label=\"--surface\" value={dark.surface} mode=\"dark\" />\r\n                    <TokenRow label=\"--accent\" value={dark.accent} mode=\"dark\" />\r\n                </div>\r\n            </div>\r\n\r\n        </motion.div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\SmartLogo.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\animation\\animation-export.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'LottieKeyframe' is defined but never used.","line":11,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":11,"endColumn":19},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Point' is defined but never used.","line":17,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":17,"endColumn":10},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'createSeededRandom' is defined but never used.","line":19,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":19,"endColumn":28},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":338,"column":26,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":338,"endColumn":29,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9974,9977],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9974,9977],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Animation Export System\r\n *\r\n * Generates Lottie JSON and CSS keyframe animations for logos\r\n * 3 presets: fade-in, scale-bounce, draw-path\r\n */\r\n\r\nimport {\r\n    LottieAnimation,\r\n    LottieLayer,\r\n    LottieKeyframe,\r\n    LottieShape,\r\n    CSSAnimation,\r\n    AnimationPreset,\r\n    LogoAnimation,\r\n    GeneratedLogo,\r\n    Point,\r\n} from '../types';\r\nimport { createSeededRandom } from '../core/parametric-engine';\r\n\r\n// ============================================\r\n// ANIMATION PRESETS\r\n// ============================================\r\n\r\nexport const ANIMATION_PRESETS: AnimationPreset[] = [\r\n    'fade-in',\r\n    'scale-bounce',\r\n    'draw-path',\r\n    'morph-reveal',\r\n    'stagger-in',\r\n];\r\n\r\n// ============================================\r\n// LOTTIE GENERATION\r\n// ============================================\r\n\r\n/**\r\n * Parse SVG path data to Lottie shape format\r\n */\r\nfunction parseSvgPathToLottie(pathD: string): {\r\n    i: number[][];\r\n    o: number[][];\r\n    v: number[][];\r\n    c: boolean;\r\n} {\r\n    const vertices: number[][] = [];\r\n    const inTangents: number[][] = [];\r\n    const outTangents: number[][] = [];\r\n\r\n    // Simple path parser - handles M, L, C, Q, Z commands\r\n    const commands = pathD.match(/[MLCQZ][^MLCQZ]*/gi) || [];\r\n\r\n    let currentX = 0;\r\n    let currentY = 0;\r\n\r\n    commands.forEach(cmd => {\r\n        const type = cmd[0].toUpperCase();\r\n        const nums = cmd.slice(1).trim().split(/[\\s,]+/).filter(Boolean).map(parseFloat);\r\n\r\n        switch (type) {\r\n            case 'M':\r\n                currentX = nums[0];\r\n                currentY = nums[1];\r\n                vertices.push([currentX, currentY]);\r\n                inTangents.push([0, 0]);\r\n                outTangents.push([0, 0]);\r\n                break;\r\n\r\n            case 'L':\r\n                currentX = nums[0];\r\n                currentY = nums[1];\r\n                vertices.push([currentX, currentY]);\r\n                inTangents.push([0, 0]);\r\n                outTangents.push([0, 0]);\r\n                break;\r\n\r\n            case 'C':\r\n                // Cubic bezier: cp1x, cp1y, cp2x, cp2y, x, y\r\n                if (nums.length >= 6) {\r\n                    // Update out tangent of previous vertex\r\n                    if (outTangents.length > 0) {\r\n                        const prevIdx = outTangents.length - 1;\r\n                        outTangents[prevIdx] = [\r\n                            nums[0] - vertices[prevIdx][0],\r\n                            nums[1] - vertices[prevIdx][1],\r\n                        ];\r\n                    }\r\n\r\n                    currentX = nums[4];\r\n                    currentY = nums[5];\r\n                    vertices.push([currentX, currentY]);\r\n                    inTangents.push([nums[2] - currentX, nums[3] - currentY]);\r\n                    outTangents.push([0, 0]);\r\n                }\r\n                break;\r\n\r\n            case 'Q':\r\n                // Quadratic bezier: cpx, cpy, x, y - convert to cubic approximation\r\n                if (nums.length >= 4) {\r\n                    const cpx = nums[0];\r\n                    const cpy = nums[1];\r\n                    currentX = nums[2];\r\n                    currentY = nums[3];\r\n\r\n                    if (outTangents.length > 0) {\r\n                        const prevIdx = outTangents.length - 1;\r\n                        outTangents[prevIdx] = [\r\n                            (cpx - vertices[prevIdx][0]) * 0.67,\r\n                            (cpy - vertices[prevIdx][1]) * 0.67,\r\n                        ];\r\n                    }\r\n\r\n                    vertices.push([currentX, currentY]);\r\n                    inTangents.push([(cpx - currentX) * 0.67, (cpy - currentY) * 0.67]);\r\n                    outTangents.push([0, 0]);\r\n                }\r\n                break;\r\n\r\n            case 'Z':\r\n                // Close path - handled by closed flag\r\n                break;\r\n        }\r\n    });\r\n\r\n    return {\r\n        i: inTangents,\r\n        o: outTangents,\r\n        v: vertices,\r\n        c: pathD.toUpperCase().includes('Z'),\r\n    };\r\n}\r\n\r\n/**\r\n * Generate Lottie animation for a logo\r\n */\r\nexport function generateLottieAnimation(\r\n    logo: GeneratedLogo,\r\n    preset: AnimationPreset,\r\n    duration: number = 1000\r\n): LottieAnimation {\r\n    const frameRate = 60;\r\n    const totalFrames = Math.round((duration / 1000) * frameRate);\r\n\r\n    // Parse SVG to extract paths\r\n    const paths = extractSvgPaths(logo.svg);\r\n    const colors = extractSvgColors(logo.svg);\r\n\r\n    // Create layers based on preset\r\n    const layers: LottieLayer[] = [];\r\n\r\n    switch (preset) {\r\n        case 'fade-in':\r\n            layers.push(createFadeInLayer(paths, colors, totalFrames));\r\n            break;\r\n\r\n        case 'scale-bounce':\r\n            layers.push(createScaleBounceLayer(paths, colors, totalFrames));\r\n            break;\r\n\r\n        case 'draw-path':\r\n            paths.forEach((path, i) => {\r\n                layers.push(createDrawPathLayer(path, colors[i] || colors[0], totalFrames, i, paths.length));\r\n            });\r\n            break;\r\n\r\n        case 'morph-reveal':\r\n            layers.push(createMorphRevealLayer(paths, colors, totalFrames));\r\n            break;\r\n\r\n        case 'stagger-in':\r\n            paths.forEach((path, i) => {\r\n                layers.push(createStaggerInLayer(path, colors[i] || colors[0], totalFrames, i, paths.length));\r\n            });\r\n            break;\r\n    }\r\n\r\n    return {\r\n        v: '5.7.4',\r\n        fr: frameRate,\r\n        ip: 0,\r\n        op: totalFrames,\r\n        w: 100,\r\n        h: 100,\r\n        layers,\r\n    };\r\n}\r\n\r\n/**\r\n * Create fade-in animation layer\r\n */\r\nfunction createFadeInLayer(\r\n    paths: string[],\r\n    colors: string[],\r\n    totalFrames: number\r\n): LottieLayer {\r\n    const shapes: LottieShape[] = paths.map((path, i) => ({\r\n        ty: 'gr',\r\n        nm: `Shape ${i + 1}`,\r\n        it: [\r\n            {\r\n                ty: 'sh',\r\n                nm: 'Path',\r\n                ks: {\r\n                    a: 0,\r\n                    k: parseSvgPathToLottie(path),\r\n                },\r\n            },\r\n            {\r\n                ty: 'fl',\r\n                nm: 'Fill',\r\n                c: { a: 0, k: hexToLottieColor(colors[i] || colors[0]) },\r\n                o: { a: 0, k: 100 },\r\n            },\r\n            {\r\n                ty: 'tr',\r\n                nm: 'Transform',\r\n            },\r\n        ],\r\n    }));\r\n\r\n    return {\r\n        ty: 4,\r\n        nm: 'Logo Layer',\r\n        ks: {\r\n            o: {\r\n                a: 1,\r\n                k: [\r\n                    { t: 0, s: [0], e: [100], i: { x: [0.4], y: [1] }, o: { x: [0.6], y: [0] } },\r\n                    { t: totalFrames * 0.6, s: [100] },\r\n                ],\r\n            },\r\n            r: { a: 0, k: 0 },\r\n            p: { a: 0, k: [50, 50] },\r\n            s: { a: 0, k: [100, 100] },\r\n        },\r\n        shapes,\r\n    };\r\n}\r\n\r\n/**\r\n * Create scale-bounce animation layer\r\n */\r\nfunction createScaleBounceLayer(\r\n    paths: string[],\r\n    colors: string[],\r\n    totalFrames: number\r\n): LottieLayer {\r\n    const shapes: LottieShape[] = paths.map((path, i) => ({\r\n        ty: 'gr',\r\n        nm: `Shape ${i + 1}`,\r\n        it: [\r\n            {\r\n                ty: 'sh',\r\n                nm: 'Path',\r\n                ks: { a: 0, k: parseSvgPathToLottie(path) },\r\n            },\r\n            {\r\n                ty: 'fl',\r\n                nm: 'Fill',\r\n                c: { a: 0, k: hexToLottieColor(colors[i] || colors[0]) },\r\n                o: { a: 0, k: 100 },\r\n            },\r\n            { ty: 'tr', nm: 'Transform' },\r\n        ],\r\n    }));\r\n\r\n    return {\r\n        ty: 4,\r\n        nm: 'Logo Layer',\r\n        ks: {\r\n            o: { a: 0, k: 100 },\r\n            r: { a: 0, k: 0 },\r\n            p: { a: 0, k: [50, 50] },\r\n            s: {\r\n                a: 1,\r\n                k: [\r\n                    { t: 0, s: [0, 0], e: [110, 110], i: { x: [0.2], y: [1] }, o: { x: [0.8], y: [0] } },\r\n                    { t: totalFrames * 0.5, s: [110, 110], e: [95, 95], i: { x: [0.4], y: [1] }, o: { x: [0.6], y: [0] } },\r\n                    { t: totalFrames * 0.7, s: [95, 95], e: [100, 100], i: { x: [0.4], y: [1] }, o: { x: [0.6], y: [0] } },\r\n                    { t: totalFrames, s: [100, 100] },\r\n                ],\r\n            },\r\n        },\r\n        shapes,\r\n    };\r\n}\r\n\r\n/**\r\n * Create draw-path animation layer\r\n */\r\nfunction createDrawPathLayer(\r\n    path: string,\r\n    color: string,\r\n    totalFrames: number,\r\n    index: number,\r\n    totalPaths: number\r\n): LottieLayer {\r\n    const staggerDelay = (index / totalPaths) * totalFrames * 0.3;\r\n    const drawDuration = totalFrames * 0.6;\r\n\r\n    return {\r\n        ty: 4,\r\n        nm: `Path ${index + 1}`,\r\n        ks: {\r\n            o: { a: 0, k: 100 },\r\n            r: { a: 0, k: 0 },\r\n            p: { a: 0, k: [50, 50] },\r\n            s: { a: 0, k: [100, 100] },\r\n        },\r\n        shapes: [\r\n            {\r\n                ty: 'gr',\r\n                nm: 'Shape',\r\n                it: [\r\n                    {\r\n                        ty: 'sh',\r\n                        nm: 'Path',\r\n                        ks: { a: 0, k: parseSvgPathToLottie(path) },\r\n                    },\r\n                    {\r\n                        ty: 'st',\r\n                        nm: 'Stroke',\r\n                        c: { a: 0, k: hexToLottieColor(color) },\r\n                        w: { a: 0, k: 2 },\r\n                        o: { a: 0, k: 100 },\r\n                    },\r\n                    {\r\n                        ty: 'tm',\r\n                        nm: 'Trim Paths',\r\n                        s: { a: 0, k: 0 },\r\n                        e: {\r\n                            a: 1,\r\n                            k: [\r\n                                { t: staggerDelay, s: [0], e: [100], i: { x: [0.4], y: [1] }, o: { x: [0.6], y: [0] } },\r\n                                { t: staggerDelay + drawDuration, s: [100] },\r\n                            ],\r\n                        },\r\n                    } as any,\r\n                    { ty: 'tr', nm: 'Transform' },\r\n                ],\r\n            },\r\n        ],\r\n    };\r\n}\r\n\r\n/**\r\n * Create morph-reveal animation layer\r\n */\r\nfunction createMorphRevealLayer(\r\n    paths: string[],\r\n    colors: string[],\r\n    totalFrames: number\r\n): LottieLayer {\r\n    const shapes: LottieShape[] = paths.map((path, i) => ({\r\n        ty: 'gr',\r\n        nm: `Shape ${i + 1}`,\r\n        it: [\r\n            {\r\n                ty: 'sh',\r\n                nm: 'Path',\r\n                ks: { a: 0, k: parseSvgPathToLottie(path) },\r\n            },\r\n            {\r\n                ty: 'fl',\r\n                nm: 'Fill',\r\n                c: { a: 0, k: hexToLottieColor(colors[i] || colors[0]) },\r\n                o: {\r\n                    a: 1,\r\n                    k: [\r\n                        { t: totalFrames * 0.2, s: [0], e: [100], i: { x: [0.4], y: [1] }, o: { x: [0.6], y: [0] } },\r\n                        { t: totalFrames * 0.6, s: [100] },\r\n                    ],\r\n                },\r\n            },\r\n            { ty: 'tr', nm: 'Transform' },\r\n        ],\r\n    }));\r\n\r\n    return {\r\n        ty: 4,\r\n        nm: 'Logo Layer',\r\n        ks: {\r\n            o: { a: 0, k: 100 },\r\n            r: { a: 0, k: 0 },\r\n            p: {\r\n                a: 1,\r\n                k: [\r\n                    { t: 0, s: [50, 60], e: [50, 50], i: { x: [0.4], y: [1] }, o: { x: [0.6], y: [0] } },\r\n                    { t: totalFrames * 0.5, s: [50, 50] },\r\n                ],\r\n            },\r\n            s: { a: 0, k: [100, 100] },\r\n        },\r\n        shapes,\r\n    };\r\n}\r\n\r\n/**\r\n * Create stagger-in animation layer\r\n */\r\nfunction createStaggerInLayer(\r\n    path: string,\r\n    color: string,\r\n    totalFrames: number,\r\n    index: number,\r\n    totalPaths: number\r\n): LottieLayer {\r\n    const staggerDelay = (index / totalPaths) * totalFrames * 0.4;\r\n\r\n    return {\r\n        ty: 4,\r\n        nm: `Element ${index + 1}`,\r\n        ks: {\r\n            o: {\r\n                a: 1,\r\n                k: [\r\n                    { t: staggerDelay, s: [0], e: [100], i: { x: [0.4], y: [1] }, o: { x: [0.6], y: [0] } },\r\n                    { t: staggerDelay + totalFrames * 0.3, s: [100] },\r\n                ],\r\n            },\r\n            r: { a: 0, k: 0 },\r\n            p: {\r\n                a: 1,\r\n                k: [\r\n                    { t: staggerDelay, s: [50, 55], e: [50, 50], i: { x: [0.4], y: [1] }, o: { x: [0.6], y: [0] } },\r\n                    { t: staggerDelay + totalFrames * 0.3, s: [50, 50] },\r\n                ],\r\n            },\r\n            s: {\r\n                a: 1,\r\n                k: [\r\n                    { t: staggerDelay, s: [90, 90], e: [100, 100], i: { x: [0.4], y: [1] }, o: { x: [0.6], y: [0] } },\r\n                    { t: staggerDelay + totalFrames * 0.3, s: [100, 100] },\r\n                ],\r\n            },\r\n        },\r\n        shapes: [\r\n            {\r\n                ty: 'gr',\r\n                nm: 'Shape',\r\n                it: [\r\n                    {\r\n                        ty: 'sh',\r\n                        nm: 'Path',\r\n                        ks: { a: 0, k: parseSvgPathToLottie(path) },\r\n                    },\r\n                    {\r\n                        ty: 'fl',\r\n                        nm: 'Fill',\r\n                        c: { a: 0, k: hexToLottieColor(color) },\r\n                        o: { a: 0, k: 100 },\r\n                    },\r\n                    { ty: 'tr', nm: 'Transform' },\r\n                ],\r\n            },\r\n        ],\r\n    };\r\n}\r\n\r\n// ============================================\r\n// CSS ANIMATION GENERATION\r\n// ============================================\r\n\r\n/**\r\n * Generate CSS keyframe animation\r\n */\r\nexport function generateCSSAnimation(\r\n    logo: GeneratedLogo,\r\n    preset: AnimationPreset,\r\n    duration: number = 1000\r\n): CSSAnimation {\r\n    const className = `logo-animation-${logo.id.replace(/[^a-zA-Z0-9]/g, '-')}`;\r\n    const easing = 'cubic-bezier(0.4, 0, 0.2, 1)';\r\n\r\n    let keyframes: string;\r\n\r\n    switch (preset) {\r\n        case 'fade-in':\r\n            keyframes = `\r\n@keyframes ${className} {\r\n    0% {\r\n        opacity: 0;\r\n        transform: translateY(10px);\r\n    }\r\n    100% {\r\n        opacity: 1;\r\n        transform: translateY(0);\r\n    }\r\n}`;\r\n            break;\r\n\r\n        case 'scale-bounce':\r\n            keyframes = `\r\n@keyframes ${className} {\r\n    0% {\r\n        transform: scale(0);\r\n        opacity: 0;\r\n    }\r\n    50% {\r\n        transform: scale(1.1);\r\n        opacity: 1;\r\n    }\r\n    70% {\r\n        transform: scale(0.95);\r\n    }\r\n    100% {\r\n        transform: scale(1);\r\n    }\r\n}`;\r\n            break;\r\n\r\n        case 'draw-path':\r\n            keyframes = `\r\n@keyframes ${className} {\r\n    0% {\r\n        stroke-dashoffset: 1000;\r\n        fill-opacity: 0;\r\n    }\r\n    70% {\r\n        stroke-dashoffset: 0;\r\n        fill-opacity: 0;\r\n    }\r\n    100% {\r\n        stroke-dashoffset: 0;\r\n        fill-opacity: 1;\r\n    }\r\n}`;\r\n            break;\r\n\r\n        case 'morph-reveal':\r\n            keyframes = `\r\n@keyframes ${className} {\r\n    0% {\r\n        clip-path: inset(100% 0 0 0);\r\n        transform: translateY(20px);\r\n    }\r\n    100% {\r\n        clip-path: inset(0 0 0 0);\r\n        transform: translateY(0);\r\n    }\r\n}`;\r\n            break;\r\n\r\n        case 'stagger-in':\r\n        default:\r\n            keyframes = `\r\n@keyframes ${className} {\r\n    0% {\r\n        opacity: 0;\r\n        transform: scale(0.9) translateY(5px);\r\n    }\r\n    100% {\r\n        opacity: 1;\r\n        transform: scale(1) translateY(0);\r\n    }\r\n}`;\r\n            break;\r\n    }\r\n\r\n    // Generate class with animation application\r\n    const fullCSS = `${keyframes}\r\n\r\n.${className} {\r\n    animation: ${className} ${duration}ms ${easing} forwards;\r\n}\r\n\r\n.${className} path:nth-child(1) { animation-delay: 0ms; }\r\n.${className} path:nth-child(2) { animation-delay: 50ms; }\r\n.${className} path:nth-child(3) { animation-delay: 100ms; }\r\n.${className} path:nth-child(4) { animation-delay: 150ms; }\r\n.${className} path:nth-child(5) { animation-delay: 200ms; }\r\n`;\r\n\r\n    return {\r\n        keyframes: fullCSS,\r\n        className,\r\n        duration,\r\n        easing,\r\n    };\r\n}\r\n\r\n// ============================================\r\n// COMBINED ANIMATION EXPORT\r\n// ============================================\r\n\r\n/**\r\n * Generate complete animation package for a logo\r\n */\r\nexport function generateLogoAnimation(\r\n    logo: GeneratedLogo,\r\n    preset: AnimationPreset = 'fade-in',\r\n    duration: number = 1000\r\n): LogoAnimation {\r\n    return {\r\n        lottie: generateLottieAnimation(logo, preset, duration),\r\n        css: generateCSSAnimation(logo, preset, duration),\r\n        preset,\r\n    };\r\n}\r\n\r\n/**\r\n * Export animation to downloadable formats\r\n */\r\nexport function exportAnimationPackage(\r\n    animation: LogoAnimation\r\n): {\r\n    lottieJson: string;\r\n    cssFile: string;\r\n} {\r\n    return {\r\n        lottieJson: JSON.stringify(animation.lottie, null, 2),\r\n        cssFile: animation.css.keyframes,\r\n    };\r\n}\r\n\r\n// ============================================\r\n// UTILITY FUNCTIONS\r\n// ============================================\r\n\r\n/**\r\n * Extract path data from SVG string\r\n */\r\nfunction extractSvgPaths(svgString: string): string[] {\r\n    const pathRegex = /<path[^>]*d=\"([^\"]*)\"[^>]*>/gi;\r\n    const paths: string[] = [];\r\n    let match;\r\n\r\n    while ((match = pathRegex.exec(svgString)) !== null) {\r\n        paths.push(match[1]);\r\n    }\r\n\r\n    return paths;\r\n}\r\n\r\n/**\r\n * Extract colors from SVG string\r\n */\r\nfunction extractSvgColors(svgString: string): string[] {\r\n    const colors: string[] = [];\r\n\r\n    // Extract from fill attributes\r\n    const fillRegex = /fill=\"([^\"]*url[^\"]*|#[0-9a-fA-F]{3,8}|[a-zA-Z]+)\"/gi;\r\n    let match;\r\n\r\n    while ((match = fillRegex.exec(svgString)) !== null) {\r\n        const color = match[1];\r\n        if (!color.includes('url')) {\r\n            colors.push(color);\r\n        }\r\n    }\r\n\r\n    // Extract from gradient stops\r\n    const stopRegex = /stop-color=\"(#[0-9a-fA-F]{3,8}|[a-zA-Z]+)\"/gi;\r\n    while ((match = stopRegex.exec(svgString)) !== null) {\r\n        colors.push(match[1]);\r\n    }\r\n\r\n    return colors.length > 0 ? colors : ['#000000'];\r\n}\r\n\r\n/**\r\n * Convert hex color to Lottie RGBA format\r\n */\r\nfunction hexToLottieColor(hex: string): number[] {\r\n    // Default black if invalid\r\n    if (!hex || !hex.startsWith('#')) {\r\n        return [0, 0, 0, 1];\r\n    }\r\n\r\n    const cleanHex = hex.replace('#', '');\r\n    let r = 0, g = 0, b = 0, a = 1;\r\n\r\n    if (cleanHex.length === 3) {\r\n        r = parseInt(cleanHex[0] + cleanHex[0], 16) / 255;\r\n        g = parseInt(cleanHex[1] + cleanHex[1], 16) / 255;\r\n        b = parseInt(cleanHex[2] + cleanHex[2], 16) / 255;\r\n    } else if (cleanHex.length >= 6) {\r\n        r = parseInt(cleanHex.slice(0, 2), 16) / 255;\r\n        g = parseInt(cleanHex.slice(2, 4), 16) / 255;\r\n        b = parseInt(cleanHex.slice(4, 6), 16) / 255;\r\n        if (cleanHex.length === 8) {\r\n            a = parseInt(cleanHex.slice(6, 8), 16) / 255;\r\n        }\r\n    }\r\n\r\n    return [r, g, b, a];\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\compositions\\AdvancedCompositions.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'brand' is defined but never used.","line":21,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":21,"endColumn":8},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'accentColor' is defined but never used.","line":23,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":23,"endColumn":14},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'centerOffset' is defined but never used.","line":24,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":24,"endColumn":15},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'uniqueId' is defined but never used.","line":27,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":27,"endColumn":11},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'brand' is defined but never used.","line":62,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":62,"endColumn":8},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'accentColor' is defined but never used.","line":64,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":64,"endColumn":14},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'centerOffset' is defined but never used.","line":65,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":65,"endColumn":15},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'uniqueId' is defined but never used.","line":68,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":68,"endColumn":11},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'brand' is defined but never used.","line":104,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":104,"endColumn":8},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'accentColor' is defined but never used.","line":106,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":106,"endColumn":14},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'brand' is defined but never used.","line":134,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":134,"endColumn":8},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'brand' is defined but never used.","line":173,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":173,"endColumn":8},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'accentColor' is defined but never used.","line":228,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":228,"endColumn":14},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'centerOffset' is defined but never used.","line":229,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":229,"endColumn":15},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'accentColor' is defined but never used.","line":274,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":274,"endColumn":14},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'centerOffset' is defined but never used.","line":275,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":275,"endColumn":15}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":16,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Advanced Composition Styles\r\n * Premium effects with orbit, explosion, wave stack, corner accent, seal\r\n */\r\n\r\nimport { BrandIdentity } from '@/lib/data';\r\nimport { Shape } from '@/lib/shapes';\r\n\r\ninterface CompositionProps {\r\n  brand: BrandIdentity;\r\n  primaryColor: string;\r\n  accentColor: string;\r\n  centerOffset: number;\r\n  primaryScale: number;\r\n  primaryShape: Shape;\r\n  uniqueId: string;\r\n  className?: string;\r\n}\r\n\r\nexport function OrbitComposition({\r\n  brand,\r\n  primaryColor,\r\n  accentColor,\r\n  centerOffset,\r\n  primaryScale,\r\n  primaryShape,\r\n  uniqueId,\r\n  className,\r\n}: CompositionProps) {\r\n  const orbitItems = 5;\r\n  const elements = [];\r\n\r\n  for (let i = 0; i < orbitItems; i++) {\r\n    const angle = (360 / orbitItems) * i - 90;\r\n    const rad = (angle * Math.PI) / 180;\r\n    const radius = 30;\r\n    const x = 50 + Math.cos(rad) * radius;\r\n    const y = 50 + Math.sin(rad) * radius;\r\n\r\n    elements.push(\r\n      <g key={i} transform={`translate(${x}, ${y}) scale(${primaryScale * 0.2})`}>\r\n        <path d={primaryShape.path} fill={primaryColor} opacity={0.5 + i * 0.1} />\r\n      </g>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <svg viewBox=\"0 0 100 100\" className={className} xmlns=\"http://www.w3.org/2000/svg\">\r\n      {/* Orbit ring */}\r\n      <circle cx=\"50\" cy=\"50\" r=\"30\" fill=\"none\" stroke={primaryColor} strokeWidth=\"1\" opacity=\"0.2\" strokeDasharray=\"4 4\" />\r\n      {/* Orbiting shapes */}\r\n      {elements}\r\n      {/* Central shape */}\r\n      <g transform={`translate(38, 38) scale(${primaryScale * 0.5})`}>\r\n        <path d={primaryShape.path} fill={primaryColor} />\r\n      </g>\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport function ExplosionComposition({\r\n  brand,\r\n  primaryColor,\r\n  accentColor,\r\n  centerOffset,\r\n  primaryScale,\r\n  primaryShape,\r\n  uniqueId,\r\n  className,\r\n}: CompositionProps) {\r\n  const rays = 8;\r\n  const elements = [];\r\n\r\n  for (let i = 0; i < rays; i++) {\r\n    const angle = (360 / rays) * i;\r\n    const rad = (angle * Math.PI) / 180;\r\n\r\n    for (let j = 1; j <= 3; j++) {\r\n      const radius = 15 + j * 12;\r\n      const x = 50 + Math.cos(rad) * radius;\r\n      const y = 50 + Math.sin(rad) * radius;\r\n      const scale = 0.15 - j * 0.03;\r\n\r\n      elements.push(\r\n        <g key={`${i}-${j}`} transform={`translate(${x}, ${y}) scale(${primaryScale * scale}) rotate(${angle})`}>\r\n          <path d={primaryShape.path} fill={primaryColor} opacity={0.8 - j * 0.2} />\r\n        </g>\r\n      );\r\n    }\r\n  }\r\n\r\n  return (\r\n    <svg viewBox=\"0 0 100 100\" className={className} xmlns=\"http://www.w3.org/2000/svg\">\r\n      {elements}\r\n      {/* Center */}\r\n      <g transform={`translate(40, 40) scale(${primaryScale * 0.4})`}>\r\n        <path d={primaryShape.path} fill={primaryColor} />\r\n      </g>\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport function WaveStackComposition({\r\n  brand,\r\n  primaryColor,\r\n  accentColor,\r\n  centerOffset,\r\n  primaryScale,\r\n  primaryShape,\r\n  uniqueId,\r\n  className,\r\n}: CompositionProps) {\r\n  return (\r\n    <svg viewBox=\"0 0 100 100\" className={className} xmlns=\"http://www.w3.org/2000/svg\">\r\n      <defs>\r\n        <mask id={`mask-wave-${uniqueId}`}>\r\n          <rect width=\"100\" height=\"100\" fill=\"white\" />\r\n          <g transform={`translate(${centerOffset}, ${centerOffset}) scale(${primaryScale * 0.7})`}>\r\n            <path d={primaryShape.path} fill=\"black\" />\r\n          </g>\r\n        </mask>\r\n      </defs>\r\n      {/* Wave layers */}\r\n      <path d=\"M0 70 Q25 60 50 70 T100 70 V100 H0 Z\" fill={primaryColor} opacity=\"0.2\" />\r\n      <path d=\"M0 60 Q25 50 50 60 T100 60 V100 H0 Z\" fill={primaryColor} opacity=\"0.3\" />\r\n      <path d=\"M0 50 Q25 40 50 50 T100 50 V100 H0 Z\" fill={primaryColor} opacity=\"0.4\" />\r\n      {/* Main container */}\r\n      <rect x=\"15\" y=\"15\" width=\"70\" height=\"70\" rx=\"14\" fill={primaryColor} mask={`url(#mask-wave-${uniqueId})`} />\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport function CornerAccentComposition({\r\n  brand,\r\n  primaryColor,\r\n  accentColor,\r\n  centerOffset,\r\n  primaryScale,\r\n  primaryShape,\r\n  uniqueId,\r\n  className,\r\n}: CompositionProps) {\r\n  return (\r\n    <svg viewBox=\"0 0 100 100\" className={className} xmlns=\"http://www.w3.org/2000/svg\">\r\n      <defs>\r\n        <mask id={`mask-corner-${uniqueId}`}>\r\n          <rect width=\"100\" height=\"100\" fill=\"white\" />\r\n          <g transform={`translate(${centerOffset}, ${centerOffset}) scale(${primaryScale * 0.85})`}>\r\n            <path d={primaryShape.path} fill=\"black\" />\r\n          </g>\r\n        </mask>\r\n      </defs>\r\n      {/* Corner accents */}\r\n      <g transform=\"translate(5, 5) scale(0.15)\">\r\n        <path d={primaryShape.path} fill={accentColor} opacity=\"0.4\" />\r\n      </g>\r\n      <g transform=\"translate(85, 5) scale(0.15) rotate(90)\">\r\n        <path d={primaryShape.path} fill={accentColor} opacity=\"0.4\" />\r\n      </g>\r\n      <g transform=\"translate(85, 85) scale(0.15) rotate(180)\">\r\n        <path d={primaryShape.path} fill={accentColor} opacity=\"0.4\" />\r\n      </g>\r\n      <g transform=\"translate(5, 85) scale(0.15) rotate(270)\">\r\n        <path d={primaryShape.path} fill={accentColor} opacity=\"0.4\" />\r\n      </g>\r\n      {/* Main container */}\r\n      <rect x=\"10\" y=\"10\" width=\"80\" height=\"80\" rx=\"18\" fill={primaryColor} mask={`url(#mask-corner-${uniqueId})`} />\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport function SealComposition({\r\n  brand,\r\n  primaryColor,\r\n  accentColor,\r\n  centerOffset,\r\n  primaryScale,\r\n  primaryShape,\r\n  uniqueId,\r\n  className,\r\n}: CompositionProps) {\r\n  const teeth = 24;\r\n  const innerRadius = 35;\r\n  const outerRadius = 42;\r\n  const sealPath = [];\r\n\r\n  for (let i = 0; i < teeth; i++) {\r\n    const angle1 = (360 / teeth) * i;\r\n    const angle2 = (360 / teeth) * (i + 0.5);\r\n    const rad1 = (angle1 * Math.PI) / 180;\r\n    const rad2 = (angle2 * Math.PI) / 180;\r\n\r\n    const x1 = 50 + Math.cos(rad1) * outerRadius;\r\n    const y1 = 50 + Math.sin(rad1) * outerRadius;\r\n    const x2 = 50 + Math.cos(rad2) * innerRadius;\r\n    const y2 = 50 + Math.sin(rad2) * innerRadius;\r\n\r\n    if (i === 0) {\r\n      sealPath.push(`M ${x1} ${y1}`);\r\n    } else {\r\n      sealPath.push(`L ${x1} ${y1}`);\r\n    }\r\n    sealPath.push(`L ${x2} ${y2}`);\r\n  }\r\n  sealPath.push('Z');\r\n\r\n  return (\r\n    <svg viewBox=\"0 0 100 100\" className={className} xmlns=\"http://www.w3.org/2000/svg\">\r\n      <defs>\r\n        <mask id={`mask-seal-${uniqueId}`}>\r\n          <rect width=\"100\" height=\"100\" fill=\"white\" />\r\n          <g transform={`translate(${centerOffset + 5}, ${centerOffset + 5}) scale(${primaryScale * 0.6})`}>\r\n            <path d={primaryShape.path} fill=\"black\" />\r\n          </g>\r\n        </mask>\r\n      </defs>\r\n      {/* Seal edge */}\r\n      <path d={sealPath.join(' ')} fill={primaryColor} mask={`url(#mask-seal-${uniqueId})`} />\r\n      {/* Inner circle */}\r\n      <circle cx=\"50\" cy=\"50\" r=\"28\" fill=\"none\" stroke={accentColor} strokeWidth=\"2\" opacity=\"0.3\" />\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport function LetterFillComposition({\r\n  brand,\r\n  primaryColor,\r\n  accentColor,\r\n  centerOffset,\r\n  primaryScale,\r\n  primaryShape,\r\n  uniqueId,\r\n  className,\r\n}: CompositionProps) {\r\n  const initial = brand.name.charAt(0).toUpperCase();\r\n\r\n  return (\r\n    <svg viewBox=\"0 0 100 100\" className={className} xmlns=\"http://www.w3.org/2000/svg\">\r\n      <defs>\r\n        <mask id={`mask-letter-${uniqueId}`}>\r\n          <rect width=\"100\" height=\"100\" fill=\"black\" />\r\n          <text\r\n            x=\"50\"\r\n            y=\"70\"\r\n            fontSize=\"72\"\r\n            fontWeight=\"900\"\r\n            textAnchor=\"middle\"\r\n            fill=\"white\"\r\n            fontFamily=\"var(--font-heading), system-ui, sans-serif\"\r\n          >\r\n            {initial}\r\n          </text>\r\n        </mask>\r\n        <pattern id={`shape-pattern-${uniqueId}`} width=\"20\" height=\"20\" patternUnits=\"userSpaceOnUse\">\r\n          <g transform={`scale(${primaryScale * 0.15})`}>\r\n            <path d={primaryShape.path} fill={primaryColor} />\r\n          </g>\r\n        </pattern>\r\n      </defs>\r\n      {/* Letter filled with shape pattern */}\r\n      <rect\r\n        x=\"0\" y=\"0\"\r\n        width=\"100\" height=\"100\"\r\n        fill={`url(#shape-pattern-${uniqueId})`}\r\n        mask={`url(#mask-letter-${uniqueId})`}\r\n      />\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport function BadgeTextComposition({\r\n  brand,\r\n  primaryColor,\r\n  accentColor,\r\n  centerOffset,\r\n  primaryScale,\r\n  primaryShape,\r\n  uniqueId,\r\n  className,\r\n}: CompositionProps) {\r\n  const initial = brand.name.charAt(0).toUpperCase();\r\n  const isWhite = primaryColor.toLowerCase() === '#ffffff' || primaryColor.toLowerCase() === '#fff';\r\n  const textColor = isWhite ? '#000000' : '#ffffff';\r\n\r\n  return (\r\n    <svg viewBox=\"0 0 100 100\" className={className} xmlns=\"http://www.w3.org/2000/svg\">\r\n      <defs>\r\n        <mask id={`mask-badge-${uniqueId}`}>\r\n          <rect width=\"100\" height=\"100\" fill=\"white\" />\r\n          <g transform={`translate(55, 15) scale(${primaryScale * 0.35})`}>\r\n            <path d={primaryShape.path} fill=\"black\" />\r\n          </g>\r\n        </mask>\r\n      </defs>\r\n      {/* Badge background */}\r\n      <rect x=\"10\" y=\"10\" width=\"80\" height=\"80\" rx=\"18\" fill={primaryColor} mask={`url(#mask-badge-${uniqueId})`} />\r\n      {/* Letter */}\r\n      <text\r\n        x=\"40\"\r\n        y=\"65\"\r\n        fontSize=\"48\"\r\n        fontWeight=\"700\"\r\n        textAnchor=\"middle\"\r\n        fill={textColor}\r\n        fontFamily=\"var(--font-heading), system-ui, sans-serif\"\r\n      >\r\n        {initial}\r\n      </text>\r\n    </svg>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\compositions\\GlassCompositions.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'brand' is defined but never used.","line":21,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":21,"endColumn":8},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'brand' is defined but never used.","line":66,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":66,"endColumn":8},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'accentColor' is defined but never used.","line":68,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":68,"endColumn":14},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'accentColor' is defined but never used.","line":114,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":114,"endColumn":14},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'brand' is defined but never used.","line":152,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":152,"endColumn":8},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'accentColor' is defined but never used.","line":154,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":154,"endColumn":14}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Glass & Modern Effect Composition Styles\r\n * Premium effects with glassmorphism, neon glow, soft shadows, blur\r\n */\r\n\r\nimport { BrandIdentity } from '@/lib/data';\r\nimport { Shape } from '@/lib/shapes';\r\n\r\ninterface CompositionProps {\r\n  brand: BrandIdentity;\r\n  primaryColor: string;\r\n  accentColor: string;\r\n  centerOffset: number;\r\n  primaryScale: number;\r\n  primaryShape: Shape;\r\n  uniqueId: string;\r\n  className?: string;\r\n}\r\n\r\nexport function GlassmorphismComposition({\r\n  brand,\r\n  primaryColor,\r\n  accentColor,\r\n  centerOffset,\r\n  primaryScale,\r\n  primaryShape,\r\n  uniqueId,\r\n  className,\r\n}: CompositionProps) {\r\n  return (\r\n    <svg viewBox=\"0 0 100 100\" className={className} xmlns=\"http://www.w3.org/2000/svg\">\r\n      <defs>\r\n        <filter id={`blur-glass-${uniqueId}`} x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\">\r\n          <feGaussianBlur in=\"SourceGraphic\" stdDeviation=\"3\" />\r\n        </filter>\r\n        <linearGradient id={`glass-grad-${uniqueId}`} x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\">\r\n          <stop offset=\"0%\" stopColor=\"white\" stopOpacity=\"0.4\" />\r\n          <stop offset=\"100%\" stopColor=\"white\" stopOpacity=\"0.1\" />\r\n        </linearGradient>\r\n        <mask id={`mask-glass-${uniqueId}`}>\r\n          <rect width=\"100\" height=\"100\" fill=\"white\" />\r\n          <g transform={`translate(${centerOffset}, ${centerOffset}) scale(${primaryScale * 0.85})`}>\r\n            <path d={primaryShape.path} fill=\"black\" />\r\n          </g>\r\n        </mask>\r\n      </defs>\r\n      {/* Background blobs */}\r\n      <circle cx=\"30\" cy=\"30\" r=\"25\" fill={primaryColor} opacity=\"0.6\" filter={`url(#blur-glass-${uniqueId})`} />\r\n      <circle cx=\"70\" cy=\"70\" r=\"30\" fill={accentColor} opacity=\"0.6\" filter={`url(#blur-glass-${uniqueId})`} />\r\n      {/* Glass container */}\r\n      <rect\r\n        x=\"10\" y=\"10\"\r\n        width=\"80\" height=\"80\"\r\n        rx=\"18\"\r\n        fill={`url(#glass-grad-${uniqueId})`}\r\n        stroke=\"white\"\r\n        strokeOpacity=\"0.3\"\r\n        strokeWidth=\"1\"\r\n        mask={`url(#mask-glass-${uniqueId})`}\r\n      />\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport function NeonGlowComposition({\r\n  brand,\r\n  primaryColor,\r\n  accentColor,\r\n  centerOffset,\r\n  primaryScale,\r\n  primaryShape,\r\n  uniqueId,\r\n  className,\r\n}: CompositionProps) {\r\n  return (\r\n    <svg viewBox=\"0 0 100 100\" className={className} xmlns=\"http://www.w3.org/2000/svg\">\r\n      <defs>\r\n        <filter id={`glow-${uniqueId}`} x=\"-100%\" y=\"-100%\" width=\"300%\" height=\"300%\">\r\n          <feGaussianBlur stdDeviation=\"3\" result=\"blur1\" />\r\n          <feGaussianBlur stdDeviation=\"6\" result=\"blur2\" />\r\n          <feGaussianBlur stdDeviation=\"12\" result=\"blur3\" />\r\n          <feMerge>\r\n            <feMergeNode in=\"blur3\" />\r\n            <feMergeNode in=\"blur2\" />\r\n            <feMergeNode in=\"blur1\" />\r\n            <feMergeNode in=\"SourceGraphic\" />\r\n          </feMerge>\r\n        </filter>\r\n        <mask id={`mask-neon-${uniqueId}`}>\r\n          <rect width=\"100\" height=\"100\" fill=\"white\" />\r\n          <g transform={`translate(${centerOffset}, ${centerOffset}) scale(${primaryScale * 0.85})`}>\r\n            <path d={primaryShape.path} fill=\"black\" />\r\n          </g>\r\n        </mask>\r\n      </defs>\r\n      {/* Dark background */}\r\n      <rect x=\"5\" y=\"5\" width=\"90\" height=\"90\" rx=\"20\" fill=\"#0a0a0a\" />\r\n      {/* Neon glow shape */}\r\n      <rect\r\n        x=\"10\" y=\"10\"\r\n        width=\"80\" height=\"80\"\r\n        rx=\"18\"\r\n        fill={primaryColor}\r\n        mask={`url(#mask-neon-${uniqueId})`}\r\n        filter={`url(#glow-${uniqueId})`}\r\n      />\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport function SoftShadowComposition({\r\n  brand,\r\n  primaryColor,\r\n  accentColor,\r\n  centerOffset,\r\n  primaryScale,\r\n  primaryShape,\r\n  uniqueId,\r\n  className,\r\n}: CompositionProps) {\r\n  const bgColor = brand.theme.tokens.light.bg;\r\n\r\n  return (\r\n    <svg viewBox=\"0 0 100 100\" className={className} xmlns=\"http://www.w3.org/2000/svg\">\r\n      <defs>\r\n        <filter id={`soft-shadow-${uniqueId}`} x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\">\r\n          <feDropShadow dx=\"0\" dy=\"8\" stdDeviation=\"8\" floodColor=\"#000\" floodOpacity=\"0.15\" />\r\n        </filter>\r\n        <mask id={`mask-soft-${uniqueId}`}>\r\n          <rect width=\"100\" height=\"100\" fill=\"white\" />\r\n          <g transform={`translate(${centerOffset}, ${centerOffset}) scale(${primaryScale * 0.85})`}>\r\n            <path d={primaryShape.path} fill=\"black\" />\r\n          </g>\r\n        </mask>\r\n      </defs>\r\n      {/* Background */}\r\n      <rect x=\"0\" y=\"0\" width=\"100\" height=\"100\" fill={bgColor} />\r\n      {/* Card with soft shadow */}\r\n      <rect\r\n        x=\"12\" y=\"8\"\r\n        width=\"76\" height=\"76\"\r\n        rx=\"16\"\r\n        fill={primaryColor}\r\n        mask={`url(#mask-soft-${uniqueId})`}\r\n        filter={`url(#soft-shadow-${uniqueId})`}\r\n      />\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport function BlurGradientComposition({\r\n  brand,\r\n  primaryColor,\r\n  accentColor,\r\n  centerOffset,\r\n  primaryScale,\r\n  primaryShape,\r\n  uniqueId,\r\n  className,\r\n}: CompositionProps) {\r\n  return (\r\n    <svg viewBox=\"0 0 100 100\" className={className} xmlns=\"http://www.w3.org/2000/svg\">\r\n      <defs>\r\n        <filter id={`blur-bg-${uniqueId}`} x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\">\r\n          <feGaussianBlur in=\"SourceGraphic\" stdDeviation=\"8\" />\r\n        </filter>\r\n        <mask id={`mask-blur-${uniqueId}`}>\r\n          <rect width=\"100\" height=\"100\" fill=\"white\" />\r\n          <g transform={`translate(${centerOffset}, ${centerOffset}) scale(${primaryScale * 0.85})`}>\r\n            <path d={primaryShape.path} fill=\"black\" />\r\n          </g>\r\n        </mask>\r\n      </defs>\r\n      {/* Blurred background shape */}\r\n      <rect\r\n        x=\"10\" y=\"10\"\r\n        width=\"80\" height=\"80\"\r\n        rx=\"18\"\r\n        fill={primaryColor}\r\n        filter={`url(#blur-bg-${uniqueId})`}\r\n        opacity=\"0.6\"\r\n      />\r\n      {/* Sharp foreground */}\r\n      <rect\r\n        x=\"10\" y=\"10\"\r\n        width=\"80\" height=\"80\"\r\n        rx=\"18\"\r\n        fill={primaryColor}\r\n        mask={`url(#mask-blur-${uniqueId})`}\r\n      />\r\n    </svg>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\compositions\\GradientCompositions.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'brand' is defined but never used.","line":21,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":21,"endColumn":8},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'brand' is defined but never used.","line":56,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":56,"endColumn":8},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'brand' is defined but never used.","line":135,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":135,"endColumn":8}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Gradient Composition Styles\r\n * Premium effects with linear, radial, mesh gradients and duotone\r\n */\r\n\r\nimport { BrandIdentity } from '@/lib/data';\r\nimport { Shape } from '@/lib/shapes';\r\n\r\ninterface CompositionProps {\r\n  brand: BrandIdentity;\r\n  primaryColor: string;\r\n  accentColor: string;\r\n  centerOffset: number;\r\n  primaryScale: number;\r\n  primaryShape: Shape;\r\n  uniqueId: string;\r\n  className?: string;\r\n}\r\n\r\nexport function GradientLinearComposition({\r\n  brand,\r\n  primaryColor,\r\n  accentColor,\r\n  centerOffset,\r\n  primaryScale,\r\n  primaryShape,\r\n  uniqueId,\r\n  className,\r\n}: CompositionProps) {\r\n  return (\r\n    <svg viewBox=\"0 0 100 100\" className={className} xmlns=\"http://www.w3.org/2000/svg\">\r\n      <defs>\r\n        <linearGradient id={`grad-linear-${uniqueId}`} x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\">\r\n          <stop offset=\"0%\" stopColor={primaryColor} />\r\n          <stop offset=\"100%\" stopColor={accentColor} />\r\n        </linearGradient>\r\n        <mask id={`mask-linear-${uniqueId}`}>\r\n          <rect width=\"100\" height=\"100\" fill=\"white\" />\r\n          <g transform={`translate(${centerOffset}, ${centerOffset}) scale(${primaryScale * 0.85})`}>\r\n            <path d={primaryShape.path} fill=\"black\" />\r\n          </g>\r\n        </mask>\r\n      </defs>\r\n      <rect\r\n        x=\"10\" y=\"10\"\r\n        width=\"80\" height=\"80\"\r\n        rx=\"18\"\r\n        fill={`url(#grad-linear-${uniqueId})`}\r\n        mask={`url(#mask-linear-${uniqueId})`}\r\n      />\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport function GradientRadialComposition({\r\n  brand,\r\n  primaryColor,\r\n  accentColor,\r\n  centerOffset,\r\n  primaryScale,\r\n  primaryShape,\r\n  uniqueId,\r\n  className,\r\n}: CompositionProps) {\r\n  return (\r\n    <svg viewBox=\"0 0 100 100\" className={className} xmlns=\"http://www.w3.org/2000/svg\">\r\n      <defs>\r\n        <radialGradient id={`grad-radial-${uniqueId}`} cx=\"50%\" cy=\"50%\" r=\"50%\">\r\n          <stop offset=\"0%\" stopColor={accentColor} />\r\n          <stop offset=\"100%\" stopColor={primaryColor} />\r\n        </radialGradient>\r\n        <mask id={`mask-radial-${uniqueId}`}>\r\n          <rect width=\"100\" height=\"100\" fill=\"white\" />\r\n          <g transform={`translate(${centerOffset}, ${centerOffset}) scale(${primaryScale * 0.85})`}>\r\n            <path d={primaryShape.path} fill=\"black\" />\r\n          </g>\r\n        </mask>\r\n      </defs>\r\n      <rect\r\n        x=\"10\" y=\"10\"\r\n        width=\"80\" height=\"80\"\r\n        rx=\"18\"\r\n        fill={`url(#grad-radial-${uniqueId})`}\r\n        mask={`url(#mask-radial-${uniqueId})`}\r\n      />\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport function GradientMeshComposition({\r\n  brand,\r\n  primaryColor,\r\n  accentColor,\r\n  centerOffset,\r\n  primaryScale,\r\n  primaryShape,\r\n  uniqueId,\r\n  className,\r\n}: CompositionProps) {\r\n  const bgColor = brand.theme.tokens.light.bg;\r\n\r\n  return (\r\n    <svg viewBox=\"0 0 100 100\" className={className} xmlns=\"http://www.w3.org/2000/svg\">\r\n      <defs>\r\n        <radialGradient id={`mesh-1-${uniqueId}`} cx=\"30%\" cy=\"30%\" r=\"60%\">\r\n          <stop offset=\"0%\" stopColor={primaryColor} stopOpacity=\"0.8\" />\r\n          <stop offset=\"100%\" stopColor={primaryColor} stopOpacity=\"0\" />\r\n        </radialGradient>\r\n        <radialGradient id={`mesh-2-${uniqueId}`} cx=\"70%\" cy=\"70%\" r=\"60%\">\r\n          <stop offset=\"0%\" stopColor={accentColor} stopOpacity=\"0.8\" />\r\n          <stop offset=\"100%\" stopColor={accentColor} stopOpacity=\"0\" />\r\n        </radialGradient>\r\n        <mask id={`mask-mesh-${uniqueId}`}>\r\n          <rect width=\"100\" height=\"100\" fill=\"white\" />\r\n          <g transform={`translate(${centerOffset}, ${centerOffset}) scale(${primaryScale * 0.8})`}>\r\n            <path d={primaryShape.path} fill=\"black\" />\r\n          </g>\r\n        </mask>\r\n      </defs>\r\n      <rect x=\"10\" y=\"10\" width=\"80\" height=\"80\" rx=\"18\" fill={bgColor} />\r\n      <rect x=\"10\" y=\"10\" width=\"80\" height=\"80\" rx=\"18\" fill={`url(#mesh-1-${uniqueId})`} />\r\n      <rect x=\"10\" y=\"10\" width=\"80\" height=\"80\" rx=\"18\" fill={`url(#mesh-2-${uniqueId})`} />\r\n      <rect\r\n        x=\"10\" y=\"10\"\r\n        width=\"80\" height=\"80\"\r\n        rx=\"18\"\r\n        fill=\"white\"\r\n        mask={`url(#mask-mesh-${uniqueId})`}\r\n      />\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport function DuotoneComposition({\r\n  brand,\r\n  primaryColor,\r\n  accentColor,\r\n  centerOffset,\r\n  primaryScale,\r\n  primaryShape,\r\n  uniqueId,\r\n  className,\r\n}: CompositionProps) {\r\n  return (\r\n    <svg viewBox=\"0 0 100 100\" className={className} xmlns=\"http://www.w3.org/2000/svg\">\r\n      <defs>\r\n        <clipPath id={`clip-left-${uniqueId}`}>\r\n          <rect x=\"0\" y=\"0\" width=\"50\" height=\"100\" />\r\n        </clipPath>\r\n        <clipPath id={`clip-right-${uniqueId}`}>\r\n          <rect x=\"50\" y=\"0\" width=\"50\" height=\"100\" />\r\n        </clipPath>\r\n        <mask id={`mask-duo-${uniqueId}`}>\r\n          <rect width=\"100\" height=\"100\" fill=\"white\" />\r\n          <g transform={`translate(${centerOffset}, ${centerOffset}) scale(${primaryScale * 0.85})`}>\r\n            <path d={primaryShape.path} fill=\"black\" />\r\n          </g>\r\n        </mask>\r\n      </defs>\r\n      {/* Left half */}\r\n      <g clipPath={`url(#clip-left-${uniqueId})`}>\r\n        <rect\r\n          x=\"10\" y=\"10\"\r\n          width=\"80\" height=\"80\"\r\n          rx=\"18\"\r\n          fill={primaryColor}\r\n          mask={`url(#mask-duo-${uniqueId})`}\r\n        />\r\n      </g>\r\n      {/* Right half */}\r\n      <g clipPath={`url(#clip-right-${uniqueId})`}>\r\n        <rect\r\n          x=\"10\" y=\"10\"\r\n          width=\"80\" height=\"80\"\r\n          rx=\"18\"\r\n          fill={accentColor}\r\n          mask={`url(#mask-duo-${uniqueId})`}\r\n        />\r\n      </g>\r\n    </svg>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\compositions\\PatternCompositions.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'brand' is defined but never used.","line":21,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":21,"endColumn":8},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'accentColor' is defined but never used.","line":23,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":23,"endColumn":14},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'uniqueId' is defined but never used.","line":27,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":27,"endColumn":11},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'brand' is defined but never used.","line":56,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":56,"endColumn":8},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'accentColor' is defined but never used.","line":58,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":58,"endColumn":14},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'brand' is defined but never used.","line":92,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":92,"endColumn":8},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'centerOffset' is defined but never used.","line":95,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":95,"endColumn":15},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'brand' is defined but never used.","line":131,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":131,"endColumn":8},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'accentColor' is defined but never used.","line":133,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":133,"endColumn":14},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'uniqueId' is defined but never used.","line":137,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":137,"endColumn":11}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Geometric Pattern Composition Styles\r\n * Premium effects with tessellation, honeycomb, kaleidoscope, spiral\r\n */\r\n\r\nimport { BrandIdentity } from '@/lib/data';\r\nimport { Shape } from '@/lib/shapes';\r\n\r\ninterface CompositionProps {\r\n  brand: BrandIdentity;\r\n  primaryColor: string;\r\n  accentColor: string;\r\n  centerOffset: number;\r\n  primaryScale: number;\r\n  primaryShape: Shape;\r\n  uniqueId: string;\r\n  className?: string;\r\n}\r\n\r\nexport function TessellationComposition({\r\n  brand,\r\n  primaryColor,\r\n  accentColor,\r\n  centerOffset,\r\n  primaryScale,\r\n  primaryShape,\r\n  uniqueId,\r\n  className,\r\n}: CompositionProps) {\r\n  const tileSize = 25;\r\n  const tiles = [];\r\n\r\n  for (let row = 0; row < 4; row++) {\r\n    for (let col = 0; col < 4; col++) {\r\n      const x = col * tileSize + 5;\r\n      const y = row * tileSize + 5;\r\n      const opacity = 0.3 + ((row + col) % 3) * 0.25;\r\n      tiles.push(\r\n        <g key={`${row}-${col}`} transform={`translate(${x}, ${y}) scale(${tileSize / 100})`}>\r\n          <g transform={`translate(${centerOffset * 0.5}, ${centerOffset * 0.5}) scale(${primaryScale * 0.4})`}>\r\n            <path d={primaryShape.path} fill={primaryColor} opacity={opacity} />\r\n          </g>\r\n        </g>\r\n      );\r\n    }\r\n  }\r\n\r\n  return (\r\n    <svg viewBox=\"0 0 100 100\" className={className} xmlns=\"http://www.w3.org/2000/svg\">\r\n      {tiles}\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport function HoneycombComposition({\r\n  brand,\r\n  primaryColor,\r\n  accentColor,\r\n  centerOffset,\r\n  primaryScale,\r\n  primaryShape,\r\n  uniqueId,\r\n  className,\r\n}: CompositionProps) {\r\n  // Hexagon path for honeycomb\r\n  const hexPath = \"M50 0 L93.3 25 L93.3 75 L50 100 L6.7 75 L6.7 25 Z\";\r\n\r\n  return (\r\n    <svg viewBox=\"0 0 100 100\" className={className} xmlns=\"http://www.w3.org/2000/svg\">\r\n      <defs>\r\n        <mask id={`mask-honey-${uniqueId}`}>\r\n          <rect width=\"100\" height=\"100\" fill=\"white\" />\r\n          <g transform={`translate(${centerOffset}, ${centerOffset}) scale(${primaryScale * 0.7})`}>\r\n            <path d={primaryShape.path} fill=\"black\" />\r\n          </g>\r\n        </mask>\r\n        <pattern id={`hex-pattern-${uniqueId}`} width=\"30\" height=\"26\" patternUnits=\"userSpaceOnUse\">\r\n          <path d=\"M15 0 L30 7.5 L30 22.5 L15 30 L0 22.5 L0 7.5 Z\" fill=\"none\" stroke={primaryColor} strokeWidth=\"1\" opacity=\"0.3\" transform=\"scale(0.5)\" />\r\n        </pattern>\r\n      </defs>\r\n      {/* Honeycomb background */}\r\n      <rect x=\"0\" y=\"0\" width=\"100\" height=\"100\" fill={`url(#hex-pattern-${uniqueId})`} />\r\n      {/* Central hexagon with shape cutout */}\r\n      <g transform=\"translate(50, 50) scale(0.7) translate(-50, -50)\">\r\n        <path d={hexPath} fill={primaryColor} mask={`url(#mask-honey-${uniqueId})`} />\r\n      </g>\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport function KaleidoscopeComposition({\r\n  brand,\r\n  primaryColor,\r\n  accentColor,\r\n  centerOffset,\r\n  primaryScale,\r\n  primaryShape,\r\n  uniqueId,\r\n  className,\r\n}: CompositionProps) {\r\n  const segments = 6;\r\n  const elements = [];\r\n\r\n  for (let i = 0; i < segments; i++) {\r\n    const angle = (360 / segments) * i;\r\n    elements.push(\r\n      <g key={i} transform={`rotate(${angle}, 50, 50)`}>\r\n        <g transform={`translate(50, 20) scale(${primaryScale * 0.25})`}>\r\n          <path d={primaryShape.path} fill={primaryColor} opacity={0.6 + (i % 2) * 0.4} />\r\n        </g>\r\n      </g>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <svg viewBox=\"0 0 100 100\" className={className} xmlns=\"http://www.w3.org/2000/svg\">\r\n      <defs>\r\n        <mask id={`mask-kaleid-${uniqueId}`}>\r\n          <rect width=\"100\" height=\"100\" fill=\"white\" />\r\n          <circle cx=\"50\" cy=\"50\" r=\"8\" fill=\"black\" />\r\n        </mask>\r\n      </defs>\r\n      {elements}\r\n      {/* Center dot */}\r\n      <circle cx=\"50\" cy=\"50\" r=\"6\" fill={accentColor} />\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport function GoldenSpiralComposition({\r\n  brand,\r\n  primaryColor,\r\n  accentColor,\r\n  centerOffset,\r\n  primaryScale,\r\n  primaryShape,\r\n  uniqueId,\r\n  className,\r\n}: CompositionProps) {\r\n  // Golden ratio spiral approximation\r\n  const phi = 1.618;\r\n  const elements = [];\r\n\r\n  for (let i = 0; i < 8; i++) {\r\n    const scale = Math.pow(phi, -i) * 0.8;\r\n    const angle = i * 90;\r\n    const radius = 35 * Math.pow(phi, -i * 0.5);\r\n    const x = 50 + Math.cos((angle * Math.PI) / 180) * radius;\r\n    const y = 50 + Math.sin((angle * Math.PI) / 180) * radius;\r\n\r\n    elements.push(\r\n      <g key={i} transform={`translate(${x}, ${y}) scale(${primaryScale * scale * 0.3}) rotate(${angle})`}>\r\n        <path d={primaryShape.path} fill={primaryColor} opacity={0.3 + i * 0.08} />\r\n      </g>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <svg viewBox=\"0 0 100 100\" className={className} xmlns=\"http://www.w3.org/2000/svg\">\r\n      {elements}\r\n      {/* Central shape */}\r\n      <g transform={`translate(${centerOffset}, ${centerOffset}) scale(${primaryScale * 0.5})`}>\r\n        <path d={primaryShape.path} fill={primaryColor} />\r\n      </g>\r\n    </svg>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\compositions\\ThreeDCompositions.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'brand' is defined but never used.","line":21,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":21,"endColumn":8},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'brand' is defined but never used.","line":55,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":55,"endColumn":8},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'accentColor' is defined but never used.","line":57,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":57,"endColumn":14},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'accentColor' is defined but never used.","line":93,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":93,"endColumn":14},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'bgColor' is assigned a value but never used.","line":100,"column":9,"nodeType":null,"messageId":"unusedVar","endLine":100,"endColumn":16},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'brand' is defined but never used.","line":131,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":131,"endColumn":8}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * 3D & Depth Composition Styles\r\n * Premium effects with isometric, shadows, layers and perspective\r\n */\r\n\r\nimport { BrandIdentity } from '@/lib/data';\r\nimport { Shape } from '@/lib/shapes';\r\n\r\ninterface CompositionProps {\r\n  brand: BrandIdentity;\r\n  primaryColor: string;\r\n  accentColor: string;\r\n  centerOffset: number;\r\n  primaryScale: number;\r\n  primaryShape: Shape;\r\n  uniqueId: string;\r\n  className?: string;\r\n}\r\n\r\nexport function IsometricComposition({\r\n  brand,\r\n  primaryColor,\r\n  accentColor,\r\n  centerOffset,\r\n  primaryScale,\r\n  primaryShape,\r\n  uniqueId,\r\n  className,\r\n}: CompositionProps) {\r\n  return (\r\n    <svg viewBox=\"0 0 100 100\" className={className} xmlns=\"http://www.w3.org/2000/svg\">\r\n      <defs>\r\n        <mask id={`mask-iso-${uniqueId}`}>\r\n          <rect width=\"100\" height=\"100\" fill=\"white\" />\r\n          <g transform={`translate(${centerOffset}, ${centerOffset}) scale(${primaryScale * 0.75})`}>\r\n            <path d={primaryShape.path} fill=\"black\" />\r\n          </g>\r\n        </mask>\r\n      </defs>\r\n      {/* Back face (shadow) */}\r\n      <g transform=\"translate(8, 8)\">\r\n        <rect x=\"10\" y=\"10\" width=\"80\" height=\"80\" rx=\"16\" fill={accentColor} opacity=\"0.3\" mask={`url(#mask-iso-${uniqueId})`} />\r\n      </g>\r\n      {/* Middle face */}\r\n      <g transform=\"translate(4, 4)\">\r\n        <rect x=\"10\" y=\"10\" width=\"80\" height=\"80\" rx=\"16\" fill={accentColor} opacity=\"0.5\" mask={`url(#mask-iso-${uniqueId})`} />\r\n      </g>\r\n      {/* Front face */}\r\n      <rect x=\"10\" y=\"10\" width=\"80\" height=\"80\" rx=\"16\" fill={primaryColor} mask={`url(#mask-iso-${uniqueId})`} />\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport function ShadowDepthComposition({\r\n  brand,\r\n  primaryColor,\r\n  accentColor,\r\n  centerOffset,\r\n  primaryScale,\r\n  primaryShape,\r\n  uniqueId,\r\n  className,\r\n}: CompositionProps) {\r\n  return (\r\n    <svg viewBox=\"0 0 100 100\" className={className} xmlns=\"http://www.w3.org/2000/svg\">\r\n      <defs>\r\n        <filter id={`shadow-${uniqueId}`} x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\">\r\n          <feDropShadow dx=\"4\" dy=\"4\" stdDeviation=\"4\" floodColor={primaryColor} floodOpacity=\"0.3\" />\r\n          <feDropShadow dx=\"8\" dy=\"8\" stdDeviation=\"8\" floodColor={primaryColor} floodOpacity=\"0.2\" />\r\n        </filter>\r\n        <mask id={`mask-shadow-${uniqueId}`}>\r\n          <rect width=\"100\" height=\"100\" fill=\"white\" />\r\n          <g transform={`translate(${centerOffset}, ${centerOffset}) scale(${primaryScale * 0.85})`}>\r\n            <path d={primaryShape.path} fill=\"black\" />\r\n          </g>\r\n        </mask>\r\n      </defs>\r\n      <rect\r\n        x=\"10\" y=\"10\"\r\n        width=\"80\" height=\"80\"\r\n        rx=\"18\"\r\n        fill={primaryColor}\r\n        mask={`url(#mask-shadow-${uniqueId})`}\r\n        filter={`url(#shadow-${uniqueId})`}\r\n      />\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport function Layered3DComposition({\r\n  brand,\r\n  primaryColor,\r\n  accentColor,\r\n  centerOffset,\r\n  primaryScale,\r\n  primaryShape,\r\n  uniqueId,\r\n  className,\r\n}: CompositionProps) {\r\n  const bgColor = brand.theme.tokens.light.bg;\r\n\r\n  return (\r\n    <svg viewBox=\"0 0 100 100\" className={className} xmlns=\"http://www.w3.org/2000/svg\">\r\n      <defs>\r\n        <mask id={`mask-layer-${uniqueId}`}>\r\n          <rect width=\"100\" height=\"100\" fill=\"white\" />\r\n          <g transform={`translate(${centerOffset}, ${centerOffset}) scale(${primaryScale * 0.7})`}>\r\n            <path d={primaryShape.path} fill=\"black\" />\r\n          </g>\r\n        </mask>\r\n      </defs>\r\n      {/* Layer 4 (back) */}\r\n      <g transform=\"translate(6, 6)\">\r\n        <rect x=\"15\" y=\"15\" width=\"70\" height=\"70\" rx=\"14\" fill={primaryColor} opacity=\"0.2\" />\r\n      </g>\r\n      {/* Layer 3 */}\r\n      <g transform=\"translate(4, 4)\">\r\n        <rect x=\"15\" y=\"15\" width=\"70\" height=\"70\" rx=\"14\" fill={primaryColor} opacity=\"0.4\" />\r\n      </g>\r\n      {/* Layer 2 */}\r\n      <g transform=\"translate(2, 2)\">\r\n        <rect x=\"15\" y=\"15\" width=\"70\" height=\"70\" rx=\"14\" fill={primaryColor} opacity=\"0.6\" />\r\n      </g>\r\n      {/* Layer 1 (front) with cutout */}\r\n      <rect x=\"15\" y=\"15\" width=\"70\" height=\"70\" rx=\"14\" fill={primaryColor} mask={`url(#mask-layer-${uniqueId})`} />\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport function PerspectiveComposition({\r\n  brand,\r\n  primaryColor,\r\n  accentColor,\r\n  centerOffset,\r\n  primaryScale,\r\n  primaryShape,\r\n  uniqueId,\r\n  className,\r\n}: CompositionProps) {\r\n  return (\r\n    <svg viewBox=\"0 0 100 100\" className={className} xmlns=\"http://www.w3.org/2000/svg\">\r\n      <defs>\r\n        <mask id={`mask-persp-${uniqueId}`}>\r\n          <rect width=\"100\" height=\"100\" fill=\"white\" />\r\n          <g transform={`translate(${centerOffset + 5}, ${centerOffset}) scale(${primaryScale * 0.75})`}>\r\n            <path d={primaryShape.path} fill=\"black\" />\r\n          </g>\r\n        </mask>\r\n      </defs>\r\n      {/* Perspective container - trapezoid shape */}\r\n      <path\r\n        d=\"M20 15 L80 10 L85 90 L15 85 Z\"\r\n        fill={primaryColor}\r\n        mask={`url(#mask-persp-${uniqueId})`}\r\n      />\r\n      {/* Side face for depth */}\r\n      <path\r\n        d=\"M80 10 L90 15 L95 85 L85 90 Z\"\r\n        fill={accentColor}\r\n        opacity=\"0.5\"\r\n      />\r\n    </svg>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\compositions\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\core\\advanced-geometry.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'BezierCurve' is defined but never used.","line":8,"column":17,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":28}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Advanced Geometry Utilities for Professional Logo Generation\r\n *\r\n * Golden spirals, bezier curve systems, wave functions, and\r\n * sophisticated mathematical foundations for Stripe/Linear/Notion quality logos.\r\n */\r\n\r\nimport { Point, BezierCurve } from '../types';\r\nimport { PHI, PHI_INVERSE, createSeededRandom } from './geometry';\r\n\r\n// ============================================\r\n// GOLDEN RATIO ADVANCED SYSTEMS\r\n// ============================================\r\n\r\n/**\r\n * Generate points along a golden spiral\r\n */\r\nexport function goldenSpiral(\r\n    center: Point,\r\n    startRadius: number,\r\n    turns: number,\r\n    pointCount: number = 100\r\n): Point[] {\r\n    const points: Point[] = [];\r\n    const growthFactor = PHI;\r\n\r\n    for (let i = 0; i < pointCount; i++) {\r\n        const t = (i / pointCount) * turns * Math.PI * 2;\r\n        const radius = startRadius * Math.pow(growthFactor, t / (Math.PI * 2));\r\n\r\n        points.push({\r\n            x: center.x + radius * Math.cos(t),\r\n            y: center.y + radius * Math.sin(t),\r\n        });\r\n    }\r\n\r\n    return points;\r\n}\r\n\r\n/**\r\n * Create golden ratio-based control points for smooth curves\r\n */\r\nexport function goldenControlPoints(\r\n    start: Point,\r\n    end: Point,\r\n    curvature: number = 1\r\n): { control1: Point; control2: Point } {\r\n    const dx = end.x - start.x;\r\n    const dy = end.y - start.y;\r\n    const dist = Math.sqrt(dx * dx + dy * dy);\r\n\r\n    // Use golden ratio for control point distances\r\n    const controlDist = dist * PHI_INVERSE * curvature;\r\n\r\n    // Perpendicular offset\r\n    const perpX = -dy / dist;\r\n    const perpY = dx / dist;\r\n\r\n    return {\r\n        control1: {\r\n            x: start.x + dx * PHI_INVERSE + perpX * controlDist * 0.5,\r\n            y: start.y + dy * PHI_INVERSE + perpY * controlDist * 0.5,\r\n        },\r\n        control2: {\r\n            x: end.x - dx * PHI_INVERSE + perpX * controlDist * 0.5,\r\n            y: end.y - dy * PHI_INVERSE + perpY * controlDist * 0.5,\r\n        },\r\n    };\r\n}\r\n\r\n/**\r\n * Generate a golden rectangle grid for composition\r\n */\r\nexport function goldenRectangleGrid(\r\n    width: number,\r\n    height: number,\r\n    divisions: number = 5\r\n): { lines: Array<{ start: Point; end: Point }>; points: Point[] } {\r\n    const lines: Array<{ start: Point; end: Point }> = [];\r\n    const points: Point[] = [];\r\n\r\n    // Vertical golden divisions\r\n    let x = 0;\r\n    for (let i = 0; i < divisions; i++) {\r\n        const nextX = x + (width - x) * PHI_INVERSE;\r\n        lines.push(\r\n            { start: { x: nextX, y: 0 }, end: { x: nextX, y: height } }\r\n        );\r\n        x = nextX;\r\n    }\r\n\r\n    // Horizontal golden divisions\r\n    let y = 0;\r\n    for (let i = 0; i < divisions; i++) {\r\n        const nextY = y + (height - y) * PHI_INVERSE;\r\n        lines.push(\r\n            { start: { x: 0, y: nextY }, end: { x: width, y: nextY } }\r\n        );\r\n        y = nextY;\r\n    }\r\n\r\n    // Generate intersection points\r\n    const xPositions = [0];\r\n    x = 0;\r\n    for (let i = 0; i < divisions; i++) {\r\n        x = x + (width - x) * PHI_INVERSE;\r\n        xPositions.push(x);\r\n    }\r\n    xPositions.push(width);\r\n\r\n    const yPositions = [0];\r\n    y = 0;\r\n    for (let i = 0; i < divisions; i++) {\r\n        y = y + (height - y) * PHI_INVERSE;\r\n        yPositions.push(y);\r\n    }\r\n    yPositions.push(height);\r\n\r\n    for (const px of xPositions) {\r\n        for (const py of yPositions) {\r\n            points.push({ x: px, y: py });\r\n        }\r\n    }\r\n\r\n    return { lines, points };\r\n}\r\n\r\n// ============================================\r\n// ADVANCED BEZIER CURVE SYSTEMS\r\n// ============================================\r\n\r\n/**\r\n * Create a smooth flowing curve through multiple points (Catmull-Rom to Bezier)\r\n */\r\nexport function smoothCurveThroughPoints(\r\n    points: Point[],\r\n    tension: number = 0.5,\r\n    closed: boolean = false\r\n): string {\r\n    if (points.length < 2) return '';\r\n    if (points.length === 2) {\r\n        return `M ${points[0].x} ${points[0].y} L ${points[1].x} ${points[1].y}`;\r\n    }\r\n\r\n    let path = `M ${points[0].x} ${points[0].y}`;\r\n\r\n    const getControlPoints = (p0: Point, p1: Point, p2: Point, p3: Point) => {\r\n        const d1 = Math.sqrt(Math.pow(p1.x - p0.x, 2) + Math.pow(p1.y - p0.y, 2));\r\n        const d2 = Math.sqrt(Math.pow(p2.x - p1.x, 2) + Math.pow(p2.y - p1.y, 2));\r\n        const d3 = Math.sqrt(Math.pow(p3.x - p2.x, 2) + Math.pow(p3.y - p2.y, 2));\r\n\r\n        const d1_a = Math.pow(d1, tension);\r\n        const d1_2a = Math.pow(d1, 2 * tension);\r\n        const d2_a = Math.pow(d2, tension);\r\n        const d2_2a = Math.pow(d2, 2 * tension);\r\n        const d3_a = Math.pow(d3, tension);\r\n        const d3_2a = Math.pow(d3, 2 * tension);\r\n\r\n        return {\r\n            cp1: {\r\n                x: (d1_2a * p2.x - d2_2a * p0.x + (2 * d1_2a + 3 * d1_a * d2_a + d2_2a) * p1.x) /\r\n                   (3 * d1_a * (d1_a + d2_a)),\r\n                y: (d1_2a * p2.y - d2_2a * p0.y + (2 * d1_2a + 3 * d1_a * d2_a + d2_2a) * p1.y) /\r\n                   (3 * d1_a * (d1_a + d2_a)),\r\n            },\r\n            cp2: {\r\n                x: (d3_2a * p1.x - d2_2a * p3.x + (2 * d3_2a + 3 * d3_a * d2_a + d2_2a) * p2.x) /\r\n                   (3 * d3_a * (d3_a + d2_a)),\r\n                y: (d3_2a * p1.y - d2_2a * p3.y + (2 * d3_2a + 3 * d3_a * d2_a + d2_2a) * p2.y) /\r\n                   (3 * d3_a * (d3_a + d2_a)),\r\n            },\r\n        };\r\n    };\r\n\r\n    // Extend points array for closed curves\r\n    const pts = closed\r\n        ? [points[points.length - 1], ...points, points[0], points[1]]\r\n        : [points[0], ...points, points[points.length - 1]];\r\n\r\n    for (let i = 1; i < pts.length - 2; i++) {\r\n        const { cp1, cp2 } = getControlPoints(pts[i - 1], pts[i], pts[i + 1], pts[i + 2]);\r\n\r\n        if (isFinite(cp1.x) && isFinite(cp1.y) && isFinite(cp2.x) && isFinite(cp2.y)) {\r\n            path += ` C ${cp1.x} ${cp1.y}, ${cp2.x} ${cp2.y}, ${pts[i + 1].x} ${pts[i + 1].y}`;\r\n        } else {\r\n            // Fallback to line\r\n            path += ` L ${pts[i + 1].x} ${pts[i + 1].y}`;\r\n        }\r\n    }\r\n\r\n    if (closed) {\r\n        path += ' Z';\r\n    }\r\n\r\n    return path;\r\n}\r\n\r\n/**\r\n * Create a swoosh/flow curve (Nike/Notion style)\r\n */\r\nexport function createSwooshCurve(\r\n    startPoint: Point,\r\n    endPoint: Point,\r\n    amplitude: number,\r\n    direction: 'up' | 'down' = 'up'\r\n): string {\r\n    const dx = endPoint.x - startPoint.x;\r\n    const dy = endPoint.y - startPoint.y;\r\n    const midX = startPoint.x + dx * 0.5;\r\n    const midY = startPoint.y + dy * 0.5;\r\n\r\n    const sign = direction === 'up' ? -1 : 1;\r\n\r\n    // Control points for smooth S-curve\r\n    const cp1 = {\r\n        x: startPoint.x + dx * 0.25,\r\n        y: startPoint.y + sign * amplitude * 0.3,\r\n    };\r\n\r\n    const cp2 = {\r\n        x: startPoint.x + dx * 0.4,\r\n        y: startPoint.y + sign * amplitude,\r\n    };\r\n\r\n    const mid = {\r\n        x: midX,\r\n        y: midY + sign * amplitude * 0.8,\r\n    };\r\n\r\n    const cp3 = {\r\n        x: startPoint.x + dx * 0.6,\r\n        y: endPoint.y + sign * amplitude * 0.6,\r\n    };\r\n\r\n    const cp4 = {\r\n        x: startPoint.x + dx * 0.85,\r\n        y: endPoint.y + sign * amplitude * 0.1,\r\n    };\r\n\r\n    return `M ${startPoint.x} ${startPoint.y} ` +\r\n           `C ${cp1.x} ${cp1.y}, ${cp2.x} ${cp2.y}, ${mid.x} ${mid.y} ` +\r\n           `C ${cp3.x} ${cp3.y}, ${cp4.x} ${cp4.y}, ${endPoint.x} ${endPoint.y}`;\r\n}\r\n\r\n/**\r\n * Create an organic blob shape using bezier curves\r\n */\r\nexport function createOrganicBlob(\r\n    center: Point,\r\n    radius: number,\r\n    variance: number,\r\n    seed: string,\r\n    points: number = 8\r\n): string {\r\n    const rng = createSeededRandom(seed);\r\n    const blobPoints: Point[] = [];\r\n\r\n    for (let i = 0; i < points; i++) {\r\n        const angle = (i / points) * Math.PI * 2;\r\n        const r = radius * (1 + (rng() - 0.5) * variance);\r\n\r\n        blobPoints.push({\r\n            x: center.x + Math.cos(angle) * r,\r\n            y: center.y + Math.sin(angle) * r,\r\n        });\r\n    }\r\n\r\n    return smoothCurveThroughPoints(blobPoints, 0.3, true);\r\n}\r\n\r\n/**\r\n * Create infinity/m├╢bius style looping curve\r\n */\r\nexport function createInfinityCurve(\r\n    center: Point,\r\n    width: number,\r\n    height: number\r\n): string {\r\n    const hw = width / 2;\r\n    const hh = height / 2;\r\n\r\n    return `M ${center.x} ${center.y} ` +\r\n           `C ${center.x + hw * 0.8} ${center.y - hh}, ${center.x + hw} ${center.y - hh * 0.5}, ${center.x + hw} ${center.y} ` +\r\n           `C ${center.x + hw} ${center.y + hh * 0.5}, ${center.x + hw * 0.8} ${center.y + hh}, ${center.x} ${center.y} ` +\r\n           `C ${center.x - hw * 0.8} ${center.y - hh}, ${center.x - hw} ${center.y - hh * 0.5}, ${center.x - hw} ${center.y} ` +\r\n           `C ${center.x - hw} ${center.y + hh * 0.5}, ${center.x - hw * 0.8} ${center.y + hh}, ${center.x} ${center.y} Z`;\r\n}\r\n\r\n// ============================================\r\n// WAVE & OSCILLATION FUNCTIONS\r\n// ============================================\r\n\r\n/**\r\n * Generate sine wave path\r\n */\r\nexport function sineWavePath(\r\n    startX: number,\r\n    startY: number,\r\n    width: number,\r\n    amplitude: number,\r\n    frequency: number,\r\n    phase: number = 0,\r\n    segments: number = 50\r\n): string {\r\n    const points: Point[] = [];\r\n\r\n    for (let i = 0; i <= segments; i++) {\r\n        const t = i / segments;\r\n        const x = startX + t * width;\r\n        const y = startY + Math.sin(t * Math.PI * 2 * frequency + phase) * amplitude;\r\n        points.push({ x, y });\r\n    }\r\n\r\n    return smoothCurveThroughPoints(points, 0.3);\r\n}\r\n\r\n/**\r\n * Generate multiple stacked sine waves\r\n */\r\nexport function stackedSineWaves(\r\n    centerY: number,\r\n    width: number,\r\n    count: number,\r\n    baseAmplitude: number,\r\n    frequency: number,\r\n    spacing: number\r\n): string[] {\r\n    const paths: string[] = [];\r\n    const startX = (100 - width) / 2;\r\n    const startY = centerY - (count - 1) * spacing / 2;\r\n\r\n    for (let i = 0; i < count; i++) {\r\n        const y = startY + i * spacing;\r\n        const amplitude = baseAmplitude * (1 - Math.abs(i - count / 2) / count * 0.3);\r\n        const phase = i * 0.3;\r\n\r\n        paths.push(sineWavePath(startX, y, width, amplitude, frequency, phase));\r\n    }\r\n\r\n    return paths;\r\n}\r\n\r\n/**\r\n * Generate audio waveform style path\r\n */\r\nexport function audioWaveformPath(\r\n    startX: number,\r\n    centerY: number,\r\n    width: number,\r\n    bars: number,\r\n    seed: string\r\n): Array<{ x: number; height: number }> {\r\n    const rng = createSeededRandom(seed);\r\n    const barWidth = width / bars;\r\n    const waveData: Array<{ x: number; height: number }> = [];\r\n\r\n    for (let i = 0; i < bars; i++) {\r\n        // Create smooth envelope with random variation\r\n        const envelope = Math.sin(i / bars * Math.PI);\r\n        const randomness = 0.3 + rng() * 0.7;\r\n        const height = envelope * randomness * 30;\r\n\r\n        waveData.push({\r\n            x: startX + i * barWidth,\r\n            height,\r\n        });\r\n    }\r\n\r\n    return waveData;\r\n}\r\n\r\n// ============================================\r\n// GEOMETRIC TRANSFORMATION\r\n// ============================================\r\n\r\n/**\r\n * Apply perspective transform to a point\r\n */\r\nexport function perspectiveTransform(\r\n    point: Point,\r\n    center: Point,\r\n    vanishingPoint: Point,\r\n    depth: number\r\n): Point {\r\n    const dx = point.x - center.x;\r\n    const dy = point.y - center.y;\r\n\r\n    const scale = 1 / (1 + depth * (vanishingPoint.y - point.y) / 100);\r\n\r\n    return {\r\n        x: center.x + dx * scale + (vanishingPoint.x - center.x) * (1 - scale),\r\n        y: center.y + dy * scale,\r\n    };\r\n}\r\n\r\n/**\r\n * Create ribbon/tape 3D effect path\r\n */\r\nexport function createRibbonPath(\r\n    points: Point[],\r\n    thickness: number,\r\n    twist: number = 0\r\n): { top: string; bottom: string; connects: string[] } {\r\n    const topPoints: Point[] = [];\r\n    const bottomPoints: Point[] = [];\r\n\r\n    for (let i = 0; i < points.length; i++) {\r\n        const t = i / (points.length - 1);\r\n        const twistAngle = twist * Math.sin(t * Math.PI);\r\n        const offset = thickness / 2;\r\n\r\n        // Get tangent direction\r\n        let tangent: Point;\r\n        if (i === 0) {\r\n            tangent = { x: points[1].x - points[0].x, y: points[1].y - points[0].y };\r\n        } else if (i === points.length - 1) {\r\n            tangent = { x: points[i].x - points[i - 1].x, y: points[i].y - points[i - 1].y };\r\n        } else {\r\n            tangent = { x: points[i + 1].x - points[i - 1].x, y: points[i + 1].y - points[i - 1].y };\r\n        }\r\n\r\n        const len = Math.sqrt(tangent.x * tangent.x + tangent.y * tangent.y);\r\n        const normal = { x: -tangent.y / len, y: tangent.x / len };\r\n\r\n        const topOffset = offset * Math.cos(twistAngle);\r\n        const bottomOffset = offset * Math.cos(twistAngle + Math.PI);\r\n\r\n        topPoints.push({\r\n            x: points[i].x + normal.x * topOffset,\r\n            y: points[i].y + normal.y * topOffset,\r\n        });\r\n\r\n        bottomPoints.push({\r\n            x: points[i].x + normal.x * bottomOffset,\r\n            y: points[i].y + normal.y * bottomOffset,\r\n        });\r\n    }\r\n\r\n    return {\r\n        top: smoothCurveThroughPoints(topPoints, 0.3),\r\n        bottom: smoothCurveThroughPoints(bottomPoints.reverse(), 0.3),\r\n        connects: [],\r\n    };\r\n}\r\n\r\n// ============================================\r\n// SHAPE INTERSECTION & BOOLEAN OPS\r\n// ============================================\r\n\r\n/**\r\n * Generate overlapping circles data\r\n */\r\nexport function overlappingCircles(\r\n    center: Point,\r\n    count: number,\r\n    radius: number,\r\n    spread: number,\r\n    seed: string\r\n): Array<{ cx: number; cy: number; r: number; angle: number }> {\r\n    const rng = createSeededRandom(seed);\r\n    const circles: Array<{ cx: number; cy: number; r: number; angle: number }> = [];\r\n\r\n    const angleStep = (Math.PI * 2) / count;\r\n\r\n    for (let i = 0; i < count; i++) {\r\n        const angle = angleStep * i - Math.PI / 2;\r\n        const distance = spread * (0.8 + rng() * 0.4);\r\n        const r = radius * (0.85 + rng() * 0.3);\r\n\r\n        circles.push({\r\n            cx: center.x + Math.cos(angle) * distance,\r\n            cy: center.y + Math.sin(angle) * distance,\r\n            r,\r\n            angle: angle * (180 / Math.PI),\r\n        });\r\n    }\r\n\r\n    return circles;\r\n}\r\n\r\n/**\r\n * Generate Venn diagram intersection paths (2-3 circles)\r\n */\r\nexport function vennIntersectionPath(\r\n    circle1: { cx: number; cy: number; r: number },\r\n    circle2: { cx: number; cy: number; r: number }\r\n): string {\r\n    const d = Math.sqrt(\r\n        Math.pow(circle2.cx - circle1.cx, 2) +\r\n        Math.pow(circle2.cy - circle1.cy, 2)\r\n    );\r\n\r\n    // Check if circles intersect\r\n    if (d >= circle1.r + circle2.r || d <= Math.abs(circle1.r - circle2.r)) {\r\n        return '';\r\n    }\r\n\r\n    // Calculate intersection points\r\n    const a = (circle1.r * circle1.r - circle2.r * circle2.r + d * d) / (2 * d);\r\n    const h = Math.sqrt(circle1.r * circle1.r - a * a);\r\n\r\n    const px = circle1.cx + a * (circle2.cx - circle1.cx) / d;\r\n    const py = circle1.cy + a * (circle2.cy - circle1.cy) / d;\r\n\r\n    const intersection1 = {\r\n        x: px + h * (circle2.cy - circle1.cy) / d,\r\n        y: py - h * (circle2.cx - circle1.cx) / d,\r\n    };\r\n\r\n    const intersection2 = {\r\n        x: px - h * (circle2.cy - circle1.cy) / d,\r\n        y: py + h * (circle2.cx - circle1.cx) / d,\r\n    };\r\n\r\n    // Create lens-shaped intersection path\r\n    return `M ${intersection1.x} ${intersection1.y} ` +\r\n           `A ${circle1.r} ${circle1.r} 0 0 1 ${intersection2.x} ${intersection2.y} ` +\r\n           `A ${circle2.r} ${circle2.r} 0 0 1 ${intersection1.x} ${intersection1.y} Z`;\r\n}\r\n\r\n// ============================================\r\n// NODE & NETWORK PATTERNS\r\n// ============================================\r\n\r\n/**\r\n * Generate network node positions\r\n */\r\nexport function networkNodes(\r\n    center: Point,\r\n    nodeCount: number,\r\n    radius: number,\r\n    seed: string,\r\n    clustering: number = 0.5\r\n): Point[] {\r\n    const rng = createSeededRandom(seed);\r\n    const nodes: Point[] = [center]; // Central node\r\n\r\n    // Generate clustered nodes\r\n    for (let i = 1; i < nodeCount; i++) {\r\n        const angle = rng() * Math.PI * 2;\r\n        const distance = radius * (0.3 + rng() * 0.7 * clustering);\r\n\r\n        nodes.push({\r\n            x: center.x + Math.cos(angle) * distance,\r\n            y: center.y + Math.sin(angle) * distance,\r\n        });\r\n    }\r\n\r\n    return nodes;\r\n}\r\n\r\n/**\r\n * Generate connection lines between nodes\r\n */\r\nexport function networkConnections(\r\n    nodes: Point[],\r\n    connectionDensity: number = 0.5,\r\n    seed: string\r\n): Array<{ from: Point; to: Point; strength: number }> {\r\n    const rng = createSeededRandom(seed);\r\n    const connections: Array<{ from: Point; to: Point; strength: number }> = [];\r\n\r\n    for (let i = 0; i < nodes.length; i++) {\r\n        for (let j = i + 1; j < nodes.length; j++) {\r\n            if (rng() < connectionDensity) {\r\n                const dist = Math.sqrt(\r\n                    Math.pow(nodes[j].x - nodes[i].x, 2) +\r\n                    Math.pow(nodes[j].y - nodes[i].y, 2)\r\n                );\r\n\r\n                connections.push({\r\n                    from: nodes[i],\r\n                    to: nodes[j],\r\n                    strength: 1 - (dist / 100), // Closer = stronger\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    return connections;\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\core\\color-utils.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'hsl' is assigned a value but never used.","line":290,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":290,"endColumn":14}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Color Utilities for Logo Generation\r\n * \r\n * Color manipulation, gradient generation, and palette utilities\r\n */\r\n\r\n// ============================================\r\n// COLOR CONVERSION\r\n// ============================================\r\n\r\n/**\r\n * Parse hex color to RGB\r\n */\r\nexport function hexToRgb(hex: string): { r: number; g: number; b: number } | null {\r\n    const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\r\n    return result\r\n        ? {\r\n            r: parseInt(result[1], 16),\r\n            g: parseInt(result[2], 16),\r\n            b: parseInt(result[3], 16),\r\n        }\r\n        : null;\r\n}\r\n\r\n/**\r\n * Convert RGB to hex\r\n */\r\nexport function rgbToHex(r: number, g: number, b: number): string {\r\n    return '#' + [r, g, b].map(x => {\r\n        const hex = Math.round(Math.max(0, Math.min(255, x))).toString(16);\r\n        return hex.length === 1 ? '0' + hex : hex;\r\n    }).join('');\r\n}\r\n\r\n/**\r\n * Convert RGB to HSL\r\n */\r\nexport function rgbToHsl(r: number, g: number, b: number): { h: number; s: number; l: number } {\r\n    r /= 255;\r\n    g /= 255;\r\n    b /= 255;\r\n\r\n    const max = Math.max(r, g, b);\r\n    const min = Math.min(r, g, b);\r\n    let h = 0;\r\n    let s = 0;\r\n    const l = (max + min) / 2;\r\n\r\n    if (max !== min) {\r\n        const d = max - min;\r\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\r\n\r\n        switch (max) {\r\n            case r:\r\n                h = ((g - b) / d + (g < b ? 6 : 0)) / 6;\r\n                break;\r\n            case g:\r\n                h = ((b - r) / d + 2) / 6;\r\n                break;\r\n            case b:\r\n                h = ((r - g) / d + 4) / 6;\r\n                break;\r\n        }\r\n    }\r\n\r\n    return { h: h * 360, s: s * 100, l: l * 100 };\r\n}\r\n\r\n/**\r\n * Convert HSL to RGB\r\n */\r\nexport function hslToRgb(h: number, s: number, l: number): { r: number; g: number; b: number } {\r\n    h /= 360;\r\n    s /= 100;\r\n    l /= 100;\r\n\r\n    let r, g, b;\r\n\r\n    if (s === 0) {\r\n        r = g = b = l;\r\n    } else {\r\n        const hue2rgb = (p: number, q: number, t: number) => {\r\n            if (t < 0) t += 1;\r\n            if (t > 1) t -= 1;\r\n            if (t < 1 / 6) return p + (q - p) * 6 * t;\r\n            if (t < 1 / 2) return q;\r\n            if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\r\n            return p;\r\n        };\r\n\r\n        const q = l < 0.5 ? l * (1 + s) : l + s - l * s;\r\n        const p = 2 * l - q;\r\n        r = hue2rgb(p, q, h + 1 / 3);\r\n        g = hue2rgb(p, q, h);\r\n        b = hue2rgb(p, q, h - 1 / 3);\r\n    }\r\n\r\n    return {\r\n        r: Math.round(r * 255),\r\n        g: Math.round(g * 255),\r\n        b: Math.round(b * 255),\r\n    };\r\n}\r\n\r\n// ============================================\r\n// COLOR MANIPULATION\r\n// ============================================\r\n\r\n/**\r\n * Lighten a color by percentage\r\n */\r\nexport function lighten(hex: string, percent: number): string {\r\n    const rgb = hexToRgb(hex);\r\n    if (!rgb) return hex;\r\n\r\n    const hsl = rgbToHsl(rgb.r, rgb.g, rgb.b);\r\n    hsl.l = Math.min(100, hsl.l + percent);\r\n\r\n    const newRgb = hslToRgb(hsl.h, hsl.s, hsl.l);\r\n    return rgbToHex(newRgb.r, newRgb.g, newRgb.b);\r\n}\r\n\r\n/**\r\n * Darken a color by percentage\r\n */\r\nexport function darken(hex: string, percent: number): string {\r\n    const rgb = hexToRgb(hex);\r\n    if (!rgb) return hex;\r\n\r\n    const hsl = rgbToHsl(rgb.r, rgb.g, rgb.b);\r\n    hsl.l = Math.max(0, hsl.l - percent);\r\n\r\n    const newRgb = hslToRgb(hsl.h, hsl.s, hsl.l);\r\n    return rgbToHex(newRgb.r, newRgb.g, newRgb.b);\r\n}\r\n\r\n/**\r\n * Adjust saturation\r\n */\r\nexport function saturate(hex: string, percent: number): string {\r\n    const rgb = hexToRgb(hex);\r\n    if (!rgb) return hex;\r\n\r\n    const hsl = rgbToHsl(rgb.r, rgb.g, rgb.b);\r\n    hsl.s = Math.min(100, Math.max(0, hsl.s + percent));\r\n\r\n    const newRgb = hslToRgb(hsl.h, hsl.s, hsl.l);\r\n    return rgbToHex(newRgb.r, newRgb.g, newRgb.b);\r\n}\r\n\r\n/**\r\n * Rotate hue\r\n */\r\nexport function rotateHue(hex: string, degrees: number): string {\r\n    const rgb = hexToRgb(hex);\r\n    if (!rgb) return hex;\r\n\r\n    const hsl = rgbToHsl(rgb.r, rgb.g, rgb.b);\r\n    hsl.h = (hsl.h + degrees) % 360;\r\n    if (hsl.h < 0) hsl.h += 360;\r\n\r\n    const newRgb = hslToRgb(hsl.h, hsl.s, hsl.l);\r\n    return rgbToHex(newRgb.r, newRgb.g, newRgb.b);\r\n}\r\n\r\n/**\r\n * Mix two colors\r\n */\r\nexport function mixColors(color1: string, color2: string, weight: number = 0.5): string {\r\n    const rgb1 = hexToRgb(color1);\r\n    const rgb2 = hexToRgb(color2);\r\n\r\n    if (!rgb1 || !rgb2) return color1;\r\n\r\n    return rgbToHex(\r\n        Math.round(rgb1.r * (1 - weight) + rgb2.r * weight),\r\n        Math.round(rgb1.g * (1 - weight) + rgb2.g * weight),\r\n        Math.round(rgb1.b * (1 - weight) + rgb2.b * weight)\r\n    );\r\n}\r\n\r\n/**\r\n * Get color with alpha (returns rgba string)\r\n */\r\nexport function withAlpha(hex: string, alpha: number): string {\r\n    const rgb = hexToRgb(hex);\r\n    if (!rgb) return hex;\r\n    return `rgba(${rgb.r}, ${rgb.g}, ${rgb.b}, ${alpha})`;\r\n}\r\n\r\n// ============================================\r\n// CONTRAST & ACCESSIBILITY\r\n// ============================================\r\n\r\n/**\r\n * Calculate relative luminance\r\n */\r\nexport function luminance(hex: string): number {\r\n    const rgb = hexToRgb(hex);\r\n    if (!rgb) return 0;\r\n\r\n    const [r, g, b] = [rgb.r, rgb.g, rgb.b].map(c => {\r\n        c /= 255;\r\n        return c <= 0.03928 ? c / 12.92 : Math.pow((c + 0.055) / 1.055, 2.4);\r\n    });\r\n\r\n    return 0.2126 * r + 0.7152 * g + 0.0722 * b;\r\n}\r\n\r\n/**\r\n * Calculate contrast ratio between two colors\r\n */\r\nexport function contrastRatio(color1: string, color2: string): number {\r\n    const l1 = luminance(color1);\r\n    const l2 = luminance(color2);\r\n    const lighter = Math.max(l1, l2);\r\n    const darker = Math.min(l1, l2);\r\n    return (lighter + 0.05) / (darker + 0.05);\r\n}\r\n\r\n/**\r\n * Check if color is light or dark\r\n */\r\nexport function isLight(hex: string): boolean {\r\n    return luminance(hex) > 0.179;\r\n}\r\n\r\n/**\r\n * Get contrasting text color (black or white)\r\n */\r\nexport function getContrastColor(hex: string): string {\r\n    return isLight(hex) ? '#000000' : '#FFFFFF';\r\n}\r\n\r\n// ============================================\r\n// GRADIENT GENERATION\r\n// ============================================\r\n\r\nimport { GradientDef } from '../types';\r\n\r\n/**\r\n * Create a two-color gradient\r\n */\r\nexport function createGradient(\r\n    color1: string,\r\n    color2: string,\r\n    angle: number = 45,\r\n    type: 'linear' | 'radial' = 'linear'\r\n): GradientDef {\r\n    return {\r\n        type,\r\n        angle: type === 'linear' ? angle : undefined,\r\n        stops: [\r\n            { offset: 0, color: color1 },\r\n            { offset: 1, color: color2 },\r\n        ],\r\n    };\r\n}\r\n\r\n/**\r\n * Create a multi-stop gradient\r\n */\r\nexport function createMultiGradient(\r\n    colors: string[],\r\n    angle: number = 45,\r\n    type: 'linear' | 'radial' = 'linear'\r\n): GradientDef {\r\n    const stops = colors.map((color, i) => ({\r\n        offset: i / (colors.length - 1),\r\n        color,\r\n    }));\r\n\r\n    return {\r\n        type,\r\n        angle: type === 'linear' ? angle : undefined,\r\n        stops,\r\n    };\r\n}\r\n\r\n/**\r\n * Generate a harmonious color pair for gradients\r\n */\r\nexport function generateGradientPair(\r\n    baseColor: string,\r\n    style: 'analogous' | 'complementary' | 'split' | 'monochromatic' = 'analogous'\r\n): [string, string] {\r\n    const rgb = hexToRgb(baseColor);\r\n    if (!rgb) return [baseColor, baseColor];\r\n\r\n    const hsl = rgbToHsl(rgb.r, rgb.g, rgb.b);\r\n\r\n    switch (style) {\r\n        case 'complementary':\r\n            return [baseColor, rotateHue(baseColor, 180)];\r\n\r\n        case 'split':\r\n            return [rotateHue(baseColor, -30), rotateHue(baseColor, 30)];\r\n\r\n        case 'monochromatic':\r\n            return [lighten(baseColor, 20), darken(baseColor, 15)];\r\n\r\n        case 'analogous':\r\n        default:\r\n            return [baseColor, rotateHue(baseColor, 30)];\r\n    }\r\n}\r\n\r\n/**\r\n * Create a Stripe-style gradient (vibrant, angled)\r\n */\r\nexport function createStripeGradient(baseColor: string): GradientDef {\r\n    const lighter = lighten(saturate(baseColor, 10), 15);\r\n    const darker = darken(saturate(baseColor, 5), 10);\r\n\r\n    return {\r\n        type: 'linear',\r\n        angle: 135,\r\n        stops: [\r\n            { offset: 0, color: lighter },\r\n            { offset: 0.5, color: baseColor },\r\n            { offset: 1, color: darker },\r\n        ],\r\n    };\r\n}\r\n\r\n/**\r\n * Create a vibrant tech gradient\r\n */\r\nexport function createTechGradient(color1: string, color2?: string): GradientDef {\r\n    const c2 = color2 || rotateHue(color1, 45);\r\n\r\n    return {\r\n        type: 'linear',\r\n        angle: 120,\r\n        stops: [\r\n            { offset: 0, color: lighten(color1, 10) },\r\n            { offset: 0.4, color: color1 },\r\n            { offset: 0.6, color: mixColors(color1, c2, 0.5) },\r\n            { offset: 1, color: c2 },\r\n        ],\r\n    };\r\n}\r\n\r\n// ============================================\r\n// ADVANCED GRADIENT SYSTEMS\r\n// ============================================\r\n\r\n/**\r\n * Create an iridescent/holographic gradient effect\r\n */\r\nexport function createIridescentGradient(baseColor: string): GradientDef {\r\n    const hueShift1 = rotateHue(baseColor, -40);\r\n    const hueShift2 = rotateHue(baseColor, 40);\r\n    const hueShift3 = rotateHue(baseColor, 80);\r\n\r\n    return {\r\n        type: 'linear',\r\n        angle: 135,\r\n        stops: [\r\n            { offset: 0, color: lighten(hueShift1, 15) },\r\n            { offset: 0.25, color: baseColor },\r\n            { offset: 0.5, color: hueShift2 },\r\n            { offset: 0.75, color: hueShift3 },\r\n            { offset: 1, color: lighten(hueShift1, 10) },\r\n        ],\r\n    };\r\n}\r\n\r\n/**\r\n * Create a premium metallic gradient\r\n */\r\nexport function createMetallicGradient(baseColor: string, metal: 'gold' | 'silver' | 'bronze' | 'custom' = 'custom'): GradientDef {\r\n    let highlights: { light: string; mid: string; dark: string };\r\n\r\n    switch (metal) {\r\n        case 'gold':\r\n            highlights = {\r\n                light: '#FFF4D4',\r\n                mid: '#D4AF37',\r\n                dark: '#8B6914',\r\n            };\r\n            break;\r\n        case 'silver':\r\n            highlights = {\r\n                light: '#FFFFFF',\r\n                mid: '#C0C0C0',\r\n                dark: '#808080',\r\n            };\r\n            break;\r\n        case 'bronze':\r\n            highlights = {\r\n                light: '#FFCC99',\r\n                mid: '#CD7F32',\r\n                dark: '#8B4513',\r\n            };\r\n            break;\r\n        default:\r\n            highlights = {\r\n                light: lighten(baseColor, 35),\r\n                mid: baseColor,\r\n                dark: darken(baseColor, 25),\r\n            };\r\n    }\r\n\r\n    return {\r\n        type: 'linear',\r\n        angle: 145,\r\n        stops: [\r\n            { offset: 0, color: highlights.light },\r\n            { offset: 0.2, color: highlights.mid },\r\n            { offset: 0.4, color: highlights.light },\r\n            { offset: 0.6, color: highlights.mid },\r\n            { offset: 0.8, color: highlights.dark },\r\n            { offset: 1, color: highlights.mid },\r\n        ],\r\n    };\r\n}\r\n\r\n/**\r\n * Create a glass/frosted effect gradient\r\n */\r\nexport function createGlassGradient(baseColor: string): GradientDef {\r\n    return {\r\n        type: 'linear',\r\n        angle: 180,\r\n        stops: [\r\n            { offset: 0, color: withAlpha(lighten(baseColor, 40), 0.9).replace('rgba', '#').slice(0, 7) },\r\n            { offset: 0.3, color: withAlpha(baseColor, 0.7).replace('rgba', '#').slice(0, 7) },\r\n            { offset: 0.7, color: withAlpha(darken(baseColor, 10), 0.8).replace('rgba', '#').slice(0, 7) },\r\n            { offset: 1, color: withAlpha(darken(baseColor, 20), 0.9).replace('rgba', '#').slice(0, 7) },\r\n        ],\r\n    };\r\n}\r\n\r\n/**\r\n * Create a sunset/horizon gradient\r\n */\r\nexport function createSunsetGradient(warmColor: string): GradientDef {\r\n    const orange = rotateHue(warmColor, -15);\r\n    const pink = rotateHue(warmColor, 30);\r\n    const purple = rotateHue(warmColor, 60);\r\n\r\n    return {\r\n        type: 'linear',\r\n        angle: 180,\r\n        stops: [\r\n            { offset: 0, color: lighten(warmColor, 20) },\r\n            { offset: 0.3, color: orange },\r\n            { offset: 0.5, color: warmColor },\r\n            { offset: 0.7, color: pink },\r\n            { offset: 1, color: purple },\r\n        ],\r\n    };\r\n}\r\n\r\n/**\r\n * Create a depth/3D gradient for shapes\r\n */\r\nexport function createDepthGradient(baseColor: string, direction: 'top' | 'left' | 'top-left' = 'top-left'): GradientDef {\r\n    const angleMap = {\r\n        'top': 180,\r\n        'left': 90,\r\n        'top-left': 135,\r\n    };\r\n\r\n    return {\r\n        type: 'linear',\r\n        angle: angleMap[direction],\r\n        stops: [\r\n            { offset: 0, color: lighten(baseColor, 25) },\r\n            { offset: 0.15, color: lighten(baseColor, 15) },\r\n            { offset: 0.5, color: baseColor },\r\n            { offset: 0.85, color: darken(baseColor, 15) },\r\n            { offset: 1, color: darken(baseColor, 25) },\r\n        ],\r\n    };\r\n}\r\n\r\n/**\r\n * Create a neon glow gradient\r\n */\r\nexport function createNeonGradient(glowColor: string): GradientDef {\r\n    const saturated = saturate(glowColor, 30);\r\n    const bright = lighten(saturated, 20);\r\n\r\n    return {\r\n        type: 'radial',\r\n        stops: [\r\n            { offset: 0, color: bright },\r\n            { offset: 0.3, color: saturated },\r\n            { offset: 0.6, color: glowColor },\r\n            { offset: 1, color: darken(glowColor, 30) },\r\n        ],\r\n    };\r\n}\r\n\r\n/**\r\n * Generate a complete color palette from a base color\r\n */\r\nexport function generateColorPalette(baseColor: string): {\r\n    primary: string;\r\n    secondary: string;\r\n    accent: string;\r\n    light: string;\r\n    dark: string;\r\n    muted: string;\r\n} {\r\n    return {\r\n        primary: baseColor,\r\n        secondary: rotateHue(baseColor, 30),\r\n        accent: rotateHue(baseColor, 180),\r\n        light: lighten(baseColor, 35),\r\n        dark: darken(baseColor, 35),\r\n        muted: saturate(baseColor, -30),\r\n    };\r\n}\r\n\r\n/**\r\n * Create aurora/northern lights gradient\r\n */\r\nexport function createAuroraGradient(baseColor: string): GradientDef {\r\n    const green = rotateHue(baseColor, -60);\r\n    const teal = rotateHue(baseColor, -30);\r\n    const purple = rotateHue(baseColor, 60);\r\n\r\n    return {\r\n        type: 'linear',\r\n        angle: 135,\r\n        stops: [\r\n            { offset: 0, color: darken(purple, 20) },\r\n            { offset: 0.2, color: purple },\r\n            { offset: 0.4, color: teal },\r\n            { offset: 0.6, color: green },\r\n            { offset: 0.8, color: lighten(green, 20) },\r\n            { offset: 1, color: lighten(teal, 15) },\r\n        ],\r\n    };\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\core\\geometry.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'GridConfig' is defined but never used.","line":7,"column":30,"nodeType":null,"messageId":"unusedVar","endLine":7,"endColumn":40}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Geometry Utilities for Logo Generation\r\n * \r\n * Golden ratio calculations, grid systems, and bezier curve generation\r\n */\r\n\r\nimport { Point, BezierCurve, GridConfig, GoldenRatioGrid, Rectangle } from '../types';\r\n\r\n// ============================================\r\n// CONSTANTS\r\n// ============================================\r\n\r\n/** The golden ratio (╧å) */\r\nexport const PHI = 1.618033988749895;\r\n\r\n/** Inverse golden ratio (1/╧å) */\r\nexport const PHI_INVERSE = 0.618033988749895;\r\n\r\n/** Common angles in radians */\r\nexport const ANGLES = {\r\n    DEG_30: Math.PI / 6,\r\n    DEG_45: Math.PI / 4,\r\n    DEG_60: Math.PI / 3,\r\n    DEG_90: Math.PI / 2,\r\n    DEG_120: (2 * Math.PI) / 3,\r\n    DEG_180: Math.PI,\r\n    DEG_270: (3 * Math.PI) / 2,\r\n    DEG_360: 2 * Math.PI,\r\n};\r\n\r\n// ============================================\r\n// SEEDED RANDOM\r\n// ============================================\r\n\r\n/**\r\n * Create a seeded random number generator\r\n */\r\nexport function createSeededRandom(seed: string): () => number {\r\n    let hash = 0;\r\n    for (let i = 0; i < seed.length; i++) {\r\n        const char = seed.charCodeAt(i);\r\n        hash = ((hash << 5) - hash) + char;\r\n        hash = hash & hash;\r\n    }\r\n\r\n    let state = hash;\r\n\r\n    return () => {\r\n        state = (state * 1103515245 + 12345) & 0x7fffffff;\r\n        return state / 0x7fffffff;\r\n    };\r\n}\r\n\r\n/**\r\n * Get a random value in range using seeded RNG\r\n */\r\nexport function randomInRange(rng: () => number, min: number, max: number): number {\r\n    return min + rng() * (max - min);\r\n}\r\n\r\n/**\r\n * Pick random item from array\r\n */\r\nexport function randomPick<T>(rng: () => number, arr: T[]): T {\r\n    return arr[Math.floor(rng() * arr.length)];\r\n}\r\n\r\n// ============================================\r\n// GOLDEN RATIO GRID\r\n// ============================================\r\n\r\n/**\r\n * Create a golden ratio-based grid system\r\n */\r\nexport function createGoldenRatioGrid(size: number, margin: number = 10): GoldenRatioGrid {\r\n    const usableSize = size - margin * 2;\r\n    const major = usableSize * PHI_INVERSE;\r\n    const minor = usableSize - major;\r\n\r\n    return {\r\n        size,\r\n        columns: 5,\r\n        rows: 5,\r\n        margin,\r\n        gap: 0,\r\n        phi: PHI,\r\n        major,\r\n        minor,\r\n    };\r\n}\r\n\r\n/**\r\n * Get golden ratio divisions of a length\r\n */\r\nexport function goldenDivisions(length: number, depth: number = 3): number[] {\r\n    const divisions: number[] = [0];\r\n    let current = 0;\r\n    let segment = length;\r\n\r\n    for (let i = 0; i < depth; i++) {\r\n        const major = segment * PHI_INVERSE;\r\n        current += major;\r\n        divisions.push(current);\r\n        segment = segment - major;\r\n    }\r\n\r\n    divisions.push(length);\r\n    return divisions;\r\n}\r\n\r\n/**\r\n * Get key points on a golden ratio grid\r\n */\r\nexport function getGoldenGridPoints(size: number, margin: number = 10): Point[] {\r\n    const usable = size - margin * 2;\r\n    const divisions = goldenDivisions(usable, 3);\r\n\r\n    const points: Point[] = [];\r\n\r\n    divisions.forEach(x => {\r\n        divisions.forEach(y => {\r\n            points.push({ x: margin + x, y: margin + y });\r\n        });\r\n    });\r\n\r\n    return points;\r\n}\r\n\r\n// ============================================\r\n// BEZIER CURVE GENERATION\r\n// ============================================\r\n\r\n/**\r\n * Create a smooth bezier curve between two points\r\n */\r\nexport function createSmoothCurve(\r\n    start: Point,\r\n    end: Point,\r\n    curvature: number = 0.3,\r\n    direction: 'horizontal' | 'vertical' = 'horizontal'\r\n): BezierCurve {\r\n    const dx = end.x - start.x;\r\n    const dy = end.y - start.y;\r\n\r\n    let control1: Point;\r\n    let control2: Point;\r\n\r\n    if (direction === 'horizontal') {\r\n        control1 = { x: start.x + dx * curvature, y: start.y };\r\n        control2 = { x: end.x - dx * curvature, y: end.y };\r\n    } else {\r\n        control1 = { x: start.x, y: start.y + dy * curvature };\r\n        control2 = { x: end.x, y: end.y - dy * curvature };\r\n    }\r\n\r\n    return { start, control1, control2, end };\r\n}\r\n\r\n/**\r\n * Create an organic curve with tension control\r\n */\r\nexport function createOrganicCurve(\r\n    start: Point,\r\n    end: Point,\r\n    rng: () => number,\r\n    tension: number = 0.5\r\n): BezierCurve {\r\n    const dx = end.x - start.x;\r\n    const dy = end.y - start.y;\r\n    const dist = Math.sqrt(dx * dx + dy * dy);\r\n\r\n    const angle1 = Math.atan2(dy, dx) + (rng() - 0.5) * Math.PI * tension;\r\n    const angle2 = Math.atan2(-dy, -dx) + (rng() - 0.5) * Math.PI * tension;\r\n\r\n    const len = dist * 0.4;\r\n\r\n    return {\r\n        start,\r\n        control1: {\r\n            x: start.x + Math.cos(angle1) * len,\r\n            y: start.y + Math.sin(angle1) * len,\r\n        },\r\n        control2: {\r\n            x: end.x + Math.cos(angle2) * len,\r\n            y: end.y + Math.sin(angle2) * len,\r\n        },\r\n        end,\r\n    };\r\n}\r\n\r\n/**\r\n * Convert bezier curve to SVG path command\r\n */\r\nexport function bezierToPath(curve: BezierCurve): string {\r\n    return `M ${curve.start.x} ${curve.start.y} C ${curve.control1.x} ${curve.control1.y}, ${curve.control2.x} ${curve.control2.y}, ${curve.end.x} ${curve.end.y}`;\r\n}\r\n\r\n// ============================================\r\n// SHAPE GENERATION\r\n// ============================================\r\n\r\n/**\r\n * Create a rounded rectangle path\r\n */\r\nexport function roundedRectPath(rect: Rectangle): string {\r\n    const { x, y, width, height, rx = 0 } = rect;\r\n    const r = Math.min(rx, width / 2, height / 2);\r\n\r\n    if (r === 0) {\r\n        return `M ${x} ${y} h ${width} v ${height} h ${-width} Z`;\r\n    }\r\n\r\n    return `\r\n    M ${x + r} ${y}\r\n    h ${width - 2 * r}\r\n    a ${r} ${r} 0 0 1 ${r} ${r}\r\n    v ${height - 2 * r}\r\n    a ${r} ${r} 0 0 1 ${-r} ${r}\r\n    h ${-(width - 2 * r)}\r\n    a ${r} ${r} 0 0 1 ${-r} ${-r}\r\n    v ${-(height - 2 * r)}\r\n    a ${r} ${r} 0 0 1 ${r} ${-r}\r\n    Z\r\n  `.replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\n/**\r\n * Create a squircle (superellipse) path\r\n */\r\nexport function squirclePath(\r\n    cx: number,\r\n    cy: number,\r\n    size: number,\r\n    n: number = 4 // Higher = more square\r\n): string {\r\n    const points: Point[] = [];\r\n    const steps = 64;\r\n    const r = size / 2;\r\n\r\n    for (let i = 0; i <= steps; i++) {\r\n        const angle = (i / steps) * 2 * Math.PI;\r\n        const cos = Math.cos(angle);\r\n        const sin = Math.sin(angle);\r\n\r\n        // Superellipse formula\r\n        const x = cx + r * Math.sign(cos) * Math.pow(Math.abs(cos), 2 / n);\r\n        const y = cy + r * Math.sign(sin) * Math.pow(Math.abs(sin), 2 / n);\r\n\r\n        points.push({ x, y });\r\n    }\r\n\r\n    return pointsToPath(points);\r\n}\r\n\r\n/**\r\n * Convert array of points to SVG path\r\n */\r\nexport function pointsToPath(points: Point[], closed: boolean = true): string {\r\n    if (points.length < 2) return '';\r\n\r\n    let path = `M ${points[0].x} ${points[0].y}`;\r\n\r\n    for (let i = 1; i < points.length; i++) {\r\n        path += ` L ${points[i].x} ${points[i].y}`;\r\n    }\r\n\r\n    if (closed) path += ' Z';\r\n\r\n    return path;\r\n}\r\n\r\n/**\r\n * Create a polygon with n sides\r\n */\r\nexport function regularPolygonPath(\r\n    cx: number,\r\n    cy: number,\r\n    radius: number,\r\n    sides: number,\r\n    rotation: number = -90 // Start from top\r\n): string {\r\n    const points: Point[] = [];\r\n    const angleStep = (2 * Math.PI) / sides;\r\n    const startAngle = (rotation * Math.PI) / 180;\r\n\r\n    for (let i = 0; i < sides; i++) {\r\n        const angle = startAngle + i * angleStep;\r\n        points.push({\r\n            x: cx + radius * Math.cos(angle),\r\n            y: cy + radius * Math.sin(angle),\r\n        });\r\n    }\r\n\r\n    return pointsToPath(points);\r\n}\r\n\r\n/**\r\n * Create a star shape\r\n */\r\nexport function starPath(\r\n    cx: number,\r\n    cy: number,\r\n    outerRadius: number,\r\n    innerRadius: number,\r\n    points: number = 5,\r\n    rotation: number = -90\r\n): string {\r\n    const pathPoints: Point[] = [];\r\n    const angleStep = Math.PI / points;\r\n    const startAngle = (rotation * Math.PI) / 180;\r\n\r\n    for (let i = 0; i < points * 2; i++) {\r\n        const angle = startAngle + i * angleStep;\r\n        const radius = i % 2 === 0 ? outerRadius : innerRadius;\r\n        pathPoints.push({\r\n            x: cx + radius * Math.cos(angle),\r\n            y: cy + radius * Math.sin(angle),\r\n        });\r\n    }\r\n\r\n    return pointsToPath(pathPoints);\r\n}\r\n\r\n// ============================================\r\n// TRANSFORM UTILITIES\r\n// ============================================\r\n\r\n/**\r\n * Rotate a point around a center\r\n */\r\nexport function rotatePoint(point: Point, center: Point, angleDeg: number): Point {\r\n    const angleRad = (angleDeg * Math.PI) / 180;\r\n    const cos = Math.cos(angleRad);\r\n    const sin = Math.sin(angleRad);\r\n\r\n    const dx = point.x - center.x;\r\n    const dy = point.y - center.y;\r\n\r\n    return {\r\n        x: center.x + dx * cos - dy * sin,\r\n        y: center.y + dx * sin + dy * cos,\r\n    };\r\n}\r\n\r\n/**\r\n * Scale a point from a center\r\n */\r\nexport function scalePoint(point: Point, center: Point, scale: number): Point {\r\n    return {\r\n        x: center.x + (point.x - center.x) * scale,\r\n        y: center.y + (point.y - center.y) * scale,\r\n    };\r\n}\r\n\r\n/**\r\n * Mirror a point across an axis\r\n */\r\nexport function mirrorPoint(\r\n    point: Point,\r\n    axis: 'horizontal' | 'vertical',\r\n    centerLine: number\r\n): Point {\r\n    if (axis === 'horizontal') {\r\n        return { x: point.x, y: 2 * centerLine - point.y };\r\n    }\r\n    return { x: 2 * centerLine - point.x, y: point.y };\r\n}\r\n\r\n/**\r\n * Calculate the center of a set of points\r\n */\r\nexport function centerOfPoints(points: Point[]): Point {\r\n    const sum = points.reduce(\r\n        (acc, p) => ({ x: acc.x + p.x, y: acc.y + p.y }),\r\n        { x: 0, y: 0 }\r\n    );\r\n    return {\r\n        x: sum.x / points.length,\r\n        y: sum.y / points.length,\r\n    };\r\n}\r\n\r\n/**\r\n * Calculate distance between two points\r\n */\r\nexport function distance(p1: Point, p2: Point): number {\r\n    const dx = p2.x - p1.x;\r\n    const dy = p2.y - p1.y;\r\n    return Math.sqrt(dx * dx + dy * dy);\r\n}\r\n\r\n/**\r\n * Interpolate between two points\r\n */\r\nexport function lerp(p1: Point, p2: Point, t: number): Point {\r\n    return {\r\n        x: p1.x + (p2.x - p1.x) * t,\r\n        y: p1.y + (p2.y - p1.y) * t,\r\n    };\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\core\\parametric-engine.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'CANDIDATES_PER_GENERATION' is assigned a value but never used.","line":32,"column":7,"nodeType":null,"messageId":"unusedVar","endLine":32,"endColumn":32},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'rng' is assigned a value but never used.","line":497,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":497,"endColumn":14}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Parametric Engine Core\r\n *\r\n * SHA-256 based uniqueness system with 30+ hash-derived parameters\r\n * Quality scoring for premium logo selection\r\n */\r\n\r\nimport {\r\n    BaseParameters,\r\n    LogoAlgorithm,\r\n    LogoHashRecord,\r\n    LogoCategory,\r\n    HashParams,\r\n    HashDerivedParams,\r\n    QualityMetrics,\r\n    SymmetryType,\r\n    Point,\r\n} from '../types';\r\n\r\n// ============================================\r\n// CONSTANTS\r\n// ============================================\r\n\r\nexport const PHI = 1.618033988749895;\r\nexport const PHI_INVERSE = 0.618033988749895;\r\nexport const SQRT2 = 1.4142135623730951;\r\nexport const SQRT3 = 1.7320508075688772;\r\n\r\nconst STORAGE_KEY = 'premium-logo-engine-hashes';\r\nconst MAX_STORED_HASHES = 1000;\r\nconst MIN_QUALITY_SCORE = 85;\r\nconst CANDIDATES_PER_GENERATION = 5;\r\n\r\n// ============================================\r\n// SHA-256 HASH GENERATION\r\n// ============================================\r\n\r\n/**\r\n * Generate a cryptographic random salt\r\n */\r\nexport function generateSalt(): string {\r\n    const array = new Uint8Array(16);\r\n    if (typeof crypto !== 'undefined' && crypto.getRandomValues) {\r\n        crypto.getRandomValues(array);\r\n    } else {\r\n        // Fallback for SSR\r\n        for (let i = 0; i < 16; i++) {\r\n            array[i] = Math.floor(Math.random() * 256);\r\n        }\r\n    }\r\n    return Array.from(array, b => b.toString(16).padStart(2, '0')).join('');\r\n}\r\n\r\n/**\r\n * Generate SHA-256 hash from input string\r\n * Uses Web Crypto API when available, falls back to pure JS implementation\r\n */\r\nexport async function sha256(message: string): Promise<string> {\r\n    if (typeof crypto !== 'undefined' && crypto.subtle) {\r\n        const msgBuffer = new TextEncoder().encode(message);\r\n        const hashBuffer = await crypto.subtle.digest('SHA-256', msgBuffer);\r\n        const hashArray = Array.from(new Uint8Array(hashBuffer));\r\n        return hashArray.map(b => b.toString(16).padStart(2, '0')).join('');\r\n    }\r\n    // Pure JS fallback for SSR\r\n    return sha256Fallback(message);\r\n}\r\n\r\n/**\r\n * Synchronous SHA-256 fallback for SSR environments\r\n */\r\nfunction sha256Fallback(message: string): string {\r\n    const K = [\r\n        0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5,\r\n        0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174,\r\n        0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc, 0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da,\r\n        0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967,\r\n        0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,\r\n        0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070,\r\n        0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3,\r\n        0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208, 0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2\r\n    ];\r\n\r\n    const rotr = (n: number, x: number) => (x >>> n) | (x << (32 - n));\r\n    const ch = (x: number, y: number, z: number) => (x & y) ^ (~x & z);\r\n    const maj = (x: number, y: number, z: number) => (x & y) ^ (x & z) ^ (y & z);\r\n    const sigma0 = (x: number) => rotr(2, x) ^ rotr(13, x) ^ rotr(22, x);\r\n    const sigma1 = (x: number) => rotr(6, x) ^ rotr(11, x) ^ rotr(25, x);\r\n    const gamma0 = (x: number) => rotr(7, x) ^ rotr(18, x) ^ (x >>> 3);\r\n    const gamma1 = (x: number) => rotr(17, x) ^ rotr(19, x) ^ (x >>> 10);\r\n\r\n    // Pre-processing\r\n    const bytes: number[] = [];\r\n    for (let i = 0; i < message.length; i++) {\r\n        bytes.push(message.charCodeAt(i));\r\n    }\r\n    bytes.push(0x80);\r\n    while ((bytes.length + 8) % 64 !== 0) {\r\n        bytes.push(0);\r\n    }\r\n    const bitLen = message.length * 8;\r\n    for (let i = 7; i >= 0; i--) {\r\n        bytes.push((bitLen / Math.pow(256, i)) & 0xff);\r\n    }\r\n\r\n    // Initialize hash values\r\n    let h0 = 0x6a09e667, h1 = 0xbb67ae85, h2 = 0x3c6ef372, h3 = 0xa54ff53a;\r\n    let h4 = 0x510e527f, h5 = 0x9b05688c, h6 = 0x1f83d9ab, h7 = 0x5be0cd19;\r\n\r\n    // Process each 512-bit chunk\r\n    for (let i = 0; i < bytes.length; i += 64) {\r\n        const w: number[] = new Array(64);\r\n        for (let j = 0; j < 16; j++) {\r\n            w[j] = (bytes[i + j * 4] << 24) | (bytes[i + j * 4 + 1] << 16) |\r\n                   (bytes[i + j * 4 + 2] << 8) | bytes[i + j * 4 + 3];\r\n        }\r\n        for (let j = 16; j < 64; j++) {\r\n            w[j] = (gamma1(w[j - 2]) + w[j - 7] + gamma0(w[j - 15]) + w[j - 16]) >>> 0;\r\n        }\r\n\r\n        let a = h0, b = h1, c = h2, d = h3, e = h4, f = h5, g = h6, h = h7;\r\n\r\n        for (let j = 0; j < 64; j++) {\r\n            const t1 = (h + sigma1(e) + ch(e, f, g) + K[j] + w[j]) >>> 0;\r\n            const t2 = (sigma0(a) + maj(a, b, c)) >>> 0;\r\n            h = g; g = f; f = e; e = (d + t1) >>> 0;\r\n            d = c; c = b; b = a; a = (t1 + t2) >>> 0;\r\n        }\r\n\r\n        h0 = (h0 + a) >>> 0; h1 = (h1 + b) >>> 0; h2 = (h2 + c) >>> 0; h3 = (h3 + d) >>> 0;\r\n        h4 = (h4 + e) >>> 0; h5 = (h5 + f) >>> 0; h6 = (h6 + g) >>> 0; h7 = (h7 + h) >>> 0;\r\n    }\r\n\r\n    const toHex = (n: number) => n.toString(16).padStart(8, '0');\r\n    return toHex(h0) + toHex(h1) + toHex(h2) + toHex(h3) + toHex(h4) + toHex(h5) + toHex(h6) + toHex(h7);\r\n}\r\n\r\n/**\r\n * Generate unique hash parameters for logo generation\r\n */\r\nexport async function generateHashParams(\r\n    brandName: string,\r\n    category: LogoCategory,\r\n    existingSalt?: string\r\n): Promise<HashParams> {\r\n    const timestamp = Date.now();\r\n    const salt = existingSalt || generateSalt();\r\n    const input = `${brandName.toLowerCase().trim()}|${category}|${timestamp}|${salt}`;\r\n    const hashHex = await sha256(input);\r\n\r\n    return {\r\n        brandName: brandName.toLowerCase().trim(),\r\n        category,\r\n        timestamp,\r\n        salt,\r\n        hashHex,\r\n    };\r\n}\r\n\r\n/**\r\n * Synchronous version for SSR compatibility\r\n */\r\nexport function generateHashParamsSync(\r\n    brandName: string,\r\n    category: LogoCategory,\r\n    existingSalt?: string\r\n): HashParams {\r\n    const timestamp = Date.now();\r\n    const salt = existingSalt || generateSalt();\r\n    const input = `${brandName.toLowerCase().trim()}|${category}|${timestamp}|${salt}`;\r\n    const hashHex = sha256Fallback(input);\r\n\r\n    return {\r\n        brandName: brandName.toLowerCase().trim(),\r\n        category,\r\n        timestamp,\r\n        salt,\r\n        hashHex,\r\n    };\r\n}\r\n\r\n// ============================================\r\n// HASH TO PARAMETERS MAPPING\r\n// ============================================\r\n\r\nconst SYMMETRY_TYPES: SymmetryType[] = [\r\n    'none', 'horizontal', 'vertical', 'radial',\r\n    'bilateral', 'rotational-4', 'rotational-6', 'rotational-8'\r\n];\r\n\r\n/**\r\n * Extract a value from hash bits and map to a range\r\n */\r\nfunction extractFromHash(hashHex: string, startBit: number, numBits: number, min: number, max: number): number {\r\n    // Each hex char = 4 bits, so divide by 4 for char position\r\n    const startChar = Math.floor(startBit / 4);\r\n    const charsNeeded = Math.ceil(numBits / 4) + 1;\r\n    const hexSlice = hashHex.slice(startChar, startChar + charsNeeded);\r\n    const value = parseInt(hexSlice, 16) || 0;\r\n    const maxValue = Math.pow(2, numBits) - 1;\r\n    const normalized = (value % (maxValue + 1)) / maxValue;\r\n    return min + normalized * (max - min);\r\n}\r\n\r\n/**\r\n * Derive 30+ parameters from SHA-256 hash\r\n */\r\nexport function deriveParamsFromHash(hashHex: string): HashDerivedParams {\r\n    return {\r\n        // Element counts (bits 0-15)\r\n        elementCount: Math.round(extractFromHash(hashHex, 0, 8, 6, 20)),\r\n        layerCount: Math.round(extractFromHash(hashHex, 8, 8, 1, 5)),\r\n\r\n        // Rotation & angles (bits 16-31)\r\n        rotationOffset: extractFromHash(hashHex, 16, 8, 0, 360),\r\n        angleSpread: extractFromHash(hashHex, 24, 8, 0, 90),\r\n\r\n        // Curve properties (bits 32-47)\r\n        curveTension: extractFromHash(hashHex, 32, 8, 0.3, 0.9),\r\n        curveAmplitude: extractFromHash(hashHex, 40, 8, 0, 50),\r\n\r\n        // Taper & stroke (bits 48-63)\r\n        taperRatio: extractFromHash(hashHex, 48, 8, 0.2, 0.8),\r\n        strokeWidth: extractFromHash(hashHex, 56, 8, 1, 12),\r\n\r\n        // Spacing & scale (bits 64-79)\r\n        spacingFactor: extractFromHash(hashHex, 64, 8, 0.5, 2.0),\r\n        scaleFactor: extractFromHash(hashHex, 72, 8, 0.7, 1.3),\r\n\r\n        // Symmetry & style (bits 80-95)\r\n        symmetryType: SYMMETRY_TYPES[Math.floor(extractFromHash(hashHex, 80, 8, 0, 7.99))],\r\n        styleVariant: Math.floor(extractFromHash(hashHex, 88, 8, 0, 7.99)),\r\n\r\n        // Color placement (bits 96-111)\r\n        colorPlacement: Math.floor(extractFromHash(hashHex, 96, 8, 0, 7.99)),\r\n        gradientAngle: extractFromHash(hashHex, 104, 8, 0, 360),\r\n\r\n        // Organic variation (bits 112-127)\r\n        organicAmount: extractFromHash(hashHex, 112, 8, 0, 1),\r\n        jitterAmount: extractFromHash(hashHex, 120, 8, 0, 10),\r\n\r\n        // Additional params (bits 128-255)\r\n        armWidth: extractFromHash(hashHex, 128, 8, 2, 15),\r\n        armLength: extractFromHash(hashHex, 136, 8, 20, 50),\r\n        centerRadius: extractFromHash(hashHex, 144, 8, 0, 15),\r\n        spiralAmount: extractFromHash(hashHex, 152, 8, 0, 0.5),\r\n        bulgeAmount: extractFromHash(hashHex, 160, 8, 0, 0.5),\r\n        cornerRadius: extractFromHash(hashHex, 168, 8, 0, 30),\r\n        depthOffset: extractFromHash(hashHex, 176, 8, 2, 20),\r\n        perspectiveStrength: extractFromHash(hashHex, 184, 8, 0, 1),\r\n        letterWeight: Math.round(extractFromHash(hashHex, 192, 8, 100, 900)),\r\n        cutDepth: extractFromHash(hashHex, 200, 8, 0, 1),\r\n        overlapAmount: extractFromHash(hashHex, 208, 8, 0.2, 0.8),\r\n        ringThickness: extractFromHash(hashHex, 216, 8, 2, 12),\r\n        flowIntensity: extractFromHash(hashHex, 224, 8, 0, 1),\r\n        extrusionDepth: extractFromHash(hashHex, 232, 8, 5, 25),\r\n    };\r\n}\r\n\r\n// ============================================\r\n// QUALITY SCORING SYSTEM\r\n// ============================================\r\n\r\n/**\r\n * Calculate quality score for a generated logo\r\n */\r\nexport function calculateQualityScore(svgString: string, params: HashDerivedParams): QualityMetrics {\r\n    const pathSmoothness = calculatePathSmoothness(svgString);\r\n    const visualBalance = calculateVisualBalance(svgString);\r\n    const complexity = calculateOptimalComplexity(svgString);\r\n    const goldenRatioAdherence = calculateGoldenRatioScore(params);\r\n    const uniqueness = calculateUniquenessScore(params);\r\n\r\n    // Weighted average for overall score\r\n    const score = Math.round(\r\n        pathSmoothness * 0.2 +\r\n        visualBalance * 0.25 +\r\n        complexity * 0.2 +\r\n        goldenRatioAdherence * 0.15 +\r\n        uniqueness * 0.2\r\n    );\r\n\r\n    return {\r\n        score,\r\n        pathSmoothness,\r\n        visualBalance,\r\n        complexity,\r\n        goldenRatioAdherence,\r\n        uniqueness,\r\n    };\r\n}\r\n\r\n/**\r\n * Measure bezier curve quality and smoothness\r\n */\r\nfunction calculatePathSmoothness(svgString: string): number {\r\n    // Count bezier curve commands (C, Q, S)\r\n    const bezierCount = (svgString.match(/[CQS]\\s*[\\d.-]/gi) || []).length;\r\n    // Count sharp line commands (L)\r\n    const lineCount = (svgString.match(/L\\s*[\\d.-]/gi) || []).length;\r\n\r\n    if (bezierCount + lineCount === 0) return 50;\r\n\r\n    // Higher ratio of beziers = smoother paths\r\n    const bezierRatio = bezierCount / (bezierCount + lineCount);\r\n\r\n    // Score based on bezier ratio (want mostly beziers)\r\n    let score = bezierRatio * 80;\r\n\r\n    // Bonus for having adequate number of curves\r\n    if (bezierCount >= 4 && bezierCount <= 50) {\r\n        score += 20;\r\n    } else if (bezierCount > 50) {\r\n        score += 10; // Still good but maybe too complex\r\n    }\r\n\r\n    return Math.min(100, Math.round(score));\r\n}\r\n\r\n/**\r\n * Calculate visual balance based on path distribution\r\n */\r\nfunction calculateVisualBalance(svgString: string): number {\r\n    // Extract all coordinate pairs\r\n    const coordRegex = /[\\d.-]+[\\s,]+[\\d.-]+/g;\r\n    const coords: Point[] = [];\r\n    let match;\r\n\r\n    while ((match = coordRegex.exec(svgString)) !== null) {\r\n        const parts = match[0].split(/[\\s,]+/).map(Number);\r\n        if (parts.length >= 2 && !isNaN(parts[0]) && !isNaN(parts[1])) {\r\n            coords.push({ x: parts[0], y: parts[1] });\r\n        }\r\n    }\r\n\r\n    if (coords.length < 3) return 70; // Default for simple logos\r\n\r\n    // Calculate centroid\r\n    const centroid = {\r\n        x: coords.reduce((sum, p) => sum + p.x, 0) / coords.length,\r\n        y: coords.reduce((sum, p) => sum + p.y, 0) / coords.length,\r\n    };\r\n\r\n    // Check if centroid is near center (assuming 100x100 viewbox)\r\n    const centerX = 50;\r\n    const centerY = 50;\r\n    const distFromCenter = Math.sqrt(\r\n        Math.pow(centroid.x - centerX, 2) + Math.pow(centroid.y - centerY, 2)\r\n    );\r\n\r\n    // Score based on distance from center (closer = more balanced)\r\n    const maxDist = 35; // Max acceptable distance\r\n    const score = Math.max(0, 100 - (distFromCenter / maxDist) * 50);\r\n\r\n    return Math.round(score);\r\n}\r\n\r\n/**\r\n * Score complexity (not too simple, not too complex)\r\n */\r\nfunction calculateOptimalComplexity(svgString: string): number {\r\n    const pathCommands = (svgString.match(/[MLCQSAZ]/gi) || []).length;\r\n    const pathElements = (svgString.match(/<path/gi) || []).length;\r\n\r\n    // Optimal ranges\r\n    const optimalCommandsMin = 10;\r\n    const optimalCommandsMax = 100;\r\n    const optimalPathsMin = 1;\r\n    const optimalPathsMax = 20;\r\n\r\n    let commandScore = 100;\r\n    if (pathCommands < optimalCommandsMin) {\r\n        commandScore = (pathCommands / optimalCommandsMin) * 80;\r\n    } else if (pathCommands > optimalCommandsMax) {\r\n        commandScore = Math.max(50, 100 - ((pathCommands - optimalCommandsMax) / 50) * 30);\r\n    }\r\n\r\n    let pathScore = 100;\r\n    if (pathElements < optimalPathsMin) {\r\n        pathScore = 60;\r\n    } else if (pathElements > optimalPathsMax) {\r\n        pathScore = Math.max(60, 100 - ((pathElements - optimalPathsMax) / 10) * 20);\r\n    }\r\n\r\n    return Math.round((commandScore + pathScore) / 2);\r\n}\r\n\r\n/**\r\n * Score golden ratio usage in parameters\r\n */\r\nfunction calculateGoldenRatioScore(params: HashDerivedParams): number {\r\n    let score = 70; // Base score\r\n\r\n    // Check if various ratios are close to golden ratio\r\n    const phiRatios = [\r\n        params.taperRatio / 0.618,\r\n        params.scaleFactor / 1.618,\r\n        params.curveTension / 0.618,\r\n    ];\r\n\r\n    for (const ratio of phiRatios) {\r\n        const deviation = Math.abs(ratio - 1);\r\n        if (deviation < 0.1) {\r\n            score += 10; // Close to golden ratio\r\n        } else if (deviation < 0.3) {\r\n            score += 5;\r\n        }\r\n    }\r\n\r\n    return Math.min(100, score);\r\n}\r\n\r\n/**\r\n * Score uniqueness based on parameter diversity\r\n */\r\nfunction calculateUniquenessScore(params: HashDerivedParams): number {\r\n    let score = 80;\r\n\r\n    // Penalize very common/default values\r\n    if (params.elementCount === 8) score -= 5;\r\n    if (Math.abs(params.rotationOffset) < 5 || Math.abs(params.rotationOffset - 360) < 5) score -= 5;\r\n    if (params.curveTension > 0.4 && params.curveTension < 0.6) score -= 3;\r\n\r\n    // Bonus for interesting combinations\r\n    if (params.spiralAmount > 0.2) score += 5;\r\n    if (params.organicAmount > 0.3) score += 5;\r\n\r\n    return Math.min(100, Math.max(60, score));\r\n}\r\n\r\n/**\r\n * Check if a logo meets minimum quality threshold\r\n */\r\nexport function meetsQualityThreshold(quality: QualityMetrics, minScore: number = MIN_QUALITY_SCORE): boolean {\r\n    return quality.score >= minScore;\r\n}\r\n\r\n// ============================================\r\n// SEEDED RANDOM NUMBER GENERATOR\r\n// ============================================\r\n\r\n/**\r\n * Create a seeded PRNG from hash\r\n */\r\nexport function createSeededRandom(seed: string): () => number {\r\n    const seeds = hashStringTo4Seeds(seed);\r\n    let [s0, s1, s2, s3] = seeds;\r\n\r\n    return () => {\r\n        const result = rotl(s1 * 5, 7) * 9;\r\n        const t = s1 << 9;\r\n\r\n        s2 ^= s0;\r\n        s3 ^= s1;\r\n        s1 ^= s2;\r\n        s0 ^= s3;\r\n        s2 ^= t;\r\n        s3 = rotl(s3, 11);\r\n\r\n        return (result >>> 0) / 4294967296;\r\n    };\r\n}\r\n\r\nfunction rotl(x: number, k: number): number {\r\n    return (x << k) | (x >>> (32 - k));\r\n}\r\n\r\nfunction hashStringTo4Seeds(str: string): [number, number, number, number] {\r\n    let h1 = 0x811c9dc5;\r\n    let h2 = 0x01000193;\r\n    let h3 = 0xdeadbeef;\r\n    let h4 = 0xcafebabe;\r\n\r\n    for (let i = 0; i < str.length; i++) {\r\n        const c = str.charCodeAt(i);\r\n        h1 = Math.imul(h1 ^ c, 0x01000193);\r\n        h2 = Math.imul(h2 ^ c, 0x5bd1e995);\r\n        h3 = Math.imul(h3 ^ c, 0x1b873593);\r\n        h4 = Math.imul(h4 ^ c, 0xcc9e2d51);\r\n    }\r\n\r\n    h1 ^= h1 >>> 16;\r\n    h1 = Math.imul(h1, 0x85ebca6b);\r\n    h2 ^= h2 >>> 13;\r\n    h2 = Math.imul(h2, 0xc2b2ae35);\r\n    h3 ^= h3 >>> 16;\r\n    h4 ^= h4 >>> 13;\r\n\r\n    return [h1 >>> 0, h2 >>> 0, h3 >>> 0, h4 >>> 0];\r\n}\r\n\r\n// ============================================\r\n// NOISE & VARIATION FUNCTIONS\r\n// ============================================\r\n\r\nexport function noise2D(x: number, y: number, seed: string): number {\r\n    const rng = createSeededRandom(`${seed}-${Math.floor(x)}-${Math.floor(y)}`);\r\n    const x0 = Math.floor(x);\r\n    const y0 = Math.floor(y);\r\n    const fx = x - x0;\r\n    const fy = y - y0;\r\n\r\n    const sx = fx * fx * (3 - 2 * fx);\r\n    const sy = fy * fy * (3 - 2 * fy);\r\n\r\n    const n00 = dotGridGradient(x0, y0, x, y, seed);\r\n    const n10 = dotGridGradient(x0 + 1, y0, x, y, seed);\r\n    const n01 = dotGridGradient(x0, y0 + 1, x, y, seed);\r\n    const n11 = dotGridGradient(x0 + 1, y0 + 1, x, y, seed);\r\n\r\n    const nx0 = lerp(n00, n10, sx);\r\n    const nx1 = lerp(n01, n11, sx);\r\n\r\n    return lerp(nx0, nx1, sy);\r\n}\r\n\r\nfunction dotGridGradient(ix: number, iy: number, x: number, y: number, seed: string): number {\r\n    const rng = createSeededRandom(`${seed}-grad-${ix}-${iy}`);\r\n    const angle = rng() * Math.PI * 2;\r\n    const gx = Math.cos(angle);\r\n    const gy = Math.sin(angle);\r\n\r\n    const dx = x - ix;\r\n    const dy = y - iy;\r\n\r\n    return dx * gx + dy * gy;\r\n}\r\n\r\nexport function fbm(x: number, y: number, seed: string, octaves: number = 4): number {\r\n    let value = 0;\r\n    let amplitude = 0.5;\r\n    let frequency = 1;\r\n    let maxValue = 0;\r\n\r\n    for (let i = 0; i < octaves; i++) {\r\n        value += amplitude * noise2D(x * frequency, y * frequency, `${seed}-oct${i}`);\r\n        maxValue += amplitude;\r\n        amplitude *= 0.5;\r\n        frequency *= 2;\r\n    }\r\n\r\n    return value / maxValue;\r\n}\r\n\r\nexport function addNoise(\r\n    value: number,\r\n    noiseAmount: number,\r\n    rng: () => number,\r\n    range: number = 1\r\n): number {\r\n    if (noiseAmount <= 0) return value;\r\n    const noise = (rng() - 0.5) * 2 * range * noiseAmount;\r\n    return value + noise;\r\n}\r\n\r\nexport function jitterPoint(point: Point, amount: number, rng: () => number): Point {\r\n    return {\r\n        x: point.x + (rng() - 0.5) * 2 * amount,\r\n        y: point.y + (rng() - 0.5) * 2 * amount,\r\n    };\r\n}\r\n\r\n// ============================================\r\n// HASH STORAGE\r\n// ============================================\r\n\r\nexport function generateLogoHash(\r\n    brandName: string,\r\n    algorithm: LogoAlgorithm,\r\n    variant: number,\r\n    params: Partial<BaseParameters>\r\n): string {\r\n    const hashInput = JSON.stringify({\r\n        brandName: brandName.toLowerCase().trim(),\r\n        algorithm,\r\n        variant,\r\n        params,\r\n        version: 'v5',\r\n    });\r\n\r\n    return cyrb53Hash(hashInput);\r\n}\r\n\r\nfunction cyrb53Hash(str: string, seed: number = 0): string {\r\n    let h1 = 0xdeadbeef ^ seed;\r\n    let h2 = 0x41c6ce57 ^ seed;\r\n\r\n    for (let i = 0; i < str.length; i++) {\r\n        const ch = str.charCodeAt(i);\r\n        h1 = Math.imul(h1 ^ ch, 2654435761);\r\n        h2 = Math.imul(h2 ^ ch, 1597334677);\r\n    }\r\n\r\n    h1 = Math.imul(h1 ^ (h1 >>> 16), 2246822507);\r\n    h1 ^= Math.imul(h2 ^ (h2 >>> 13), 3266489909);\r\n    h2 = Math.imul(h2 ^ (h2 >>> 16), 2246822507);\r\n    h2 ^= Math.imul(h1 ^ (h1 >>> 13), 3266489909);\r\n\r\n    const hash = 4294967296 * (2097151 & h2) + (h1 >>> 0);\r\n    return hash.toString(36);\r\n}\r\n\r\nexport function isHashDuplicate(hash: string): boolean {\r\n    if (typeof window === 'undefined') return false;\r\n\r\n    try {\r\n        const stored = localStorage.getItem(STORAGE_KEY);\r\n        if (!stored) return false;\r\n\r\n        const data = JSON.parse(stored) as { hashes: string[] };\r\n        return data.hashes.includes(hash);\r\n    } catch {\r\n        return false;\r\n    }\r\n}\r\n\r\nexport function storeHash(record: LogoHashRecord): void {\r\n    if (typeof window === 'undefined') return;\r\n\r\n    try {\r\n        const stored = localStorage.getItem(STORAGE_KEY);\r\n        const data = stored\r\n            ? (JSON.parse(stored) as { hashes: string[]; records: LogoHashRecord[] })\r\n            : { hashes: [], records: [] };\r\n\r\n        if (!data.hashes.includes(record.hash)) {\r\n            data.hashes.push(record.hash);\r\n            data.records.push(record);\r\n\r\n            if (data.hashes.length > MAX_STORED_HASHES) {\r\n                const trimCount = data.hashes.length - MAX_STORED_HASHES;\r\n                data.hashes = data.hashes.slice(trimCount);\r\n                data.records = data.records.slice(trimCount);\r\n            }\r\n\r\n            localStorage.setItem(STORAGE_KEY, JSON.stringify(data));\r\n        }\r\n    } catch (e) {\r\n        console.warn('Failed to store logo hash:', e);\r\n    }\r\n}\r\n\r\nexport function getStoredHashesForBrand(brandName: string): LogoHashRecord[] {\r\n    if (typeof window === 'undefined') return [];\r\n\r\n    try {\r\n        const stored = localStorage.getItem(STORAGE_KEY);\r\n        if (!stored) return [];\r\n\r\n        const data = JSON.parse(stored) as { hashes: string[]; records: LogoHashRecord[] };\r\n        return data.records.filter(\r\n            r => r.brandName.toLowerCase() === brandName.toLowerCase()\r\n        );\r\n    } catch {\r\n        return [];\r\n    }\r\n}\r\n\r\nexport function clearStoredHashes(): void {\r\n    if (typeof window === 'undefined') return;\r\n    localStorage.removeItem(STORAGE_KEY);\r\n}\r\n\r\n// ============================================\r\n// PARAMETER GENERATION\r\n// ============================================\r\n\r\nexport function generateBaseParams(rng: () => number): BaseParameters {\r\n    return {\r\n        strokeWidth: 2 + rng() * 4,\r\n        strokeWidthVariance: rng() * 0.3,\r\n        baseAngle: rng() * 360,\r\n        angleVariance: rng() * 30,\r\n        rotationOffset: rng() * 360,\r\n        curveTension: 0.3 + rng() * 0.5,\r\n        curveAmplitude: 5 + rng() * 25,\r\n        curveFrequency: 1 + rng() * 4,\r\n        segmentCount: 3 + Math.floor(rng() * 8),\r\n        segmentSpacing: 5 + rng() * 20,\r\n        segmentLengthRatio: 0.5 + rng() * 0.5,\r\n        horizontalSpacing: 5 + rng() * 20,\r\n        verticalSpacing: 5 + rng() * 20,\r\n        paddingRatio: 0.1 + rng() * 0.15,\r\n        scaleX: 0.8 + rng() * 0.4,\r\n        scaleY: 0.8 + rng() * 0.4,\r\n        sizeVariance: rng() * 0.3,\r\n        cornerRadius: rng() * 20,\r\n        cornerRadiusVariance: rng() * 0.5,\r\n        baseOpacity: 0.7 + rng() * 0.3,\r\n        opacityFalloff: rng() * 0.5,\r\n        layerCount: 1 + Math.floor(rng() * 5),\r\n        noiseAmount: rng() * 0.3,\r\n        noiseFrequency: 0.5 + rng() * 2,\r\n        jitterAmount: rng() * 5,\r\n    };\r\n}\r\n\r\nexport function mergeParams<T extends BaseParameters>(\r\n    defaults: T,\r\n    custom?: Partial<T>\r\n): T {\r\n    if (!custom) return defaults;\r\n    return { ...defaults, ...custom };\r\n}\r\n\r\n// ============================================\r\n// UTILITY FUNCTIONS\r\n// ============================================\r\n\r\nexport function lerp(a: number, b: number, t: number): number {\r\n    return a + (b - a) * t;\r\n}\r\n\r\nexport function clamp(value: number, min: number, max: number): number {\r\n    return Math.max(min, Math.min(max, value));\r\n}\r\n\r\nexport function mapRange(\r\n    value: number,\r\n    inMin: number,\r\n    inMax: number,\r\n    outMin: number,\r\n    outMax: number\r\n): number {\r\n    return ((value - inMin) * (outMax - outMin)) / (inMax - inMin) + outMin;\r\n}\r\n\r\nexport function easeInOutCubic(t: number): number {\r\n    return t < 0.5 ? 4 * t * t * t : 1 - Math.pow(-2 * t + 2, 3) / 2;\r\n}\r\n\r\nexport function easeOutBack(t: number): number {\r\n    const c1 = 1.70158;\r\n    const c3 = c1 + 1;\r\n    return 1 + c3 * Math.pow(t - 1, 3) + c1 * Math.pow(t - 1, 2);\r\n}\r\n\r\nexport function generateLogoId(algorithm: LogoAlgorithm, variant: number): string {\r\n    return `${algorithm}-${variant}-${Date.now().toString(36)}`;\r\n}\r\n\r\nexport function calculateComplexity(pathData: string): number {\r\n    const commands = pathData.match(/[MLCQSAZ]/gi) || [];\r\n    const bezierCount = (pathData.match(/[CQS]/gi) || []).length;\r\n    const totalCommands = commands.length;\r\n\r\n    const baseScore = Math.min(totalCommands / 50, 1);\r\n    const curveBonus = Math.min(bezierCount / 20, 0.3);\r\n\r\n    return Math.min(baseScore + curveBonus, 1);\r\n}\r\n\r\n// ============================================\r\n// BEZIER UTILITIES\r\n// ============================================\r\n\r\n/**\r\n * Create a bezier circle approximation (no primitive circle elements)\r\n */\r\nexport function createBezierCircle(cx: number, cy: number, r: number): string {\r\n    const k = 0.5522847498; // Magic number for circle approximation\r\n    return `\r\n        M ${cx} ${cy - r}\r\n        C ${cx + r * k} ${cy - r}, ${cx + r} ${cy - r * k}, ${cx + r} ${cy}\r\n        C ${cx + r} ${cy + r * k}, ${cx + r * k} ${cy + r}, ${cx} ${cy + r}\r\n        C ${cx - r * k} ${cy + r}, ${cx - r} ${cy + r * k}, ${cx - r} ${cy}\r\n        C ${cx - r} ${cy - r * k}, ${cx - r * k} ${cy - r}, ${cx} ${cy - r}\r\n        Z\r\n    `.replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\n/**\r\n * Create a bezier ellipse approximation\r\n */\r\nexport function createBezierEllipse(cx: number, cy: number, rx: number, ry: number): string {\r\n    const k = 0.5522847498;\r\n    return `\r\n        M ${cx} ${cy - ry}\r\n        C ${cx + rx * k} ${cy - ry}, ${cx + rx} ${cy - ry * k}, ${cx + rx} ${cy}\r\n        C ${cx + rx} ${cy + ry * k}, ${cx + rx * k} ${cy + ry}, ${cx} ${cy + ry}\r\n        C ${cx - rx * k} ${cy + ry}, ${cx - rx} ${cy + ry * k}, ${cx - rx} ${cy}\r\n        C ${cx - rx} ${cy - ry * k}, ${cx - rx * k} ${cy - ry}, ${cx} ${cy - ry}\r\n        Z\r\n    `.replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\n/**\r\n * Create a bezier rounded rectangle\r\n */\r\nexport function createBezierRoundedRect(\r\n    x: number,\r\n    y: number,\r\n    width: number,\r\n    height: number,\r\n    radius: number\r\n): string {\r\n    const r = Math.min(radius, width / 2, height / 2);\r\n    const k = 0.5522847498;\r\n\r\n    if (r <= 0) {\r\n        // Sharp corners - but still use bezier for consistency\r\n        return `\r\n            M ${x} ${y}\r\n            C ${x} ${y}, ${x + width} ${y}, ${x + width} ${y}\r\n            C ${x + width} ${y}, ${x + width} ${y + height}, ${x + width} ${y + height}\r\n            C ${x + width} ${y + height}, ${x} ${y + height}, ${x} ${y + height}\r\n            C ${x} ${y + height}, ${x} ${y}, ${x} ${y}\r\n            Z\r\n        `.replace(/\\s+/g, ' ').trim();\r\n    }\r\n\r\n    return `\r\n        M ${x + r} ${y}\r\n        L ${x + width - r} ${y}\r\n        C ${x + width - r + r * k} ${y}, ${x + width} ${y + r - r * k}, ${x + width} ${y + r}\r\n        L ${x + width} ${y + height - r}\r\n        C ${x + width} ${y + height - r + r * k}, ${x + width - r + r * k} ${y + height}, ${x + width - r} ${y + height}\r\n        L ${x + r} ${y + height}\r\n        C ${x + r - r * k} ${y + height}, ${x} ${y + height - r + r * k}, ${x} ${y + height - r}\r\n        L ${x} ${y + r}\r\n        C ${x} ${y + r - r * k}, ${x + r - r * k} ${y}, ${x + r} ${y}\r\n        Z\r\n    `.replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\n/**\r\n * Create organic curved shape with smooth bezier curves\r\n */\r\nexport function createOrganicShape(\r\n    points: Point[],\r\n    tension: number = 0.5,\r\n    closed: boolean = true\r\n): string {\r\n    if (points.length < 2) return '';\r\n    if (points.length === 2) {\r\n        const [p0, p1] = points;\r\n        return `M ${p0.x} ${p0.y} C ${p0.x} ${p0.y}, ${p1.x} ${p1.y}, ${p1.x} ${p1.y}`;\r\n    }\r\n\r\n    let path = `M ${points[0].x} ${points[0].y}`;\r\n\r\n    for (let i = 0; i < points.length - 1; i++) {\r\n        const p0 = points[i === 0 ? (closed ? points.length - 1 : 0) : i - 1];\r\n        const p1 = points[i];\r\n        const p2 = points[i + 1];\r\n        const p3 = points[i + 2 < points.length ? i + 2 : (closed ? (i + 2) % points.length : points.length - 1)];\r\n\r\n        const cp1x = p1.x + (p2.x - p0.x) * tension / 3;\r\n        const cp1y = p1.y + (p2.y - p0.y) * tension / 3;\r\n        const cp2x = p2.x - (p3.x - p1.x) * tension / 3;\r\n        const cp2y = p2.y - (p3.y - p1.y) * tension / 3;\r\n\r\n        path += ` C ${cp1x.toFixed(2)} ${cp1y.toFixed(2)}, ${cp2x.toFixed(2)} ${cp2y.toFixed(2)}, ${p2.x.toFixed(2)} ${p2.y.toFixed(2)}`;\r\n    }\r\n\r\n    if (closed) {\r\n        const p0 = points[points.length - 2];\r\n        const p1 = points[points.length - 1];\r\n        const p2 = points[0];\r\n        const p3 = points[1];\r\n\r\n        const cp1x = p1.x + (p2.x - p0.x) * tension / 3;\r\n        const cp1y = p1.y + (p2.y - p0.y) * tension / 3;\r\n        const cp2x = p2.x - (p3.x - p1.x) * tension / 3;\r\n        const cp2y = p2.y - (p3.y - p1.y) * tension / 3;\r\n\r\n        path += ` C ${cp1x.toFixed(2)} ${cp1y.toFixed(2)}, ${cp2x.toFixed(2)} ${cp2y.toFixed(2)}, ${p2.x.toFixed(2)} ${p2.y.toFixed(2)}`;\r\n        path += ' Z';\r\n    }\r\n\r\n    return path;\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\core\\svg-builder.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'roundedRectPath' is defined but never used.","line":8,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":25},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":209,"column":48,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":209,"endColumn":51,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6061,6064],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6061,6064],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * SVG Builder - Fluent API for SVG Generation\r\n * \r\n * Provides a clean interface for constructing complex SVG documents\r\n */\r\n\r\nimport { Point, GradientDef, Rectangle, BezierCurve } from '../types';\r\nimport { roundedRectPath, squirclePath, bezierToPath } from './geometry';\r\n\r\n// ============================================\r\n// SVG ELEMENT TYPES\r\n// ============================================\r\n\r\ninterface SVGElement {\r\n    tag: string;\r\n    attrs: Record<string, string | number>;\r\n    children?: (SVGElement | string)[];\r\n}\r\n\r\ninterface DefsElement {\r\n    id: string;\r\n    content: string;\r\n}\r\n\r\n// ============================================\r\n// SVG BUILDER CLASS\r\n// ============================================\r\n\r\nexport class SVGBuilder {\r\n    private elements: SVGElement[] = [];\r\n    private defs: DefsElement[] = [];\r\n    private viewBox: string = '0 0 100 100';\r\n    private width: number = 100;\r\n    private height: number = 100;\r\n\r\n    /**\r\n     * Set the viewBox\r\n     */\r\n    setViewBox(x: number, y: number, width: number, height: number): this {\r\n        this.viewBox = `${x} ${y} ${width} ${height}`;\r\n        this.width = width;\r\n        this.height = height;\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Add a gradient definition\r\n     */\r\n    addGradient(id: string, gradient: GradientDef): this {\r\n        let content: string;\r\n\r\n        if (gradient.type === 'linear') {\r\n            const angle = gradient.angle ?? 0;\r\n            const rad = (angle * Math.PI) / 180;\r\n            const x1 = 50 - 50 * Math.cos(rad);\r\n            const y1 = 50 - 50 * Math.sin(rad);\r\n            const x2 = 50 + 50 * Math.cos(rad);\r\n            const y2 = 50 + 50 * Math.sin(rad);\r\n\r\n            const stops = gradient.stops\r\n                .map(s => `<stop offset=\"${s.offset * 100}%\" stop-color=\"${s.color}\" />`)\r\n                .join('');\r\n\r\n            content = `<linearGradient id=\"${id}\" x1=\"${x1}%\" y1=\"${y1}%\" x2=\"${x2}%\" y2=\"${y2}%\">${stops}</linearGradient>`;\r\n        } else {\r\n            const stops = gradient.stops\r\n                .map(s => `<stop offset=\"${s.offset * 100}%\" stop-color=\"${s.color}\" />`)\r\n                .join('');\r\n\r\n            content = `<radialGradient id=\"${id}\" cx=\"50%\" cy=\"50%\" r=\"50%\">${stops}</radialGradient>`;\r\n        }\r\n\r\n        this.defs.push({ id, content });\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Add a mask definition\r\n     */\r\n    addMask(id: string, content: string): this {\r\n        this.defs.push({ id, content: `<mask id=\"${id}\">${content}</mask>` });\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Add a clip path definition\r\n     */\r\n    addClipPath(id: string, pathD: string): this {\r\n        this.defs.push({ id, content: `<clipPath id=\"${id}\"><path d=\"${pathD}\" /></clipPath>` });\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Add a filter definition\r\n     */\r\n    addFilter(id: string, filterContent: string): this {\r\n        this.defs.push({ id, content: `<filter id=\"${id}\">${filterContent}</filter>` });\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Add a path element\r\n     */\r\n    path(d: string, attrs: Record<string, string | number> = {}): this {\r\n        this.elements.push({\r\n            tag: 'path',\r\n            attrs: { d, ...attrs },\r\n        });\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Add a rectangle element\r\n     */\r\n    rect(rect: Rectangle, attrs: Record<string, string | number> = {}): this {\r\n        this.elements.push({\r\n            tag: 'rect',\r\n            attrs: {\r\n                x: rect.x,\r\n                y: rect.y,\r\n                width: rect.width,\r\n                height: rect.height,\r\n                rx: rect.rx ?? 0,\r\n                ...attrs,\r\n            },\r\n        });\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Add a circle element\r\n     */\r\n    circle(cx: number, cy: number, r: number, attrs: Record<string, string | number> = {}): this {\r\n        this.elements.push({\r\n            tag: 'circle',\r\n            attrs: { cx, cy, r, ...attrs },\r\n        });\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Add an ellipse element\r\n     */\r\n    ellipse(cx: number, cy: number, rx: number, ry: number, attrs: Record<string, string | number> = {}): this {\r\n        this.elements.push({\r\n            tag: 'ellipse',\r\n            attrs: { cx, cy, rx, ry, ...attrs },\r\n        });\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Add a line element\r\n     */\r\n    line(x1: number, y1: number, x2: number, y2: number, attrs: Record<string, string | number> = {}): this {\r\n        this.elements.push({\r\n            tag: 'line',\r\n            attrs: { x1, y1, x2, y2, ...attrs },\r\n        });\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Add a polyline element\r\n     */\r\n    polyline(points: Point[], attrs: Record<string, string | number> = {}): this {\r\n        const pointsStr = points.map(p => `${p.x},${p.y}`).join(' ');\r\n        this.elements.push({\r\n            tag: 'polyline',\r\n            attrs: { points: pointsStr, ...attrs },\r\n        });\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Add a polygon element\r\n     */\r\n    polygon(points: Point[], attrs: Record<string, string | number> = {}): this {\r\n        const pointsStr = points.map(p => `${p.x},${p.y}`).join(' ');\r\n        this.elements.push({\r\n            tag: 'polygon',\r\n            attrs: { points: pointsStr, ...attrs },\r\n        });\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Add a text element\r\n     */\r\n    text(content: string, x: number, y: number, attrs: Record<string, string | number> = {}): this {\r\n        this.elements.push({\r\n            tag: 'text',\r\n            attrs: { x, y, ...attrs },\r\n            children: [content],\r\n        });\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Add a group with transform\r\n     */\r\n    group(transform: string, callback: (builder: SVGBuilder) => void): this {\r\n        const groupBuilder = new SVGBuilder();\r\n        callback(groupBuilder);\r\n\r\n        this.elements.push({\r\n            tag: 'g',\r\n            attrs: { transform },\r\n            children: groupBuilder.elements as any,\r\n        });\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Add a squircle shape\r\n     */\r\n    squircle(cx: number, cy: number, size: number, n: number = 4, attrs: Record<string, string | number> = {}): this {\r\n        const d = squirclePath(cx, cy, size, n);\r\n        return this.path(d, attrs);\r\n    }\r\n\r\n    /**\r\n     * Add a bezier curve\r\n     */\r\n    bezier(curve: BezierCurve, attrs: Record<string, string | number> = {}): this {\r\n        const d = bezierToPath(curve);\r\n        return this.path(d, { fill: 'none', ...attrs });\r\n    }\r\n\r\n    /**\r\n     * Render element to string\r\n     */\r\n    private renderElement(el: SVGElement): string {\r\n        const attrs = Object.entries(el.attrs)\r\n            .map(([k, v]) => `${k}=\"${v}\"`)\r\n            .join(' ');\r\n\r\n        if (el.children && el.children.length > 0) {\r\n            const content = el.children\r\n                .map(c => (typeof c === 'string' ? c : this.renderElement(c)))\r\n                .join('');\r\n            return `<${el.tag} ${attrs}>${content}</${el.tag}>`;\r\n        }\r\n\r\n        return `<${el.tag} ${attrs} />`;\r\n    }\r\n\r\n    /**\r\n     * Build the final SVG string\r\n     */\r\n    build(): string {\r\n        const defsContent = this.defs.length > 0\r\n            ? `<defs>${this.defs.map(d => d.content).join('')}</defs>`\r\n            : '';\r\n\r\n        const elementsContent = this.elements\r\n            .map(el => this.renderElement(el))\r\n            .join('');\r\n\r\n        return `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"${this.viewBox}\">${defsContent}${elementsContent}</svg>`;\r\n    }\r\n\r\n    /**\r\n     * Get current width\r\n     */\r\n    getWidth(): number {\r\n        return this.width;\r\n    }\r\n\r\n    /**\r\n     * Get current height\r\n     */\r\n    getHeight(): number {\r\n        return this.height;\r\n    }\r\n}\r\n\r\n/**\r\n * Create a new SVG builder\r\n */\r\nexport function createSVG(size: number = 100): SVGBuilder {\r\n    return new SVGBuilder().setViewBox(0, 0, size, size);\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\generators\\abstract-mark.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'mixColors' is defined but never used.","line":31,"column":27,"nodeType":null,"messageId":"unusedVar","endLine":31,"endColumn":36}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Abstract Mark Generator (Supabase-style)\r\n *\r\n * Creates abstract angular marks\r\n * Dynamic, sharp geometric shapes\r\n * Uses bezier paths for smooth transitions\r\n */\r\n\r\nimport {\r\n    GeneratedLogo,\r\n    LogoGenerationParams,\r\n    AbstractMarkParams,\r\n    QualityMetrics,\r\n    HashParams,\r\n    Point,\r\n} from '../types';\r\nimport {\r\n    createSeededRandom,\r\n    generateBaseParams,\r\n    generateLogoHash,\r\n    generateLogoId,\r\n    generateHashParamsSync,\r\n    deriveParamsFromHash,\r\n    calculateQualityScore,\r\n    calculateComplexity,\r\n    storeHash,\r\n    addNoise,\r\n    createOrganicShape,\r\n} from '../core/parametric-engine';\r\nimport { createSVG } from '../core/svg-builder';\r\nimport { lighten, darken, mixColors } from '../core/color-utils';\r\n\r\n// ============================================\r\n// PARAMETER GENERATION\r\n// ============================================\r\n\r\nfunction generateAbstractMarkParams(hashParams: HashParams, rng: () => number): AbstractMarkParams {\r\n    const derived = deriveParamsFromHash(hashParams.hashHex);\r\n    const base = generateBaseParams(rng);\r\n\r\n    return {\r\n        ...base,\r\n        angularComplexity: Math.max(3, Math.min(8, Math.round(derived.elementCount / 3) + 2)),\r\n        sharpness: derived.curveTension,\r\n        asymmetryAmount: derived.organicAmount * 0.5,\r\n        innerNegativeSpace: derived.cutDepth > 0.4,\r\n        strokeOnly: derived.styleVariant % 3 === 2,\r\n        dynamicThickness: derived.taperRatio,\r\n        curveTension: 0.2 + derived.curveTension * 0.3, // Keep relatively sharp\r\n    };\r\n}\r\n\r\n// ============================================\r\n// SHAPE GENERATION\r\n// ============================================\r\n\r\n/**\r\n * Generate abstract angular mark points\r\n */\r\nfunction generateAbstractPoints(\r\n    params: AbstractMarkParams,\r\n    cx: number,\r\n    cy: number,\r\n    size: number,\r\n    rng: () => number\r\n): Point[] {\r\n    const points: Point[] = [];\r\n    const pointCount = params.angularComplexity;\r\n    const baseRadius = size * 0.4;\r\n\r\n    for (let i = 0; i < pointCount; i++) {\r\n        const angle = (i / pointCount) * Math.PI * 2 - Math.PI / 2;\r\n\r\n        // Create asymmetric radius variation\r\n        const asymmetry = params.asymmetryAmount > 0\r\n            ? addNoise(0, params.asymmetryAmount, rng, baseRadius * 0.3)\r\n            : 0;\r\n\r\n        // Sharp vs smooth radius variation\r\n        const sharpVariation = Math.abs(Math.sin(angle * 2)) * params.sharpness * baseRadius * 0.4;\r\n\r\n        const r = baseRadius + sharpVariation + asymmetry;\r\n\r\n        points.push({\r\n            x: cx + Math.cos(angle) * r,\r\n            y: cy + Math.sin(angle) * r,\r\n        });\r\n    }\r\n\r\n    return points;\r\n}\r\n\r\n/**\r\n * Create angular mark path with controlled sharpness\r\n */\r\nfunction createAngularPath(\r\n    points: Point[],\r\n    tension: number,\r\n    sharpness: number\r\n): string {\r\n    if (points.length < 3) return '';\r\n\r\n    // Blend between sharp polygon and smooth curves based on sharpness\r\n    const effectiveTension = tension * (1 - sharpness * 0.7);\r\n\r\n    if (sharpness > 0.8) {\r\n        // Very sharp - use straight lines with minimal curves\r\n        return createSharpPolygon(points);\r\n    } else {\r\n        // Mix of curves and angles\r\n        return createOrganicShape(points, effectiveTension, true);\r\n    }\r\n}\r\n\r\n/**\r\n * Create sharp polygon with minimal bezier smoothing\r\n */\r\nfunction createSharpPolygon(points: Point[]): string {\r\n    if (points.length < 3) return '';\r\n\r\n    let path = `M ${points[0].x.toFixed(2)} ${points[0].y.toFixed(2)}`;\r\n\r\n    for (let i = 1; i < points.length; i++) {\r\n        const prev = points[i - 1];\r\n        const curr = points[i];\r\n        const next = points[(i + 1) % points.length];\r\n\r\n        // Small bezier curve at each corner for slight smoothing\r\n        const cornerRadius = 2;\r\n        const dx1 = curr.x - prev.x;\r\n        const dy1 = curr.y - prev.y;\r\n        const dx2 = next.x - curr.x;\r\n        const dy2 = next.y - curr.y;\r\n\r\n        const len1 = Math.sqrt(dx1 * dx1 + dy1 * dy1);\r\n        const len2 = Math.sqrt(dx2 * dx2 + dy2 * dy2);\r\n\r\n        if (len1 > 0 && len2 > 0) {\r\n            const cp1x = curr.x - (dx1 / len1) * cornerRadius;\r\n            const cp1y = curr.y - (dy1 / len1) * cornerRadius;\r\n            const cp2x = curr.x + (dx2 / len2) * cornerRadius;\r\n            const cp2y = curr.y + (dy2 / len2) * cornerRadius;\r\n\r\n            path += ` L ${cp1x.toFixed(2)} ${cp1y.toFixed(2)}`;\r\n            path += ` Q ${curr.x.toFixed(2)} ${curr.y.toFixed(2)}, ${cp2x.toFixed(2)} ${cp2y.toFixed(2)}`;\r\n        } else {\r\n            path += ` L ${curr.x.toFixed(2)} ${curr.y.toFixed(2)}`;\r\n        }\r\n    }\r\n\r\n    // Close to start\r\n    const last = points[points.length - 1];\r\n    const first = points[0];\r\n    const dx = first.x - last.x;\r\n    const dy = first.y - last.y;\r\n    const len = Math.sqrt(dx * dx + dy * dy);\r\n\r\n    if (len > 0) {\r\n        const cornerRadius = 2;\r\n        const cpx = first.x - (dx / len) * cornerRadius;\r\n        const cpy = first.y - (dy / len) * cornerRadius;\r\n        path += ` L ${cpx.toFixed(2)} ${cpy.toFixed(2)}`;\r\n    }\r\n\r\n    path += ' Z';\r\n    return path;\r\n}\r\n\r\n/**\r\n * Create inner cutout for negative space\r\n */\r\nfunction createInnerCutout(\r\n    points: Point[],\r\n    cx: number,\r\n    cy: number,\r\n    scale: number\r\n): Point[] {\r\n    return points.map(p => ({\r\n        x: cx + (p.x - cx) * scale,\r\n        y: cy + (p.y - cy) * scale,\r\n    }));\r\n}\r\n\r\n// ============================================\r\n// MAIN GENERATOR\r\n// ============================================\r\n\r\nfunction generateSingleAbstractMark(\r\n    params: LogoGenerationParams,\r\n    hashParams: HashParams,\r\n    variant: number\r\n): { logo: GeneratedLogo; quality: QualityMetrics } {\r\n    const { brandName, primaryColor, accentColor } = params;\r\n\r\n    const size = 100;\r\n    const cx = size / 2;\r\n    const cy = size / 2;\r\n\r\n    const rng = createSeededRandom(hashParams.hashHex);\r\n    const algoParams = generateAbstractMarkParams(hashParams, rng);\r\n    const svg = createSVG(size);\r\n    const uniqueId = generateLogoId('abstract-mark', variant);\r\n\r\n    // Generate main shape points\r\n    const points = generateAbstractPoints(algoParams, cx, cy, size, rng);\r\n\r\n    // Create gradient\r\n    const gradientId = `${uniqueId}-grad`;\r\n    svg.addGradient(gradientId, {\r\n        type: 'linear',\r\n        angle: 135,\r\n        stops: [\r\n            { offset: 0, color: lighten(primaryColor, 15) },\r\n            { offset: 0.5, color: primaryColor },\r\n            { offset: 1, color: accentColor || darken(primaryColor, 20) },\r\n        ],\r\n    });\r\n\r\n    // Create main path\r\n    const mainPath = createAngularPath(points, algoParams.curveTension, algoParams.sharpness);\r\n\r\n    if (algoParams.strokeOnly) {\r\n        // Stroke-only version\r\n        const strokeWidth = 3 + algoParams.dynamicThickness * 4;\r\n        svg.path(mainPath, {\r\n            fill: 'none',\r\n            stroke: `url(#${gradientId})`,\r\n            'stroke-width': strokeWidth.toString(),\r\n            'stroke-linecap': 'round',\r\n            'stroke-linejoin': 'round',\r\n        });\r\n    } else {\r\n        // Filled version\r\n        svg.path(mainPath, { fill: `url(#${gradientId})` });\r\n\r\n        // Add inner negative space if enabled\r\n        if (algoParams.innerNegativeSpace) {\r\n            const innerPoints = createInnerCutout(points, cx, cy, 0.4);\r\n            const innerPath = createAngularPath(innerPoints, algoParams.curveTension, algoParams.sharpness);\r\n            svg.path(innerPath, { fill: '#ffffff' });\r\n        }\r\n    }\r\n\r\n    const svgString = svg.build();\r\n    const derivedParams = deriveParamsFromHash(hashParams.hashHex);\r\n    const quality = calculateQualityScore(svgString, derivedParams);\r\n    const hash = generateLogoHash(brandName, 'abstract-mark', variant, algoParams);\r\n\r\n    const logo: GeneratedLogo = {\r\n        id: uniqueId,\r\n        hash,\r\n        algorithm: 'abstract-mark',\r\n        variant: variant + 1,\r\n        svg: svgString,\r\n        viewBox: `0 0 ${size} ${size}`,\r\n        params: algoParams,\r\n        quality,\r\n        meta: {\r\n            brandName,\r\n            generatedAt: Date.now(),\r\n            seed: hashParams.hashHex,\r\n            hashParams,\r\n            geometry: {\r\n                usesGoldenRatio: false,\r\n                gridBased: false,\r\n                bezierCurves: true,\r\n                symmetry: algoParams.asymmetryAmount < 0.1 ? 'radial' : 'none',\r\n                pathCount: algoParams.innerNegativeSpace ? 2 : 1,\r\n                complexity: calculateComplexity(svgString),\r\n            },\r\n            colors: {\r\n                primary: primaryColor,\r\n                accent: accentColor,\r\n                palette: [primaryColor, accentColor || darken(primaryColor, 15)],\r\n            },\r\n        },\r\n    };\r\n\r\n    return { logo, quality };\r\n}\r\n\r\nexport function generateAbstractMark(params: LogoGenerationParams): GeneratedLogo[] {\r\n    const { brandName, variations = 3, minQualityScore = 80, category = 'technology' } = params;\r\n\r\n    const logos: GeneratedLogo[] = [];\r\n    const candidatesPerVariation = 5;\r\n\r\n    for (let v = 0; v < variations; v++) {\r\n        let bestCandidate: GeneratedLogo | null = null;\r\n        let bestScore = 0;\r\n\r\n        for (let c = 0; c < candidatesPerVariation; c++) {\r\n            const hashParams = generateHashParamsSync(brandName, category);\r\n            const { logo, quality } = generateSingleAbstractMark(params, hashParams, v);\r\n\r\n            if (quality.score > bestScore) {\r\n                bestScore = quality.score;\r\n                bestCandidate = logo;\r\n            }\r\n\r\n            if (quality.score >= minQualityScore) break;\r\n        }\r\n\r\n        if (bestCandidate) {\r\n            storeHash({\r\n                hash: bestCandidate.hash,\r\n                brandName,\r\n                algorithm: 'abstract-mark',\r\n                variant: v,\r\n                createdAt: Date.now(),\r\n                qualityScore: bestScore,\r\n            });\r\n            logos.push(bestCandidate);\r\n        }\r\n    }\r\n\r\n    return logos;\r\n}\r\n\r\nexport function generateSingleAbstractMarkPreview(\r\n    primaryColor: string,\r\n    accentColor?: string,\r\n    seed: string = 'preview'\r\n): string {\r\n    const hashParams = generateHashParamsSync(seed, 'technology');\r\n    const rng = createSeededRandom(hashParams.hashHex);\r\n    const params = generateAbstractMarkParams(hashParams, rng);\r\n    const size = 100;\r\n    const svg = createSVG(size);\r\n\r\n    const points = generateAbstractPoints(params, size / 2, size / 2, size, rng);\r\n\r\n    svg.addGradient('main', {\r\n        type: 'linear',\r\n        angle: 135,\r\n        stops: [\r\n            { offset: 0, color: primaryColor },\r\n            { offset: 1, color: accentColor || darken(primaryColor, 15) },\r\n        ],\r\n    });\r\n\r\n    svg.path(createAngularPath(points, params.curveTension, params.sharpness), { fill: 'url(#main)' });\r\n\r\n    return svg.build();\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\generators\\arrow-mark.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\generators\\box-logo.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'lighten' is defined but never used.","line":28,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":28,"endColumn":17}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Box Logo Generator (Supreme-style)\r\n *\r\n * Creates bold box/frame logo with text\r\n * Iconic street-style aesthetic\r\n * Inspired by Supreme and bold fashion brands\r\n */\r\n\r\nimport {\r\n    GeneratedLogo,\r\n    LogoGenerationParams,\r\n    BoxLogoParams,\r\n    QualityMetrics,\r\n    HashParams,\r\n} from '../types';\r\nimport {\r\n    createSeededRandom,\r\n    generateBaseParams,\r\n    generateLogoHash,\r\n    generateLogoId,\r\n    generateHashParamsSync,\r\n    deriveParamsFromHash,\r\n    calculateQualityScore,\r\n    calculateComplexity,\r\n    storeHash,\r\n} from '../core/parametric-engine';\r\nimport { createSVG } from '../core/svg-builder';\r\nimport { lighten, darken } from '../core/color-utils';\r\n\r\n// ============================================\r\n// PARAMETER GENERATION\r\n// ============================================\r\n\r\nfunction generateBoxLogoParams(hashParams: HashParams, rng: () => number): BoxLogoParams {\r\n    const derived = deriveParamsFromHash(hashParams.hashHex);\r\n    const base = generateBaseParams(rng);\r\n\r\n    return {\r\n        ...base,\r\n        boxPadding: derived.spacingFactor * 6 + 4,\r\n        cornerRadius: derived.curveTension * 6,\r\n        textWeight: derived.strokeWidth > 0.5 ? 'bold' : 'heavy',\r\n        borderThickness: derived.taperRatio * 3 + 2,\r\n        fillStyle: derived.organicAmount > 0.5 ? 'solid' : 'outline',\r\n        textSize: derived.scaleFactor * 0.2 + 0.7,\r\n        letterSpacing: derived.spacingFactor * 2 + 1,\r\n        shadowDepth: derived.perspectiveStrength * 4,\r\n        doubleBox: derived.layerCount > 2,\r\n        invertColors: derived.colorPlacement > 0.7,\r\n    };\r\n}\r\n\r\n// ============================================\r\n// PATH GENERATION\r\n// ============================================\r\n\r\nfunction generateBoxPath(\r\n    cx: number,\r\n    cy: number,\r\n    width: number,\r\n    height: number,\r\n    cornerRadius: number\r\n): string {\r\n    const left = cx - width / 2;\r\n    const right = cx + width / 2;\r\n    const top = cy - height / 2;\r\n    const bottom = cy + height / 2;\r\n    const r = Math.min(cornerRadius, Math.min(width, height) / 2);\r\n\r\n    if (r <= 0) {\r\n        return `\r\n            M ${left.toFixed(2)} ${top.toFixed(2)}\r\n            L ${right.toFixed(2)} ${top.toFixed(2)}\r\n            L ${right.toFixed(2)} ${bottom.toFixed(2)}\r\n            L ${left.toFixed(2)} ${bottom.toFixed(2)}\r\n            Z\r\n        `.replace(/\\s+/g, ' ').trim();\r\n    }\r\n\r\n    const k = 0.5522847498;\r\n\r\n    return `\r\n        M ${(left + r).toFixed(2)} ${top.toFixed(2)}\r\n        L ${(right - r).toFixed(2)} ${top.toFixed(2)}\r\n        C ${(right - r + r * k).toFixed(2)} ${top.toFixed(2)},\r\n          ${right.toFixed(2)} ${(top + r - r * k).toFixed(2)},\r\n          ${right.toFixed(2)} ${(top + r).toFixed(2)}\r\n        L ${right.toFixed(2)} ${(bottom - r).toFixed(2)}\r\n        C ${right.toFixed(2)} ${(bottom - r + r * k).toFixed(2)},\r\n          ${(right - r + r * k).toFixed(2)} ${bottom.toFixed(2)},\r\n          ${(right - r).toFixed(2)} ${bottom.toFixed(2)}\r\n        L ${(left + r).toFixed(2)} ${bottom.toFixed(2)}\r\n        C ${(left + r - r * k).toFixed(2)} ${bottom.toFixed(2)},\r\n          ${left.toFixed(2)} ${(bottom - r + r * k).toFixed(2)},\r\n          ${left.toFixed(2)} ${(bottom - r).toFixed(2)}\r\n        L ${left.toFixed(2)} ${(top + r).toFixed(2)}\r\n        C ${left.toFixed(2)} ${(top + r - r * k).toFixed(2)},\r\n          ${(left + r - r * k).toFixed(2)} ${top.toFixed(2)},\r\n          ${(left + r).toFixed(2)} ${top.toFixed(2)}\r\n        Z\r\n    `.replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\nfunction generateSimplifiedLetterPath(\r\n    letter: string,\r\n    x: number,\r\n    cy: number,\r\n    size: number\r\n): string {\r\n    const halfSize = size / 2;\r\n    const letterUpper = letter.toUpperCase();\r\n    const y = cy;\r\n\r\n    // Very simplified block letters\r\n    switch (letterUpper) {\r\n        case 'A':\r\n            return `\r\n                M ${(x - halfSize * 0.7).toFixed(2)} ${(y + halfSize).toFixed(2)}\r\n                L ${x.toFixed(2)} ${(y - halfSize).toFixed(2)}\r\n                L ${(x + halfSize * 0.7).toFixed(2)} ${(y + halfSize).toFixed(2)}\r\n                L ${(x + halfSize * 0.4).toFixed(2)} ${(y + halfSize).toFixed(2)}\r\n                L ${(x + halfSize * 0.25).toFixed(2)} ${(y + halfSize * 0.3).toFixed(2)}\r\n                L ${(x - halfSize * 0.25).toFixed(2)} ${(y + halfSize * 0.3).toFixed(2)}\r\n                L ${(x - halfSize * 0.4).toFixed(2)} ${(y + halfSize).toFixed(2)}\r\n                Z\r\n            `.replace(/\\s+/g, ' ').trim();\r\n\r\n        case 'E':\r\n            return `\r\n                M ${(x - halfSize * 0.5).toFixed(2)} ${(y - halfSize).toFixed(2)}\r\n                L ${(x + halfSize * 0.5).toFixed(2)} ${(y - halfSize).toFixed(2)}\r\n                L ${(x + halfSize * 0.5).toFixed(2)} ${(y - halfSize * 0.6).toFixed(2)}\r\n                L ${(x - halfSize * 0.2).toFixed(2)} ${(y - halfSize * 0.6).toFixed(2)}\r\n                L ${(x - halfSize * 0.2).toFixed(2)} ${(y - halfSize * 0.15).toFixed(2)}\r\n                L ${(x + halfSize * 0.3).toFixed(2)} ${(y - halfSize * 0.15).toFixed(2)}\r\n                L ${(x + halfSize * 0.3).toFixed(2)} ${(y + halfSize * 0.15).toFixed(2)}\r\n                L ${(x - halfSize * 0.2).toFixed(2)} ${(y + halfSize * 0.15).toFixed(2)}\r\n                L ${(x - halfSize * 0.2).toFixed(2)} ${(y + halfSize * 0.6).toFixed(2)}\r\n                L ${(x + halfSize * 0.5).toFixed(2)} ${(y + halfSize * 0.6).toFixed(2)}\r\n                L ${(x + halfSize * 0.5).toFixed(2)} ${(y + halfSize).toFixed(2)}\r\n                L ${(x - halfSize * 0.5).toFixed(2)} ${(y + halfSize).toFixed(2)}\r\n                Z\r\n            `.replace(/\\s+/g, ' ').trim();\r\n\r\n        case 'I':\r\n            return `\r\n                M ${(x - halfSize * 0.15).toFixed(2)} ${(y - halfSize).toFixed(2)}\r\n                L ${(x + halfSize * 0.15).toFixed(2)} ${(y - halfSize).toFixed(2)}\r\n                L ${(x + halfSize * 0.15).toFixed(2)} ${(y + halfSize).toFixed(2)}\r\n                L ${(x - halfSize * 0.15).toFixed(2)} ${(y + halfSize).toFixed(2)}\r\n                Z\r\n            `.replace(/\\s+/g, ' ').trim();\r\n\r\n        case 'O':\r\n            const k = 0.5522847498;\r\n            const or = halfSize * 0.8;\r\n            const ir = halfSize * 0.5;\r\n            return `\r\n                M ${x.toFixed(2)} ${(y - or).toFixed(2)}\r\n                C ${(x + or * k).toFixed(2)} ${(y - or).toFixed(2)},\r\n                  ${(x + or).toFixed(2)} ${(y - or * k).toFixed(2)},\r\n                  ${(x + or).toFixed(2)} ${y.toFixed(2)}\r\n                C ${(x + or).toFixed(2)} ${(y + or * k).toFixed(2)},\r\n                  ${(x + or * k).toFixed(2)} ${(y + or).toFixed(2)},\r\n                  ${x.toFixed(2)} ${(y + or).toFixed(2)}\r\n                C ${(x - or * k).toFixed(2)} ${(y + or).toFixed(2)},\r\n                  ${(x - or).toFixed(2)} ${(y + or * k).toFixed(2)},\r\n                  ${(x - or).toFixed(2)} ${y.toFixed(2)}\r\n                C ${(x - or).toFixed(2)} ${(y - or * k).toFixed(2)},\r\n                  ${(x - or * k).toFixed(2)} ${(y - or).toFixed(2)},\r\n                  ${x.toFixed(2)} ${(y - or).toFixed(2)}\r\n                Z\r\n                M ${x.toFixed(2)} ${(y - ir).toFixed(2)}\r\n                C ${(x - ir * k).toFixed(2)} ${(y - ir).toFixed(2)},\r\n                  ${(x - ir).toFixed(2)} ${(y - ir * k).toFixed(2)},\r\n                  ${(x - ir).toFixed(2)} ${y.toFixed(2)}\r\n                C ${(x - ir).toFixed(2)} ${(y + ir * k).toFixed(2)},\r\n                  ${(x - ir * k).toFixed(2)} ${(y + ir).toFixed(2)},\r\n                  ${x.toFixed(2)} ${(y + ir).toFixed(2)}\r\n                C ${(x + ir * k).toFixed(2)} ${(y + ir).toFixed(2)},\r\n                  ${(x + ir).toFixed(2)} ${(y + ir * k).toFixed(2)},\r\n                  ${(x + ir).toFixed(2)} ${y.toFixed(2)}\r\n                C ${(x + ir).toFixed(2)} ${(y - ir * k).toFixed(2)},\r\n                  ${(x + ir * k).toFixed(2)} ${(y - ir).toFixed(2)},\r\n                  ${x.toFixed(2)} ${(y - ir).toFixed(2)}\r\n                Z\r\n            `.replace(/\\s+/g, ' ').trim();\r\n\r\n        default:\r\n            // Default rectangle for unknown\r\n            return `\r\n                M ${(x - halfSize * 0.4).toFixed(2)} ${(y - halfSize).toFixed(2)}\r\n                L ${(x + halfSize * 0.4).toFixed(2)} ${(y - halfSize).toFixed(2)}\r\n                L ${(x + halfSize * 0.4).toFixed(2)} ${(y + halfSize).toFixed(2)}\r\n                L ${(x - halfSize * 0.4).toFixed(2)} ${(y + halfSize).toFixed(2)}\r\n                Z\r\n            `.replace(/\\s+/g, ' ').trim();\r\n    }\r\n}\r\n\r\n// ============================================\r\n// MAIN GENERATOR\r\n// ============================================\r\n\r\nfunction generateSingleBoxLogo(\r\n    params: LogoGenerationParams,\r\n    hashParams: HashParams,\r\n    variant: number\r\n): { logo: GeneratedLogo; quality: QualityMetrics } {\r\n    const { brandName, primaryColor, accentColor } = params;\r\n\r\n    const size = 100;\r\n    const cx = size / 2;\r\n    const cy = size / 2;\r\n\r\n    const rng = createSeededRandom(hashParams.hashHex);\r\n    const algoParams = generateBoxLogoParams(hashParams, rng);\r\n    const svg = createSVG(size);\r\n    const uniqueId = generateLogoId('box-logo', variant);\r\n\r\n    const boxWidth = 70;\r\n    const boxHeight = 30;\r\n    const textSizeValue = typeof algoParams.textSize === 'number' ? algoParams.textSize : 1;\r\n    const textSize = 18 * textSizeValue;\r\n\r\n    const bgColor = algoParams.invertColors ? '#FFFFFF' : primaryColor;\r\n    const fgColor = algoParams.invertColors ? primaryColor : '#FFFFFF';\r\n\r\n    // Shadow\r\n    if (algoParams.shadowDepth > 1) {\r\n        const shadowPath = generateBoxPath(cx + 2, cy + 2, boxWidth, boxHeight, algoParams.cornerRadius);\r\n        svg.path(shadowPath, { fill: darken(primaryColor, 40), fillOpacity: '0.4' });\r\n    }\r\n\r\n    // Double box (outer)\r\n    if (algoParams.doubleBox) {\r\n        const outerPath = generateBoxPath(cx, cy, boxWidth + 6, boxHeight + 6, algoParams.cornerRadius + 2);\r\n        svg.path(outerPath, {\r\n            fill: 'none',\r\n            stroke: bgColor,\r\n            strokeWidth: algoParams.borderThickness.toString(),\r\n        });\r\n    }\r\n\r\n    // Main box\r\n    const boxPath = generateBoxPath(cx, cy, boxWidth, boxHeight, algoParams.cornerRadius);\r\n\r\n    if (algoParams.fillStyle === 'solid') {\r\n        svg.path(boxPath, { fill: bgColor });\r\n    } else {\r\n        svg.path(boxPath, {\r\n            fill: 'none',\r\n            stroke: bgColor,\r\n            strokeWidth: algoParams.borderThickness.toString(),\r\n        });\r\n    }\r\n\r\n    // First letter only (simplified)\r\n    const letter = brandName.charAt(0);\r\n    const letterPath = generateSimplifiedLetterPath(letter, cx, cy, textSize);\r\n    svg.path(letterPath, { fill: algoParams.fillStyle === 'solid' ? fgColor : bgColor });\r\n\r\n    const svgString = svg.build();\r\n    const derivedParams = deriveParamsFromHash(hashParams.hashHex);\r\n    const quality = calculateQualityScore(svgString, derivedParams);\r\n    const hash = generateLogoHash(brandName, 'box-logo', variant, algoParams);\r\n\r\n    const logo: GeneratedLogo = {\r\n        id: uniqueId,\r\n        hash,\r\n        algorithm: 'box-logo',\r\n        variant: variant + 1,\r\n        svg: svgString,\r\n        viewBox: `0 0 ${size} ${size}`,\r\n        params: algoParams,\r\n        quality,\r\n        meta: {\r\n            brandName,\r\n            generatedAt: Date.now(),\r\n            seed: hashParams.hashHex,\r\n            hashParams,\r\n            geometry: {\r\n                usesGoldenRatio: false,\r\n                gridBased: true,\r\n                bezierCurves: algoParams.cornerRadius > 0,\r\n                symmetry: 'vertical',\r\n                pathCount: 2 + (algoParams.doubleBox ? 1 : 0) + (algoParams.shadowDepth > 1 ? 1 : 0),\r\n                complexity: calculateComplexity(svgString),\r\n            },\r\n            colors: {\r\n                primary: primaryColor,\r\n                accent: accentColor,\r\n                palette: [bgColor, fgColor],\r\n            },\r\n        },\r\n    };\r\n\r\n    return { logo, quality };\r\n}\r\n\r\nexport function generateBoxLogo(params: LogoGenerationParams): GeneratedLogo[] {\r\n    const { brandName, variations = 3, minQualityScore = 85, category = 'creative' } = params;\r\n\r\n    const logos: GeneratedLogo[] = [];\r\n    const candidatesPerVariation = 5;\r\n\r\n    for (let v = 0; v < variations; v++) {\r\n        let bestCandidate: GeneratedLogo | null = null;\r\n        let bestScore = 0;\r\n\r\n        for (let c = 0; c < candidatesPerVariation; c++) {\r\n            const hashParams = generateHashParamsSync(brandName, category);\r\n            const { logo, quality } = generateSingleBoxLogo(params, hashParams, v);\r\n\r\n            if (quality.score > bestScore) {\r\n                bestScore = quality.score;\r\n                bestCandidate = logo;\r\n            }\r\n\r\n            if (quality.score >= minQualityScore) break;\r\n        }\r\n\r\n        if (bestCandidate) {\r\n            storeHash({\r\n                hash: bestCandidate.hash,\r\n                brandName,\r\n                algorithm: 'box-logo',\r\n                variant: v,\r\n                createdAt: Date.now(),\r\n                qualityScore: bestScore,\r\n            });\r\n            logos.push(bestCandidate);\r\n        }\r\n    }\r\n\r\n    return logos;\r\n}\r\n\r\nexport function generateSingleBoxLogoPreview(\r\n    primaryColor: string,\r\n    accentColor?: string,\r\n    seed: string = 'preview'\r\n): string {\r\n    const hashParams = generateHashParamsSync(seed, 'creative');\r\n    const rng = createSeededRandom(hashParams.hashHex);\r\n    const params = generateBoxLogoParams(hashParams, rng);\r\n    const size = 100;\r\n    const svg = createSVG(size);\r\n\r\n    const boxPath = generateBoxPath(size / 2, size / 2, 70, 30, params.cornerRadius);\r\n    svg.path(boxPath, { fill: primaryColor });\r\n\r\n    const letterPath = generateSimplifiedLetterPath('B', size / 2, size / 2, 18);\r\n    svg.path(letterPath, { fill: '#FFFFFF' });\r\n\r\n    return svg.build();\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\generators\\circle-overlap.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Point' is defined but never used.","line":15,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":15,"endColumn":10},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'createBezierEllipse' is defined but never used.","line":28,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":28,"endColumn":24},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'withAlpha' is defined but never used.","line":31,"column":38,"nodeType":null,"messageId":"unusedVar","endLine":31,"endColumn":47}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Circle Overlap Generator (Figma-style)\r\n *\r\n * Creates overlapping circles with transparency effects\r\n * Venn diagram aesthetic, blend modes\r\n * Uses bezier circle approximations (no circle primitives)\r\n */\r\n\r\nimport {\r\n    GeneratedLogo,\r\n    LogoGenerationParams,\r\n    CircleOverlapParams,\r\n    QualityMetrics,\r\n    HashParams,\r\n    Point,\r\n} from '../types';\r\nimport {\r\n    createSeededRandom,\r\n    generateBaseParams,\r\n    generateLogoHash,\r\n    generateLogoId,\r\n    generateHashParamsSync,\r\n    deriveParamsFromHash,\r\n    calculateQualityScore,\r\n    calculateComplexity,\r\n    storeHash,\r\n    createBezierCircle,\r\n    createBezierEllipse,\r\n} from '../core/parametric-engine';\r\nimport { createSVG } from '../core/svg-builder';\r\nimport { lighten, darken, mixColors, withAlpha } from '../core/color-utils';\r\n\r\n// ============================================\r\n// PARAMETER GENERATION\r\n// ============================================\r\n\r\nfunction generateCircleOverlapParams(hashParams: HashParams, rng: () => number): CircleOverlapParams {\r\n    const derived = deriveParamsFromHash(hashParams.hashHex);\r\n    const base = generateBaseParams(rng);\r\n\r\n    const arrangements: Array<'horizontal' | 'vertical' | 'diagonal' | 'cluster'> =\r\n        ['horizontal', 'vertical', 'diagonal', 'cluster'];\r\n\r\n    return {\r\n        ...base,\r\n        circleCount: Math.max(2, Math.min(5, Math.round(derived.elementCount / 4) + 1)),\r\n        circleSize: Math.max(20, Math.min(40, 30 + derived.scaleFactor * 5)),\r\n        overlapAmount: Math.max(0.2, Math.min(0.6, derived.overlapAmount)),\r\n        arrangementType: arrangements[derived.styleVariant % 4],\r\n        opacityVariation: derived.organicAmount * 0.5,\r\n        sizeVariation: derived.jitterAmount / 30,\r\n    };\r\n}\r\n\r\n// ============================================\r\n// CIRCLE ARRANGEMENT\r\n// ============================================\r\n\r\n/**\r\n * Calculate circle positions based on arrangement type\r\n */\r\nfunction calculateCirclePositions(\r\n    params: CircleOverlapParams,\r\n    viewSize: number\r\n): Array<{ cx: number; cy: number; r: number }> {\r\n    const { circleCount, circleSize, overlapAmount, arrangementType, sizeVariation } = params;\r\n    const baseRadius = (circleSize / 100) * viewSize * 0.5;\r\n    const center = viewSize / 2;\r\n    const circles: Array<{ cx: number; cy: number; r: number }> = [];\r\n\r\n    switch (arrangementType) {\r\n        case 'horizontal': {\r\n            const spacing = baseRadius * 2 * (1 - overlapAmount);\r\n            const totalWidth = spacing * (circleCount - 1);\r\n            const startX = center - totalWidth / 2;\r\n\r\n            for (let i = 0; i < circleCount; i++) {\r\n                const sizeVar = 1 + (i % 2 === 0 ? sizeVariation : -sizeVariation);\r\n                circles.push({\r\n                    cx: startX + i * spacing,\r\n                    cy: center,\r\n                    r: baseRadius * sizeVar,\r\n                });\r\n            }\r\n            break;\r\n        }\r\n\r\n        case 'vertical': {\r\n            const spacing = baseRadius * 2 * (1 - overlapAmount);\r\n            const totalHeight = spacing * (circleCount - 1);\r\n            const startY = center - totalHeight / 2;\r\n\r\n            for (let i = 0; i < circleCount; i++) {\r\n                const sizeVar = 1 + (i % 2 === 0 ? sizeVariation : -sizeVariation);\r\n                circles.push({\r\n                    cx: center,\r\n                    cy: startY + i * spacing,\r\n                    r: baseRadius * sizeVar,\r\n                });\r\n            }\r\n            break;\r\n        }\r\n\r\n        case 'diagonal': {\r\n            const spacing = baseRadius * 2 * (1 - overlapAmount) * 0.7;\r\n            const totalSpan = spacing * (circleCount - 1);\r\n            const startX = center - totalSpan / 2;\r\n            const startY = center - totalSpan / 2;\r\n\r\n            for (let i = 0; i < circleCount; i++) {\r\n                const sizeVar = 1 + (i % 2 === 0 ? sizeVariation : -sizeVariation);\r\n                circles.push({\r\n                    cx: startX + i * spacing,\r\n                    cy: startY + i * spacing,\r\n                    r: baseRadius * sizeVar,\r\n                });\r\n            }\r\n            break;\r\n        }\r\n\r\n        case 'cluster': {\r\n            // Arrange in a circular pattern\r\n            const clusterRadius = baseRadius * (1 - overlapAmount) * 1.2;\r\n\r\n            for (let i = 0; i < circleCount; i++) {\r\n                const angle = (i / circleCount) * Math.PI * 2 - Math.PI / 2;\r\n                const sizeVar = 1 + (i % 2 === 0 ? sizeVariation : -sizeVariation);\r\n                circles.push({\r\n                    cx: center + Math.cos(angle) * clusterRadius,\r\n                    cy: center + Math.sin(angle) * clusterRadius,\r\n                    r: baseRadius * sizeVar,\r\n                });\r\n            }\r\n            break;\r\n        }\r\n    }\r\n\r\n    return circles;\r\n}\r\n\r\n// ============================================\r\n// MAIN GENERATOR\r\n// ============================================\r\n\r\nfunction generateSingleCircleOverlap(\r\n    params: LogoGenerationParams,\r\n    hashParams: HashParams,\r\n    variant: number\r\n): { logo: GeneratedLogo; quality: QualityMetrics } {\r\n    const { brandName, primaryColor, accentColor } = params;\r\n\r\n    const size = 100;\r\n    const rng = createSeededRandom(hashParams.hashHex);\r\n    const algoParams = generateCircleOverlapParams(hashParams, rng);\r\n    const svg = createSVG(size);\r\n    const uniqueId = generateLogoId('circle-overlap', variant);\r\n\r\n    // Calculate circle positions\r\n    const circles = calculateCirclePositions(algoParams, size);\r\n\r\n    // Define colors for each circle with transparency\r\n    const colors = [\r\n        primaryColor,\r\n        accentColor || mixColors(primaryColor, '#ffffff', 0.3),\r\n        mixColors(primaryColor, accentColor || primaryColor, 0.5),\r\n        darken(primaryColor, 10),\r\n        lighten(primaryColor, 20),\r\n    ];\r\n\r\n    // Render circles with bezier paths and transparency\r\n    circles.forEach((circle, i) => {\r\n        const circleGradId = `${uniqueId}-circle-${i}`;\r\n        const color = colors[i % colors.length];\r\n        const baseOpacity = 0.7 - algoParams.opacityVariation * (i / circles.length);\r\n\r\n        // Create radial gradient for depth\r\n        svg.addGradient(circleGradId, {\r\n            type: 'radial',\r\n            stops: [\r\n                { offset: 0, color: lighten(color, 15), opacity: baseOpacity + 0.1 },\r\n                { offset: 0.7, color: color, opacity: baseOpacity },\r\n                { offset: 1, color: darken(color, 10), opacity: baseOpacity - 0.1 },\r\n            ],\r\n        });\r\n\r\n        // Create bezier circle path\r\n        const circlePath = createBezierCircle(circle.cx, circle.cy, circle.r);\r\n\r\n        svg.path(circlePath, {\r\n            fill: `url(#${circleGradId})`,\r\n            opacity: baseOpacity.toString(),\r\n        });\r\n    });\r\n\r\n    const svgString = svg.build();\r\n    const derivedParams = deriveParamsFromHash(hashParams.hashHex);\r\n    const quality = calculateQualityScore(svgString, derivedParams);\r\n    const hash = generateLogoHash(brandName, 'circle-overlap', variant, algoParams);\r\n\r\n    const logo: GeneratedLogo = {\r\n        id: uniqueId,\r\n        hash,\r\n        algorithm: 'circle-overlap',\r\n        variant: variant + 1,\r\n        svg: svgString,\r\n        viewBox: `0 0 ${size} ${size}`,\r\n        params: algoParams,\r\n        quality,\r\n        meta: {\r\n            brandName,\r\n            generatedAt: Date.now(),\r\n            seed: hashParams.hashHex,\r\n            hashParams,\r\n            geometry: {\r\n                usesGoldenRatio: false,\r\n                gridBased: false,\r\n                bezierCurves: true,\r\n                symmetry: algoParams.arrangementType === 'cluster' ? 'radial' : 'none',\r\n                pathCount: algoParams.circleCount,\r\n                complexity: calculateComplexity(svgString),\r\n            },\r\n            colors: {\r\n                primary: primaryColor,\r\n                accent: accentColor,\r\n                palette: colors.slice(0, algoParams.circleCount),\r\n            },\r\n        },\r\n    };\r\n\r\n    return { logo, quality };\r\n}\r\n\r\nexport function generateCircleOverlap(params: LogoGenerationParams): GeneratedLogo[] {\r\n    const { brandName, variations = 3, minQualityScore = 80, category = 'creative' } = params;\r\n\r\n    const logos: GeneratedLogo[] = [];\r\n    const candidatesPerVariation = 5;\r\n\r\n    for (let v = 0; v < variations; v++) {\r\n        let bestCandidate: GeneratedLogo | null = null;\r\n        let bestScore = 0;\r\n\r\n        for (let c = 0; c < candidatesPerVariation; c++) {\r\n            const hashParams = generateHashParamsSync(brandName, category);\r\n            const { logo, quality } = generateSingleCircleOverlap(params, hashParams, v);\r\n\r\n            if (quality.score > bestScore) {\r\n                bestScore = quality.score;\r\n                bestCandidate = logo;\r\n            }\r\n\r\n            if (quality.score >= minQualityScore) break;\r\n        }\r\n\r\n        if (bestCandidate) {\r\n            storeHash({\r\n                hash: bestCandidate.hash,\r\n                brandName,\r\n                algorithm: 'circle-overlap',\r\n                variant: v,\r\n                createdAt: Date.now(),\r\n                qualityScore: bestScore,\r\n            });\r\n            logos.push(bestCandidate);\r\n        }\r\n    }\r\n\r\n    return logos;\r\n}\r\n\r\nexport function generateSingleCircleOverlapPreview(\r\n    primaryColor: string,\r\n    accentColor?: string,\r\n    seed: string = 'preview'\r\n): string {\r\n    const hashParams = generateHashParamsSync(seed, 'creative');\r\n    const rng = createSeededRandom(hashParams.hashHex);\r\n    const params = generateCircleOverlapParams(hashParams, rng);\r\n    const size = 100;\r\n    const svg = createSVG(size);\r\n\r\n    const circles = calculateCirclePositions(params, size);\r\n    const colors = [primaryColor, accentColor || mixColors(primaryColor, '#ffffff', 0.3)];\r\n\r\n    circles.forEach((circle, i) => {\r\n        svg.addGradient(`circle-${i}`, {\r\n            type: 'radial',\r\n            stops: [\r\n                { offset: 0, color: lighten(colors[i % colors.length], 10) },\r\n                { offset: 1, color: colors[i % colors.length] },\r\n            ],\r\n        });\r\n\r\n        svg.path(createBezierCircle(circle.cx, circle.cy, circle.r), {\r\n            fill: `url(#circle-${i})`,\r\n            opacity: '0.75',\r\n        });\r\n    });\r\n\r\n    return svg.build();\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\generators\\circular-emblem.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'letterUpper' is assigned a value but never used.","line":163,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":163,"endColumn":22},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'params' is assigned a value but never used.","line":399,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":399,"endColumn":17}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Circular Emblem Generator (Starbucks-style)\r\n *\r\n * Creates circular emblem/seal designs\r\n * Badge and seal aesthetic\r\n * Inspired by Starbucks and vintage emblem brands\r\n */\r\n\r\nimport {\r\n    GeneratedLogo,\r\n    LogoGenerationParams,\r\n    CircularEmblemParams,\r\n    QualityMetrics,\r\n    HashParams,\r\n} from '../types';\r\nimport {\r\n    createSeededRandom,\r\n    generateBaseParams,\r\n    generateLogoHash,\r\n    generateLogoId,\r\n    generateHashParamsSync,\r\n    deriveParamsFromHash,\r\n    calculateQualityScore,\r\n    calculateComplexity,\r\n    storeHash,\r\n} from '../core/parametric-engine';\r\nimport { createSVG } from '../core/svg-builder';\r\nimport { lighten, darken } from '../core/color-utils';\r\n\r\n// ============================================\r\n// PARAMETER GENERATION\r\n// ============================================\r\n\r\nfunction generateCircularEmblemParams(hashParams: HashParams, rng: () => number): CircularEmblemParams {\r\n    const derived = deriveParamsFromHash(hashParams.hashHex);\r\n    const base = generateBaseParams(rng);\r\n\r\n    const innerSymbols: Array<'star' | 'crown' | 'shield' | 'letter'> = ['star', 'crown', 'shield', 'letter'];\r\n    const seals: Array<'none' | 'simple' | 'ornate'> = ['none', 'simple', 'ornate'];\r\n\r\n    return {\r\n        ...base,\r\n        ringCount: Math.max(1, Math.min(3, Math.floor(derived.layerCount * 0.5 + 1))),\r\n        innerSymbol: innerSymbols[Math.floor(derived.styleVariant % 4)],\r\n        textCurve: derived.curveTension * 0.5 + 0.5,\r\n        sealStyle: seals[Math.floor(derived.colorPlacement % 3)],\r\n        starCount: Math.floor(derived.elementCount * 0.5 + 3),\r\n        borderWidth: derived.strokeWidth * 2 + 2,\r\n        innerRadius: derived.centerRadius * 0.3 + 0.3,\r\n        decorativeElements: derived.organicAmount > 0.5,\r\n        vintageStyle: derived.perspectiveStrength > 0.5,\r\n        doubleBorder: derived.taperRatio > 0.6,\r\n    };\r\n}\r\n\r\n// ============================================\r\n// PATH GENERATION\r\n// ============================================\r\n\r\nfunction generateCirclePath(\r\n    cx: number,\r\n    cy: number,\r\n    radius: number\r\n): string {\r\n    const k = 0.5522847498;\r\n    return `\r\n        M ${cx.toFixed(2)} ${(cy - radius).toFixed(2)}\r\n        C ${(cx + radius * k).toFixed(2)} ${(cy - radius).toFixed(2)},\r\n          ${(cx + radius).toFixed(2)} ${(cy - radius * k).toFixed(2)},\r\n          ${(cx + radius).toFixed(2)} ${cy.toFixed(2)}\r\n        C ${(cx + radius).toFixed(2)} ${(cy + radius * k).toFixed(2)},\r\n          ${(cx + radius * k).toFixed(2)} ${(cy + radius).toFixed(2)},\r\n          ${cx.toFixed(2)} ${(cy + radius).toFixed(2)}\r\n        C ${(cx - radius * k).toFixed(2)} ${(cy + radius).toFixed(2)},\r\n          ${(cx - radius).toFixed(2)} ${(cy + radius * k).toFixed(2)},\r\n          ${(cx - radius).toFixed(2)} ${cy.toFixed(2)}\r\n        C ${(cx - radius).toFixed(2)} ${(cy - radius * k).toFixed(2)},\r\n          ${(cx - radius * k).toFixed(2)} ${(cy - radius).toFixed(2)},\r\n          ${cx.toFixed(2)} ${(cy - radius).toFixed(2)}\r\n        Z\r\n    `.replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\nfunction generateStarPath(\r\n    cx: number,\r\n    cy: number,\r\n    outerRadius: number,\r\n    innerRadius: number,\r\n    points: number\r\n): string {\r\n    let path = '';\r\n\r\n    for (let i = 0; i < points * 2; i++) {\r\n        const angle = (i * Math.PI) / points - Math.PI / 2;\r\n        const r = i % 2 === 0 ? outerRadius : innerRadius;\r\n        const x = cx + Math.cos(angle) * r;\r\n        const y = cy + Math.sin(angle) * r;\r\n\r\n        path += i === 0 ? `M ${x.toFixed(2)} ${y.toFixed(2)}` : ` L ${x.toFixed(2)} ${y.toFixed(2)}`;\r\n    }\r\n\r\n    return path + ' Z';\r\n}\r\n\r\nfunction generateCrownPath(\r\n    cx: number,\r\n    cy: number,\r\n    size: number\r\n): string {\r\n    const halfSize = size / 2;\r\n    const points = 5;\r\n    const baseY = cy + halfSize * 0.3;\r\n    const topY = cy - halfSize * 0.5;\r\n\r\n    let path = `M ${(cx - halfSize).toFixed(2)} ${baseY.toFixed(2)}`;\r\n\r\n    for (let i = 0; i < points; i++) {\r\n        const x = cx - halfSize + (i * size) / (points - 1);\r\n        const peakY = topY - (i === Math.floor(points / 2) ? halfSize * 0.2 : 0);\r\n        const valleyY = baseY - halfSize * 0.3;\r\n\r\n        if (i > 0) {\r\n            path += ` L ${(x - size / (points - 1) / 2).toFixed(2)} ${valleyY.toFixed(2)}`;\r\n        }\r\n        path += ` L ${x.toFixed(2)} ${peakY.toFixed(2)}`;\r\n    }\r\n\r\n    path += ` L ${(cx + halfSize).toFixed(2)} ${baseY.toFixed(2)} Z`;\r\n\r\n    return path;\r\n}\r\n\r\nfunction generateShieldPath(\r\n    cx: number,\r\n    cy: number,\r\n    size: number\r\n): string {\r\n    const halfW = size * 0.4;\r\n    const halfH = size * 0.5;\r\n\r\n    return `\r\n        M ${(cx - halfW).toFixed(2)} ${(cy - halfH).toFixed(2)}\r\n        L ${(cx + halfW).toFixed(2)} ${(cy - halfH).toFixed(2)}\r\n        L ${(cx + halfW).toFixed(2)} ${cy.toFixed(2)}\r\n        C ${(cx + halfW).toFixed(2)} ${(cy + halfH * 0.5).toFixed(2)},\r\n          ${(cx + halfW * 0.3).toFixed(2)} ${(cy + halfH).toFixed(2)},\r\n          ${cx.toFixed(2)} ${(cy + halfH * 1.1).toFixed(2)}\r\n        C ${(cx - halfW * 0.3).toFixed(2)} ${(cy + halfH).toFixed(2)},\r\n          ${(cx - halfW).toFixed(2)} ${(cy + halfH * 0.5).toFixed(2)},\r\n          ${(cx - halfW).toFixed(2)} ${cy.toFixed(2)}\r\n        Z\r\n    `.replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\nfunction generateLetterPath(\r\n    letter: string,\r\n    cx: number,\r\n    cy: number,\r\n    size: number\r\n): string {\r\n    // Simplified first letter\r\n    const halfSize = size / 2;\r\n    const letterUpper = letter.toUpperCase();\r\n\r\n    // Default circular letter marker\r\n    const k = 0.5522847498;\r\n    return `\r\n        M ${cx.toFixed(2)} ${(cy - halfSize).toFixed(2)}\r\n        C ${(cx + halfSize * k).toFixed(2)} ${(cy - halfSize).toFixed(2)},\r\n          ${(cx + halfSize).toFixed(2)} ${(cy - halfSize * k).toFixed(2)},\r\n          ${(cx + halfSize).toFixed(2)} ${cy.toFixed(2)}\r\n        C ${(cx + halfSize).toFixed(2)} ${(cy + halfSize * k).toFixed(2)},\r\n          ${(cx + halfSize * k).toFixed(2)} ${(cy + halfSize).toFixed(2)},\r\n          ${cx.toFixed(2)} ${(cy + halfSize).toFixed(2)}\r\n        C ${(cx - halfSize * k).toFixed(2)} ${(cy + halfSize).toFixed(2)},\r\n          ${(cx - halfSize).toFixed(2)} ${(cy + halfSize * k).toFixed(2)},\r\n          ${(cx - halfSize).toFixed(2)} ${cy.toFixed(2)}\r\n        C ${(cx - halfSize).toFixed(2)} ${(cy - halfSize * k).toFixed(2)},\r\n          ${(cx - halfSize * k).toFixed(2)} ${(cy - halfSize).toFixed(2)},\r\n          ${cx.toFixed(2)} ${(cy - halfSize).toFixed(2)}\r\n        Z\r\n    `.replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\nfunction generateDecorativeDotsPath(\r\n    cx: number,\r\n    cy: number,\r\n    radius: number,\r\n    count: number\r\n): string[] {\r\n    const paths: string[] = [];\r\n    const dotRadius = 1.5;\r\n\r\n    for (let i = 0; i < count; i++) {\r\n        const angle = (i / count) * Math.PI * 2 - Math.PI / 2;\r\n        const x = cx + Math.cos(angle) * radius;\r\n        const y = cy + Math.sin(angle) * radius;\r\n\r\n        const k = 0.5522847498;\r\n        paths.push(`\r\n            M ${x.toFixed(2)} ${(y - dotRadius).toFixed(2)}\r\n            C ${(x + dotRadius * k).toFixed(2)} ${(y - dotRadius).toFixed(2)},\r\n              ${(x + dotRadius).toFixed(2)} ${(y - dotRadius * k).toFixed(2)},\r\n              ${(x + dotRadius).toFixed(2)} ${y.toFixed(2)}\r\n            C ${(x + dotRadius).toFixed(2)} ${(y + dotRadius * k).toFixed(2)},\r\n              ${(x + dotRadius * k).toFixed(2)} ${(y + dotRadius).toFixed(2)},\r\n              ${x.toFixed(2)} ${(y + dotRadius).toFixed(2)}\r\n            C ${(x - dotRadius * k).toFixed(2)} ${(y + dotRadius).toFixed(2)},\r\n              ${(x - dotRadius).toFixed(2)} ${(y + dotRadius * k).toFixed(2)},\r\n              ${(x - dotRadius).toFixed(2)} ${y.toFixed(2)}\r\n            C ${(x - dotRadius).toFixed(2)} ${(y - dotRadius * k).toFixed(2)},\r\n              ${(x - dotRadius * k).toFixed(2)} ${(y - dotRadius).toFixed(2)},\r\n              ${x.toFixed(2)} ${(y - dotRadius).toFixed(2)}\r\n            Z\r\n        `.replace(/\\s+/g, ' ').trim());\r\n    }\r\n\r\n    return paths;\r\n}\r\n\r\n// ============================================\r\n// MAIN GENERATOR\r\n// ============================================\r\n\r\nfunction generateSingleCircularEmblem(\r\n    params: LogoGenerationParams,\r\n    hashParams: HashParams,\r\n    variant: number\r\n): { logo: GeneratedLogo; quality: QualityMetrics } {\r\n    const { brandName, primaryColor, accentColor } = params;\r\n\r\n    const size = 100;\r\n    const cx = size / 2;\r\n    const cy = size / 2;\r\n\r\n    const rng = createSeededRandom(hashParams.hashHex);\r\n    const algoParams = generateCircularEmblemParams(hashParams, rng);\r\n    const svg = createSVG(size);\r\n    const uniqueId = generateLogoId('circular-emblem', variant);\r\n\r\n    const outerRadius = 42;\r\n    const innerRadiusRatio = algoParams.innerRadius;\r\n\r\n    // Main fill gradient\r\n    const gradientId = `${uniqueId}-grad`;\r\n    svg.addGradient(gradientId, {\r\n        type: 'radial',\r\n        stops: [\r\n            { offset: 0, color: lighten(primaryColor, 10) },\r\n            { offset: 0.7, color: primaryColor },\r\n            { offset: 1, color: darken(primaryColor, 15) },\r\n        ],\r\n    });\r\n\r\n    // Outer circle fill\r\n    const outerPath = generateCirclePath(cx, cy, outerRadius);\r\n    svg.path(outerPath, { fill: `url(#${gradientId})` });\r\n\r\n    // Ring borders\r\n    for (let r = 0; r < algoParams.ringCount; r++) {\r\n        const ringRadius = outerRadius - r * 5 - 3;\r\n        const ringPath = generateCirclePath(cx, cy, ringRadius);\r\n        svg.path(ringPath, {\r\n            fill: 'none',\r\n            stroke: r === 0 ? (accentColor || lighten(primaryColor, 30)) : lighten(primaryColor, 20),\r\n            strokeWidth: (algoParams.borderWidth - r).toString(),\r\n        });\r\n    }\r\n\r\n    // Inner circle background\r\n    const innerRadius = outerRadius * innerRadiusRatio;\r\n    const innerBgPath = generateCirclePath(cx, cy, innerRadius);\r\n    svg.path(innerBgPath, { fill: darken(primaryColor, 20) });\r\n\r\n    // Inner symbol\r\n    const symbolSize = innerRadius * 1.2;\r\n    let symbolPath = '';\r\n\r\n    switch (algoParams.innerSymbol) {\r\n        case 'star':\r\n            symbolPath = generateStarPath(cx, cy, symbolSize * 0.5, symbolSize * 0.2, algoParams.starCount);\r\n            break;\r\n        case 'crown':\r\n            symbolPath = generateCrownPath(cx, cy, symbolSize);\r\n            break;\r\n        case 'shield':\r\n            symbolPath = generateShieldPath(cx, cy, symbolSize);\r\n            break;\r\n        case 'letter':\r\n            symbolPath = generateLetterPath(brandName.charAt(0), cx, cy, symbolSize * 0.4);\r\n            break;\r\n    }\r\n\r\n    if (symbolPath) {\r\n        svg.path(symbolPath, { fill: accentColor || lighten(primaryColor, 40) });\r\n    }\r\n\r\n    // Decorative dots\r\n    if (algoParams.decorativeElements) {\r\n        const dotPaths = generateDecorativeDotsPath(cx, cy, outerRadius - 8, 12);\r\n        dotPaths.forEach(dotPath => {\r\n            svg.path(dotPath, { fill: accentColor || lighten(primaryColor, 35) });\r\n        });\r\n    }\r\n\r\n    // Double border effect\r\n    if (algoParams.doubleBorder) {\r\n        const doublePath = generateCirclePath(cx, cy, outerRadius + 2);\r\n        svg.path(doublePath, {\r\n            fill: 'none',\r\n            stroke: darken(primaryColor, 20),\r\n            strokeWidth: '1.5',\r\n        });\r\n    }\r\n\r\n    const svgString = svg.build();\r\n    const derivedParams = deriveParamsFromHash(hashParams.hashHex);\r\n    const quality = calculateQualityScore(svgString, derivedParams);\r\n    const hash = generateLogoHash(brandName, 'circular-emblem', variant, algoParams);\r\n\r\n    const logo: GeneratedLogo = {\r\n        id: uniqueId,\r\n        hash,\r\n        algorithm: 'circular-emblem',\r\n        variant: variant + 1,\r\n        svg: svgString,\r\n        viewBox: `0 0 ${size} ${size}`,\r\n        params: algoParams,\r\n        quality,\r\n        meta: {\r\n            brandName,\r\n            generatedAt: Date.now(),\r\n            seed: hashParams.hashHex,\r\n            hashParams,\r\n            geometry: {\r\n                usesGoldenRatio: false,\r\n                gridBased: false,\r\n                bezierCurves: true,\r\n                symmetry: 'rotational',\r\n                pathCount: 3 + algoParams.ringCount + (algoParams.decorativeElements ? 12 : 0),\r\n                complexity: calculateComplexity(svgString),\r\n            },\r\n            colors: {\r\n                primary: primaryColor,\r\n                accent: accentColor,\r\n                palette: [primaryColor, accentColor || lighten(primaryColor, 35)],\r\n            },\r\n        },\r\n    };\r\n\r\n    return { logo, quality };\r\n}\r\n\r\nexport function generateCircularEmblem(params: LogoGenerationParams): GeneratedLogo[] {\r\n    const { brandName, variations = 3, minQualityScore = 85, category = 'creative' } = params;\r\n\r\n    const logos: GeneratedLogo[] = [];\r\n    const candidatesPerVariation = 5;\r\n\r\n    for (let v = 0; v < variations; v++) {\r\n        let bestCandidate: GeneratedLogo | null = null;\r\n        let bestScore = 0;\r\n\r\n        for (let c = 0; c < candidatesPerVariation; c++) {\r\n            const hashParams = generateHashParamsSync(brandName, category);\r\n            const { logo, quality } = generateSingleCircularEmblem(params, hashParams, v);\r\n\r\n            if (quality.score > bestScore) {\r\n                bestScore = quality.score;\r\n                bestCandidate = logo;\r\n            }\r\n\r\n            if (quality.score >= minQualityScore) break;\r\n        }\r\n\r\n        if (bestCandidate) {\r\n            storeHash({\r\n                hash: bestCandidate.hash,\r\n                brandName,\r\n                algorithm: 'circular-emblem',\r\n                variant: v,\r\n                createdAt: Date.now(),\r\n                qualityScore: bestScore,\r\n            });\r\n            logos.push(bestCandidate);\r\n        }\r\n    }\r\n\r\n    return logos;\r\n}\r\n\r\nexport function generateSingleCircularEmblemPreview(\r\n    primaryColor: string,\r\n    accentColor?: string,\r\n    seed: string = 'preview'\r\n): string {\r\n    const hashParams = generateHashParamsSync(seed, 'creative');\r\n    const rng = createSeededRandom(hashParams.hashHex);\r\n    const params = generateCircularEmblemParams(hashParams, rng);\r\n    const size = 100;\r\n    const svg = createSVG(size);\r\n\r\n    svg.addGradient('main', {\r\n        type: 'radial',\r\n        stops: [\r\n            { offset: 0, color: lighten(primaryColor, 5) },\r\n            { offset: 1, color: darken(primaryColor, 10) },\r\n        ],\r\n    });\r\n\r\n    const outerPath = generateCirclePath(size / 2, size / 2, 42);\r\n    svg.path(outerPath, { fill: 'url(#main)' });\r\n\r\n    const ringPath = generateCirclePath(size / 2, size / 2, 39);\r\n    svg.path(ringPath, { fill: 'none', stroke: accentColor || lighten(primaryColor, 30), strokeWidth: '2' });\r\n\r\n    return svg.build();\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\generators\\cloud-soft.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\generators\\crown-mark.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'crownWidth' is assigned a value but never used.","line":65,"column":61,"nodeType":null,"messageId":"unusedVar","endLine":65,"endColumn":71}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Crown Mark Generator (Premium/Luxury-style)\r\n *\r\n * Creates regal crown shapes with jewel details\r\n * Classic to modern interpretations\r\n * Inspired by premium and luxury brands\r\n */\r\n\r\nimport {\r\n    GeneratedLogo,\r\n    LogoGenerationParams,\r\n    CrownMarkParams,\r\n    QualityMetrics,\r\n    HashParams,\r\n} from '../types';\r\nimport {\r\n    createSeededRandom,\r\n    generateBaseParams,\r\n    generateLogoHash,\r\n    generateLogoId,\r\n    generateHashParamsSync,\r\n    deriveParamsFromHash,\r\n    calculateQualityScore,\r\n    calculateComplexity,\r\n    storeHash,\r\n} from '../core/parametric-engine';\r\nimport { createSVG } from '../core/svg-builder';\r\nimport { lighten, darken } from '../core/color-utils';\r\n\r\n// ============================================\r\n// PARAMETER GENERATION\r\n// ============================================\r\n\r\nfunction generateCrownMarkParams(hashParams: HashParams, rng: () => number): CrownMarkParams {\r\n    const derived = deriveParamsFromHash(hashParams.hashHex);\r\n    const base = generateBaseParams(rng);\r\n\r\n    const jewels: Array<'none' | 'circles' | 'diamonds' | 'mixed'> = ['none', 'circles', 'diamonds', 'mixed'];\r\n\r\n    return {\r\n        ...base,\r\n        pointCount: Math.max(3, Math.min(7, Math.floor(derived.elementCount * 0.4 + 3))),\r\n        jewelStyle: jewels[Math.floor(derived.styleVariant % 4)],\r\n        baseWidth: derived.scaleFactor * 0.4 + 0.6,\r\n        archHeight: derived.curveTension * 20 + 10,\r\n        pointHeight: derived.armLength * 0.5 + 15,\r\n        baseDecoration: derived.layerCount > 2,\r\n        crownWidth: derived.taperRatio * 0.3 + 0.7,\r\n        rimThickness: derived.strokeWidth * 0.3 + 3,\r\n        crossOnCenter: derived.organicAmount > 0.6,\r\n        velvetFill: derived.perspectiveStrength > 0.5,\r\n    };\r\n}\r\n\r\n// ============================================\r\n// PATH GENERATION\r\n// ============================================\r\n\r\nfunction generateCrownPath(\r\n    params: CrownMarkParams,\r\n    cx: number,\r\n    cy: number,\r\n    scale: number = 1\r\n): string {\r\n    const { pointCount, baseWidth, archHeight, pointHeight, crownWidth } = params;\r\n\r\n    const width = 42 * scale * baseWidth;\r\n    const height = 36 * scale;\r\n\r\n    const left = cx - width / 2;\r\n    const right = cx + width / 2;\r\n    const baseY = cy + height * 0.3;\r\n    const topY = cy - height * 0.4;\r\n\r\n    // Generate crown points\r\n    const points: { x: number; y: number }[] = [];\r\n    const pointSpacing = width / (pointCount - 1);\r\n\r\n    for (let i = 0; i < pointCount; i++) {\r\n        const x = left + i * pointSpacing;\r\n        const isCenter = i === Math.floor(pointCount / 2);\r\n        const heightMod = isCenter ? 1.15 : 1;\r\n        points.push({ x, y: topY - pointHeight * heightMod * scale });\r\n    }\r\n\r\n    // Build crown path with bezier curves\r\n    let path = `M ${left.toFixed(2)} ${baseY.toFixed(2)}`;\r\n\r\n    // Left side up\r\n    path += ` C ${(left - 2 * scale).toFixed(2)} ${(baseY - height * 0.2).toFixed(2)},`;\r\n    path += ` ${(left - 1 * scale).toFixed(2)} ${(topY + archHeight).toFixed(2)},`;\r\n    path += ` ${points[0].x.toFixed(2)} ${points[0].y.toFixed(2)}`;\r\n\r\n    // Crown points with arches\r\n    for (let i = 0; i < pointCount - 1; i++) {\r\n        const curr = points[i];\r\n        const next = points[i + 1];\r\n        const midX = (curr.x + next.x) / 2;\r\n        const archY = topY + archHeight * scale;\r\n\r\n        path += ` C ${curr.x.toFixed(2)} ${(curr.y + archHeight * 0.3).toFixed(2)},`;\r\n        path += ` ${midX.toFixed(2)} ${archY.toFixed(2)},`;\r\n        path += ` ${midX.toFixed(2)} ${archY.toFixed(2)}`;\r\n        path += ` C ${midX.toFixed(2)} ${archY.toFixed(2)},`;\r\n        path += ` ${next.x.toFixed(2)} ${(next.y + archHeight * 0.3).toFixed(2)},`;\r\n        path += ` ${next.x.toFixed(2)} ${next.y.toFixed(2)}`;\r\n    }\r\n\r\n    // Right side down\r\n    path += ` C ${(right + 1 * scale).toFixed(2)} ${(topY + archHeight).toFixed(2)},`;\r\n    path += ` ${(right + 2 * scale).toFixed(2)} ${(baseY - height * 0.2).toFixed(2)},`;\r\n    path += ` ${right.toFixed(2)} ${baseY.toFixed(2)}`;\r\n\r\n    // Base\r\n    path += ` L ${left.toFixed(2)} ${baseY.toFixed(2)} Z`;\r\n\r\n    return path;\r\n}\r\n\r\nfunction generateJewelPath(\r\n    params: CrownMarkParams,\r\n    cx: number,\r\n    cy: number,\r\n    size: number = 3\r\n): string {\r\n    const { jewelStyle } = params;\r\n\r\n    if (jewelStyle === 'diamonds') {\r\n        return `\r\n            M ${cx.toFixed(2)} ${(cy - size).toFixed(2)}\r\n            L ${(cx + size).toFixed(2)} ${cy.toFixed(2)}\r\n            L ${cx.toFixed(2)} ${(cy + size).toFixed(2)}\r\n            L ${(cx - size).toFixed(2)} ${cy.toFixed(2)}\r\n            Z\r\n        `.replace(/\\s+/g, ' ').trim();\r\n    }\r\n\r\n    // Circle (bezier approximation)\r\n    const k = 0.5522847498;\r\n    return `\r\n        M ${cx.toFixed(2)} ${(cy - size).toFixed(2)}\r\n        C ${(cx + size * k).toFixed(2)} ${(cy - size).toFixed(2)},\r\n          ${(cx + size).toFixed(2)} ${(cy - size * k).toFixed(2)},\r\n          ${(cx + size).toFixed(2)} ${cy.toFixed(2)}\r\n        C ${(cx + size).toFixed(2)} ${(cy + size * k).toFixed(2)},\r\n          ${(cx + size * k).toFixed(2)} ${(cy + size).toFixed(2)},\r\n          ${cx.toFixed(2)} ${(cy + size).toFixed(2)}\r\n        C ${(cx - size * k).toFixed(2)} ${(cy + size).toFixed(2)},\r\n          ${(cx - size).toFixed(2)} ${(cy + size * k).toFixed(2)},\r\n          ${(cx - size).toFixed(2)} ${cy.toFixed(2)}\r\n        C ${(cx - size).toFixed(2)} ${(cy - size * k).toFixed(2)},\r\n          ${(cx - size * k).toFixed(2)} ${(cy - size).toFixed(2)},\r\n          ${cx.toFixed(2)} ${(cy - size).toFixed(2)}\r\n        Z\r\n    `.replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\n// ============================================\r\n// MAIN GENERATOR\r\n// ============================================\r\n\r\nfunction generateSingleCrownMark(\r\n    params: LogoGenerationParams,\r\n    hashParams: HashParams,\r\n    variant: number\r\n): { logo: GeneratedLogo; quality: QualityMetrics } {\r\n    const { brandName, primaryColor, accentColor } = params;\r\n\r\n    const size = 100;\r\n    const cx = size / 2;\r\n    const cy = size / 2;\r\n\r\n    const rng = createSeededRandom(hashParams.hashHex);\r\n    const algoParams = generateCrownMarkParams(hashParams, rng);\r\n    const svg = createSVG(size);\r\n    const uniqueId = generateLogoId('crown-mark', variant);\r\n\r\n    // Main gradient\r\n    const gradientId = `${uniqueId}-grad`;\r\n    svg.addGradient(gradientId, {\r\n        type: 'linear',\r\n        angle: 180,\r\n        stops: [\r\n            { offset: 0, color: lighten(primaryColor, 20) },\r\n            { offset: 0.5, color: primaryColor },\r\n            { offset: 1, color: darken(primaryColor, 15) },\r\n        ],\r\n    });\r\n\r\n    // Crown body\r\n    const crownPath = generateCrownPath(algoParams, cx, cy);\r\n    svg.path(crownPath, { fill: `url(#${gradientId})` });\r\n\r\n    // Jewels on points\r\n    if (algoParams.jewelStyle !== 'none') {\r\n        const { pointCount, baseWidth, pointHeight } = algoParams;\r\n        const width = 42 * baseWidth;\r\n        const left = cx - width / 2;\r\n        const pointSpacing = width / (pointCount - 1);\r\n\r\n        for (let i = 0; i < pointCount; i++) {\r\n            const x = left + i * pointSpacing;\r\n            const isCenter = i === Math.floor(pointCount / 2);\r\n            const jewelY = cy - 18 - pointHeight * (isCenter ? 1.1 : 0.95) + 5;\r\n            const jewelPath = generateJewelPath(algoParams, x, jewelY, isCenter ? 3.5 : 2.5);\r\n            svg.path(jewelPath, { fill: accentColor || lighten(primaryColor, 40) });\r\n        }\r\n    }\r\n\r\n    // Base rim\r\n    if (algoParams.rimThickness > 2) {\r\n        const rimPath = `\r\n            M ${(cx - 21 * algoParams.baseWidth).toFixed(2)} ${(cy + 11).toFixed(2)}\r\n            L ${(cx + 21 * algoParams.baseWidth).toFixed(2)} ${(cy + 11).toFixed(2)}\r\n            L ${(cx + 21 * algoParams.baseWidth).toFixed(2)} ${(cy + 11 + algoParams.rimThickness).toFixed(2)}\r\n            L ${(cx - 21 * algoParams.baseWidth).toFixed(2)} ${(cy + 11 + algoParams.rimThickness).toFixed(2)}\r\n            Z\r\n        `.replace(/\\s+/g, ' ').trim();\r\n        svg.path(rimPath, { fill: darken(primaryColor, 20) });\r\n    }\r\n\r\n    const svgString = svg.build();\r\n    const derivedParams = deriveParamsFromHash(hashParams.hashHex);\r\n    const quality = calculateQualityScore(svgString, derivedParams);\r\n    const hash = generateLogoHash(brandName, 'crown-mark', variant, algoParams);\r\n\r\n    const logo: GeneratedLogo = {\r\n        id: uniqueId,\r\n        hash,\r\n        algorithm: 'crown-mark',\r\n        variant: variant + 1,\r\n        svg: svgString,\r\n        viewBox: `0 0 ${size} ${size}`,\r\n        params: algoParams,\r\n        quality,\r\n        meta: {\r\n            brandName,\r\n            generatedAt: Date.now(),\r\n            seed: hashParams.hashHex,\r\n            hashParams,\r\n            geometry: {\r\n                usesGoldenRatio: false,\r\n                gridBased: false,\r\n                bezierCurves: true,\r\n                symmetry: 'vertical',\r\n                pathCount: algoParams.jewelStyle !== 'none' ? 2 + algoParams.pointCount : 2,\r\n                complexity: calculateComplexity(svgString),\r\n            },\r\n            colors: {\r\n                primary: primaryColor,\r\n                accent: accentColor,\r\n                palette: [primaryColor, accentColor || darken(primaryColor, 15)],\r\n            },\r\n        },\r\n    };\r\n\r\n    return { logo, quality };\r\n}\r\n\r\nexport function generateCrownMark(params: LogoGenerationParams): GeneratedLogo[] {\r\n    const { brandName, variations = 3, minQualityScore = 85, category = 'creative' } = params;\r\n\r\n    const logos: GeneratedLogo[] = [];\r\n    const candidatesPerVariation = 5;\r\n\r\n    for (let v = 0; v < variations; v++) {\r\n        let bestCandidate: GeneratedLogo | null = null;\r\n        let bestScore = 0;\r\n\r\n        for (let c = 0; c < candidatesPerVariation; c++) {\r\n            const hashParams = generateHashParamsSync(brandName, category);\r\n            const { logo, quality } = generateSingleCrownMark(params, hashParams, v);\r\n\r\n            if (quality.score > bestScore) {\r\n                bestScore = quality.score;\r\n                bestCandidate = logo;\r\n            }\r\n\r\n            if (quality.score >= minQualityScore) break;\r\n        }\r\n\r\n        if (bestCandidate) {\r\n            storeHash({\r\n                hash: bestCandidate.hash,\r\n                brandName,\r\n                algorithm: 'crown-mark',\r\n                variant: v,\r\n                createdAt: Date.now(),\r\n                qualityScore: bestScore,\r\n            });\r\n            logos.push(bestCandidate);\r\n        }\r\n    }\r\n\r\n    return logos;\r\n}\r\n\r\nexport function generateSingleCrownMarkPreview(\r\n    primaryColor: string,\r\n    accentColor?: string,\r\n    seed: string = 'preview'\r\n): string {\r\n    const hashParams = generateHashParamsSync(seed, 'creative');\r\n    const rng = createSeededRandom(hashParams.hashHex);\r\n    const params = generateCrownMarkParams(hashParams, rng);\r\n    const size = 100;\r\n    const svg = createSVG(size);\r\n\r\n    svg.addGradient('main', {\r\n        type: 'linear',\r\n        angle: 180,\r\n        stops: [\r\n            { offset: 0, color: lighten(primaryColor, 15) },\r\n            { offset: 1, color: darken(primaryColor, 10) },\r\n        ],\r\n    });\r\n\r\n    const path = generateCrownPath(params, size / 2, size / 2);\r\n    svg.path(path, { fill: 'url(#main)' });\r\n\r\n    return svg.build();\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\generators\\depth-geometry.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\generators\\diamond-gem.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'pavilionAngle' is assigned a value but never used.","line":65,"column":52,"nodeType":null,"messageId":"unusedVar","endLine":65,"endColumn":65},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'innerR' is assigned a value but never used.","line":200,"column":19,"nodeType":null,"messageId":"unusedVar","endLine":200,"endColumn":25}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Diamond Gem Generator (Luxury/Premium-style)\r\n *\r\n * Creates faceted diamond/gem shapes\r\n * Brilliant cut with light reflections\r\n * Inspired by luxury and jewelry brands\r\n */\r\n\r\nimport {\r\n    GeneratedLogo,\r\n    LogoGenerationParams,\r\n    DiamondGemParams,\r\n    QualityMetrics,\r\n    HashParams,\r\n} from '../types';\r\nimport {\r\n    createSeededRandom,\r\n    generateBaseParams,\r\n    generateLogoHash,\r\n    generateLogoId,\r\n    generateHashParamsSync,\r\n    deriveParamsFromHash,\r\n    calculateQualityScore,\r\n    calculateComplexity,\r\n    storeHash,\r\n} from '../core/parametric-engine';\r\nimport { createSVG } from '../core/svg-builder';\r\nimport { lighten, darken } from '../core/color-utils';\r\n\r\n// ============================================\r\n// PARAMETER GENERATION\r\n// ============================================\r\n\r\nfunction generateDiamondGemParams(hashParams: HashParams, rng: () => number): DiamondGemParams {\r\n    const derived = deriveParamsFromHash(hashParams.hashHex);\r\n    const base = generateBaseParams(rng);\r\n\r\n    const cuts: Array<'brilliant' | 'princess' | 'emerald' | 'oval'> = ['brilliant', 'princess', 'emerald', 'oval'];\r\n\r\n    return {\r\n        ...base,\r\n        facetCount: Math.max(6, Math.min(12, Math.floor(derived.elementCount * 0.6 + 6))),\r\n        brillianceCut: cuts[Math.floor(derived.styleVariant % 4)],\r\n        tableSize: derived.taperRatio * 0.3 + 0.3,\r\n        pavilionAngle: derived.curveTension * 20 + 35,\r\n        crownHeight: derived.perspectiveStrength * 0.2 + 0.15,\r\n        sparkleCount: Math.floor(derived.colorPlacement * 4),\r\n        facetDepth: derived.organicAmount * 0.3 + 0.2,\r\n        girdle: derived.strokeWidth * 0.02 + 0.02,\r\n        symmetryPerfection: derived.bulgeAmount * 0.2 + 0.8,\r\n        lightDirection: derived.rotationOffset,\r\n    };\r\n}\r\n\r\n// ============================================\r\n// PATH GENERATION\r\n// ============================================\r\n\r\nfunction generateDiamondPath(\r\n    params: DiamondGemParams,\r\n    cx: number,\r\n    cy: number,\r\n    scale: number = 1\r\n): { outline: string; facets: string[] } {\r\n    const { brillianceCut, tableSize, crownHeight, pavilionAngle } = params;\r\n\r\n    const width = 40 * scale;\r\n    const height = 48 * scale;\r\n\r\n    // Key points\r\n    const tableWidth = width * tableSize;\r\n    const crownY = cy - height * 0.3;\r\n    const tableY = cy - height * 0.3 + height * crownHeight;\r\n    const girdleY = cy + height * 0.05;\r\n    const pavilionY = cy + height * 0.5;\r\n\r\n    const left = cx - width / 2;\r\n    const right = cx + width / 2;\r\n    const tableLeft = cx - tableWidth / 2;\r\n    const tableRight = cx + tableWidth / 2;\r\n\r\n    let outline = '';\r\n    const facets: string[] = [];\r\n\r\n    if (brillianceCut === 'brilliant' || brillianceCut === 'princess') {\r\n        // Brilliant/Princess cut outline\r\n        outline = `\r\n            M ${cx.toFixed(2)} ${crownY.toFixed(2)}\r\n            L ${tableLeft.toFixed(2)} ${tableY.toFixed(2)}\r\n            L ${left.toFixed(2)} ${girdleY.toFixed(2)}\r\n            L ${cx.toFixed(2)} ${pavilionY.toFixed(2)}\r\n            L ${right.toFixed(2)} ${girdleY.toFixed(2)}\r\n            L ${tableRight.toFixed(2)} ${tableY.toFixed(2)}\r\n            Z\r\n        `.replace(/\\s+/g, ' ').trim();\r\n\r\n        // Crown facets\r\n        facets.push(`\r\n            M ${cx.toFixed(2)} ${crownY.toFixed(2)}\r\n            L ${tableLeft.toFixed(2)} ${tableY.toFixed(2)}\r\n            L ${cx.toFixed(2)} ${tableY.toFixed(2)}\r\n            Z\r\n        `.replace(/\\s+/g, ' ').trim());\r\n\r\n        facets.push(`\r\n            M ${cx.toFixed(2)} ${crownY.toFixed(2)}\r\n            L ${tableRight.toFixed(2)} ${tableY.toFixed(2)}\r\n            L ${cx.toFixed(2)} ${tableY.toFixed(2)}\r\n            Z\r\n        `.replace(/\\s+/g, ' ').trim());\r\n\r\n        // Side crown facets\r\n        facets.push(`\r\n            M ${tableLeft.toFixed(2)} ${tableY.toFixed(2)}\r\n            L ${left.toFixed(2)} ${girdleY.toFixed(2)}\r\n            L ${(left + width * 0.15).toFixed(2)} ${(tableY + (girdleY - tableY) * 0.5).toFixed(2)}\r\n            Z\r\n        `.replace(/\\s+/g, ' ').trim());\r\n\r\n        facets.push(`\r\n            M ${tableRight.toFixed(2)} ${tableY.toFixed(2)}\r\n            L ${right.toFixed(2)} ${girdleY.toFixed(2)}\r\n            L ${(right - width * 0.15).toFixed(2)} ${(tableY + (girdleY - tableY) * 0.5).toFixed(2)}\r\n            Z\r\n        `.replace(/\\s+/g, ' ').trim());\r\n\r\n        // Pavilion facets\r\n        facets.push(`\r\n            M ${left.toFixed(2)} ${girdleY.toFixed(2)}\r\n            L ${cx.toFixed(2)} ${pavilionY.toFixed(2)}\r\n            L ${(cx - width * 0.2).toFixed(2)} ${girdleY.toFixed(2)}\r\n            Z\r\n        `.replace(/\\s+/g, ' ').trim());\r\n\r\n        facets.push(`\r\n            M ${right.toFixed(2)} ${girdleY.toFixed(2)}\r\n            L ${cx.toFixed(2)} ${pavilionY.toFixed(2)}\r\n            L ${(cx + width * 0.2).toFixed(2)} ${girdleY.toFixed(2)}\r\n            Z\r\n        `.replace(/\\s+/g, ' ').trim());\r\n\r\n    } else if (brillianceCut === 'emerald') {\r\n        // Emerald cut (rectangular with cut corners)\r\n        const cornerCut = width * 0.15;\r\n        outline = `\r\n            M ${(left + cornerCut).toFixed(2)} ${crownY.toFixed(2)}\r\n            L ${(right - cornerCut).toFixed(2)} ${crownY.toFixed(2)}\r\n            L ${right.toFixed(2)} ${(crownY + cornerCut).toFixed(2)}\r\n            L ${right.toFixed(2)} ${(pavilionY - cornerCut).toFixed(2)}\r\n            L ${(right - cornerCut).toFixed(2)} ${pavilionY.toFixed(2)}\r\n            L ${(left + cornerCut).toFixed(2)} ${pavilionY.toFixed(2)}\r\n            L ${left.toFixed(2)} ${(pavilionY - cornerCut).toFixed(2)}\r\n            L ${left.toFixed(2)} ${(crownY + cornerCut).toFixed(2)}\r\n            Z\r\n        `.replace(/\\s+/g, ' ').trim();\r\n\r\n        // Step facets\r\n        const stepSize = (pavilionY - crownY) * 0.25;\r\n        for (let i = 1; i <= 3; i++) {\r\n            const inset = i * 3;\r\n            const y1 = crownY + stepSize * i;\r\n            const y2 = pavilionY - stepSize * (4 - i);\r\n            facets.push(`\r\n                M ${(left + inset).toFixed(2)} ${y1.toFixed(2)}\r\n                L ${(right - inset).toFixed(2)} ${y1.toFixed(2)}\r\n                L ${(right - inset).toFixed(2)} ${y2.toFixed(2)}\r\n                L ${(left + inset).toFixed(2)} ${y2.toFixed(2)}\r\n                Z\r\n            `.replace(/\\s+/g, ' ').trim());\r\n        }\r\n\r\n    } else {\r\n        // Oval cut\r\n        const k = 0.5522847498;\r\n        const ovalWidth = width / 2;\r\n        const ovalHeight = height / 2;\r\n\r\n        outline = `\r\n            M ${cx.toFixed(2)} ${(cy - ovalHeight).toFixed(2)}\r\n            C ${(cx + ovalWidth * k).toFixed(2)} ${(cy - ovalHeight).toFixed(2)},\r\n              ${(cx + ovalWidth).toFixed(2)} ${(cy - ovalHeight * k).toFixed(2)},\r\n              ${(cx + ovalWidth).toFixed(2)} ${cy.toFixed(2)}\r\n            C ${(cx + ovalWidth).toFixed(2)} ${(cy + ovalHeight * k).toFixed(2)},\r\n              ${(cx + ovalWidth * k).toFixed(2)} ${(cy + ovalHeight).toFixed(2)},\r\n              ${cx.toFixed(2)} ${(cy + ovalHeight).toFixed(2)}\r\n            C ${(cx - ovalWidth * k).toFixed(2)} ${(cy + ovalHeight).toFixed(2)},\r\n              ${(cx - ovalWidth).toFixed(2)} ${(cy + ovalHeight * k).toFixed(2)},\r\n              ${(cx - ovalWidth).toFixed(2)} ${cy.toFixed(2)}\r\n            C ${(cx - ovalWidth).toFixed(2)} ${(cy - ovalHeight * k).toFixed(2)},\r\n              ${(cx - ovalWidth * k).toFixed(2)} ${(cy - ovalHeight).toFixed(2)},\r\n              ${cx.toFixed(2)} ${(cy - ovalHeight).toFixed(2)}\r\n            Z\r\n        `.replace(/\\s+/g, ' ').trim();\r\n\r\n        // Radial facets for oval\r\n        for (let i = 0; i < 6; i++) {\r\n            const angle = (i / 6) * Math.PI * 2;\r\n            const nextAngle = ((i + 1) / 6) * Math.PI * 2;\r\n\r\n            const innerR = 8;\r\n            const outerR = Math.min(ovalWidth, ovalHeight) * 0.8;\r\n\r\n            facets.push(`\r\n                M ${cx.toFixed(2)} ${cy.toFixed(2)}\r\n                L ${(cx + Math.cos(angle) * outerR).toFixed(2)} ${(cy + Math.sin(angle) * outerR * 0.8).toFixed(2)}\r\n                L ${(cx + Math.cos(nextAngle) * outerR).toFixed(2)} ${(cy + Math.sin(nextAngle) * outerR * 0.8).toFixed(2)}\r\n                Z\r\n            `.replace(/\\s+/g, ' ').trim());\r\n        }\r\n    }\r\n\r\n    return { outline, facets };\r\n}\r\n\r\nfunction generateSparklePath(\r\n    cx: number,\r\n    cy: number,\r\n    size: number = 4\r\n): string {\r\n    return `\r\n        M ${cx.toFixed(2)} ${(cy - size).toFixed(2)}\r\n        L ${(cx + size * 0.2).toFixed(2)} ${(cy - size * 0.2).toFixed(2)}\r\n        L ${(cx + size).toFixed(2)} ${cy.toFixed(2)}\r\n        L ${(cx + size * 0.2).toFixed(2)} ${(cy + size * 0.2).toFixed(2)}\r\n        L ${cx.toFixed(2)} ${(cy + size).toFixed(2)}\r\n        L ${(cx - size * 0.2).toFixed(2)} ${(cy + size * 0.2).toFixed(2)}\r\n        L ${(cx - size).toFixed(2)} ${cy.toFixed(2)}\r\n        L ${(cx - size * 0.2).toFixed(2)} ${(cy - size * 0.2).toFixed(2)}\r\n        Z\r\n    `.replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\n// ============================================\r\n// MAIN GENERATOR\r\n// ============================================\r\n\r\nfunction generateSingleDiamondGem(\r\n    params: LogoGenerationParams,\r\n    hashParams: HashParams,\r\n    variant: number\r\n): { logo: GeneratedLogo; quality: QualityMetrics } {\r\n    const { brandName, primaryColor, accentColor } = params;\r\n\r\n    const size = 100;\r\n    const cx = size / 2;\r\n    const cy = size / 2;\r\n\r\n    const rng = createSeededRandom(hashParams.hashHex);\r\n    const algoParams = generateDiamondGemParams(hashParams, rng);\r\n    const svg = createSVG(size);\r\n    const uniqueId = generateLogoId('diamond-gem', variant);\r\n\r\n    // Main gradient\r\n    const gradientId = `${uniqueId}-grad`;\r\n    svg.addGradient(gradientId, {\r\n        type: 'linear',\r\n        angle: 135 + algoParams.lightDirection * 0.2,\r\n        stops: [\r\n            { offset: 0, color: lighten(primaryColor, 35) },\r\n            { offset: 0.3, color: lighten(primaryColor, 20) },\r\n            { offset: 0.6, color: primaryColor },\r\n            { offset: 1, color: darken(primaryColor, 15) },\r\n        ],\r\n    });\r\n\r\n    // Facet gradient (lighter)\r\n    const facetGradId = `${uniqueId}-facet`;\r\n    svg.addGradient(facetGradId, {\r\n        type: 'linear',\r\n        angle: 180,\r\n        stops: [\r\n            { offset: 0, color: lighten(primaryColor, 40) },\r\n            { offset: 1, color: lighten(primaryColor, 15) },\r\n        ],\r\n    });\r\n\r\n    // Generate diamond paths\r\n    const { outline, facets } = generateDiamondPath(algoParams, cx, cy);\r\n\r\n    // Main diamond outline\r\n    svg.path(outline, { fill: `url(#${gradientId})` });\r\n\r\n    // Facets\r\n    facets.forEach((facet, i) => {\r\n        const opacity = 0.3 + (i % 2) * 0.2;\r\n        svg.path(facet, {\r\n            fill: i % 2 === 0 ? lighten(primaryColor, 30) : darken(primaryColor, 10),\r\n            fillOpacity: opacity.toString(),\r\n        });\r\n    });\r\n\r\n    // Sparkles\r\n    if (algoParams.sparkleCount > 0) {\r\n        const sparklePositions = [\r\n            { x: cx - 8, y: cy - 15 },\r\n            { x: cx + 12, y: cy - 8 },\r\n            { x: cx - 5, y: cy + 5 },\r\n            { x: cx + 8, y: cy + 12 },\r\n        ];\r\n\r\n        for (let i = 0; i < Math.min(algoParams.sparkleCount, 4); i++) {\r\n            const pos = sparklePositions[i];\r\n            const sparklePath = generateSparklePath(pos.x, pos.y, 3 - i * 0.3);\r\n            svg.path(sparklePath, { fill: accentColor || '#FFFFFF', fillOpacity: '0.8' });\r\n        }\r\n    }\r\n\r\n    const svgString = svg.build();\r\n    const derivedParams = deriveParamsFromHash(hashParams.hashHex);\r\n    const quality = calculateQualityScore(svgString, derivedParams);\r\n    const hash = generateLogoHash(brandName, 'diamond-gem', variant, algoParams);\r\n\r\n    const logo: GeneratedLogo = {\r\n        id: uniqueId,\r\n        hash,\r\n        algorithm: 'diamond-gem',\r\n        variant: variant + 1,\r\n        svg: svgString,\r\n        viewBox: `0 0 ${size} ${size}`,\r\n        params: algoParams,\r\n        quality,\r\n        meta: {\r\n            brandName,\r\n            generatedAt: Date.now(),\r\n            seed: hashParams.hashHex,\r\n            hashParams,\r\n            geometry: {\r\n                usesGoldenRatio: false,\r\n                gridBased: false,\r\n                bezierCurves: algoParams.brillianceCut === 'oval',\r\n                symmetry: 'vertical',\r\n                pathCount: 1 + facets.length + algoParams.sparkleCount,\r\n                complexity: calculateComplexity(svgString),\r\n            },\r\n            colors: {\r\n                primary: primaryColor,\r\n                accent: accentColor,\r\n                palette: [primaryColor, lighten(primaryColor, 35)],\r\n            },\r\n        },\r\n    };\r\n\r\n    return { logo, quality };\r\n}\r\n\r\nexport function generateDiamondGem(params: LogoGenerationParams): GeneratedLogo[] {\r\n    const { brandName, variations = 3, minQualityScore = 85, category = 'creative' } = params;\r\n\r\n    const logos: GeneratedLogo[] = [];\r\n    const candidatesPerVariation = 5;\r\n\r\n    for (let v = 0; v < variations; v++) {\r\n        let bestCandidate: GeneratedLogo | null = null;\r\n        let bestScore = 0;\r\n\r\n        for (let c = 0; c < candidatesPerVariation; c++) {\r\n            const hashParams = generateHashParamsSync(brandName, category);\r\n            const { logo, quality } = generateSingleDiamondGem(params, hashParams, v);\r\n\r\n            if (quality.score > bestScore) {\r\n                bestScore = quality.score;\r\n                bestCandidate = logo;\r\n            }\r\n\r\n            if (quality.score >= minQualityScore) break;\r\n        }\r\n\r\n        if (bestCandidate) {\r\n            storeHash({\r\n                hash: bestCandidate.hash,\r\n                brandName,\r\n                algorithm: 'diamond-gem',\r\n                variant: v,\r\n                createdAt: Date.now(),\r\n                qualityScore: bestScore,\r\n            });\r\n            logos.push(bestCandidate);\r\n        }\r\n    }\r\n\r\n    return logos;\r\n}\r\n\r\nexport function generateSingleDiamondGemPreview(\r\n    primaryColor: string,\r\n    accentColor?: string,\r\n    seed: string = 'preview'\r\n): string {\r\n    const hashParams = generateHashParamsSync(seed, 'creative');\r\n    const rng = createSeededRandom(hashParams.hashHex);\r\n    const params = generateDiamondGemParams(hashParams, rng);\r\n    const size = 100;\r\n    const svg = createSVG(size);\r\n\r\n    svg.addGradient('main', {\r\n        type: 'linear',\r\n        angle: 135,\r\n        stops: [\r\n            { offset: 0, color: lighten(primaryColor, 30) },\r\n            { offset: 1, color: darken(primaryColor, 10) },\r\n        ],\r\n    });\r\n\r\n    const { outline } = generateDiamondPath(params, size / 2, size / 2);\r\n    svg.path(outline, { fill: 'url(#main)' });\r\n\r\n    return svg.build();\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\generators\\dna-helix.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\generators\\eye-vision.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\generators\\fingerprint-id.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'darken' is defined but never used.","line":28,"column":19,"nodeType":null,"messageId":"unusedVar","endLine":28,"endColumn":25}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Fingerprint ID Generator (Identity/Security-style)\r\n *\r\n * Creates fingerprint-inspired patterns\r\n * Unique identity and biometric aesthetic\r\n * Inspired by identity verification and security brands\r\n */\r\n\r\nimport {\r\n    GeneratedLogo,\r\n    LogoGenerationParams,\r\n    FingerprintIdParams,\r\n    QualityMetrics,\r\n    HashParams,\r\n} from '../types';\r\nimport {\r\n    createSeededRandom,\r\n    generateBaseParams,\r\n    generateLogoHash,\r\n    generateLogoId,\r\n    generateHashParamsSync,\r\n    deriveParamsFromHash,\r\n    calculateQualityScore,\r\n    calculateComplexity,\r\n    storeHash,\r\n} from '../core/parametric-engine';\r\nimport { createSVG } from '../core/svg-builder';\r\nimport { lighten, darken } from '../core/color-utils';\r\n\r\n// ============================================\r\n// PARAMETER GENERATION\r\n// ============================================\r\n\r\nfunction generateFingerprintIdParams(hashParams: HashParams, rng: () => number): FingerprintIdParams {\r\n    const derived = deriveParamsFromHash(hashParams.hashHex);\r\n    const base = generateBaseParams(rng);\r\n\r\n    const cores: Array<'loop' | 'whorl' | 'arch'> = ['loop', 'whorl', 'arch'];\r\n\r\n    return {\r\n        ...base,\r\n        ridgeCount: Math.max(6, Math.min(12, Math.floor(derived.elementCount * 0.8 + 6))),\r\n        spiralTightness: derived.curveTension * 0.5 + 0.3,\r\n        coreStyle: cores[Math.floor(derived.styleVariant % 3)],\r\n        deltaPattern: derived.organicAmount > 0.5,\r\n        ridgeWidth: derived.strokeWidth * 0.8 + 1,\r\n        ridgeSpacing: derived.spacingFactor * 2 + 2,\r\n        breakCount: Math.floor(derived.colorPlacement * 3),\r\n        centerOffset: derived.taperRatio * 0.2,\r\n        glowEffect: derived.perspectiveStrength > 0.5,\r\n        scanLine: derived.layerCount > 2,\r\n    };\r\n}\r\n\r\n// ============================================\r\n// PATH GENERATION\r\n// ============================================\r\n\r\nfunction generateRidgePath(\r\n    cx: number,\r\n    cy: number,\r\n    params: FingerprintIdParams,\r\n    ridgeIndex: number,\r\n    totalRidges: number\r\n): string {\r\n    const { spiralTightness, coreStyle, centerOffset } = params;\r\n\r\n    const progress = ridgeIndex / totalRidges;\r\n    const baseRadius = 5 + progress * 35;\r\n\r\n    // Offset center slightly for natural look\r\n    const offsetX = cx + centerOffset * 10 * Math.sin(ridgeIndex * 0.3);\r\n    const offsetY = cy + centerOffset * 5 * Math.cos(ridgeIndex * 0.5);\r\n\r\n    if (coreStyle === 'whorl') {\r\n        // Spiral pattern\r\n        const segments = 24;\r\n        let path = '';\r\n\r\n        for (let i = 0; i <= segments; i++) {\r\n            const t = i / segments;\r\n            const angle = t * Math.PI * 2 * (1 + spiralTightness);\r\n            const r = baseRadius * (0.3 + t * 0.7);\r\n            const x = offsetX + Math.cos(angle - Math.PI / 2) * r;\r\n            const y = offsetY + Math.sin(angle - Math.PI / 2) * r * 0.8;\r\n\r\n            if (i === 0) {\r\n                path += `M ${x.toFixed(2)} ${y.toFixed(2)}`;\r\n            } else {\r\n                const prevT = (i - 1) / segments;\r\n                const prevAngle = prevT * Math.PI * 2 * (1 + spiralTightness);\r\n                const prevR = baseRadius * (0.3 + prevT * 0.7);\r\n                const prevX = offsetX + Math.cos(prevAngle - Math.PI / 2) * prevR;\r\n                const prevY = offsetY + Math.sin(prevAngle - Math.PI / 2) * prevR * 0.8;\r\n\r\n                const cpX = (prevX + x) / 2 + (Math.random() - 0.5) * 2;\r\n                const cpY = (prevY + y) / 2 + (Math.random() - 0.5) * 2;\r\n\r\n                path += ` Q ${cpX.toFixed(2)} ${cpY.toFixed(2)}, ${x.toFixed(2)} ${y.toFixed(2)}`;\r\n            }\r\n        }\r\n\r\n        return path;\r\n\r\n    } else if (coreStyle === 'loop') {\r\n        // Loop pattern - U-shaped curves\r\n        const width = baseRadius * 1.5;\r\n        const height = baseRadius;\r\n\r\n        const left = offsetX - width / 2;\r\n        const right = offsetX + width / 2;\r\n        const top = offsetY - height;\r\n        const bottom = offsetY + height * 0.5;\r\n\r\n        return `\r\n            M ${left.toFixed(2)} ${bottom.toFixed(2)}\r\n            C ${left.toFixed(2)} ${(top - height * 0.3).toFixed(2)},\r\n              ${right.toFixed(2)} ${(top - height * 0.3).toFixed(2)},\r\n              ${right.toFixed(2)} ${bottom.toFixed(2)}\r\n        `.replace(/\\s+/g, ' ').trim();\r\n\r\n    } else {\r\n        // Arch pattern - simple curved lines\r\n        const width = baseRadius * 2;\r\n        const archHeight = baseRadius * 0.6;\r\n\r\n        return `\r\n            M ${(offsetX - width / 2).toFixed(2)} ${(offsetY + archHeight).toFixed(2)}\r\n            C ${(offsetX - width / 4).toFixed(2)} ${(offsetY - archHeight).toFixed(2)},\r\n              ${(offsetX + width / 4).toFixed(2)} ${(offsetY - archHeight).toFixed(2)},\r\n              ${(offsetX + width / 2).toFixed(2)} ${(offsetY + archHeight).toFixed(2)}\r\n        `.replace(/\\s+/g, ' ').trim();\r\n    }\r\n}\r\n\r\nfunction generateScanLinePath(\r\n    cx: number,\r\n    cy: number,\r\n    width: number,\r\n    yOffset: number\r\n): string {\r\n    return `\r\n        M ${(cx - width / 2).toFixed(2)} ${(cy + yOffset).toFixed(2)}\r\n        L ${(cx + width / 2).toFixed(2)} ${(cy + yOffset).toFixed(2)}\r\n    `.replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\n// ============================================\r\n// MAIN GENERATOR\r\n// ============================================\r\n\r\nfunction generateSingleFingerprintId(\r\n    params: LogoGenerationParams,\r\n    hashParams: HashParams,\r\n    variant: number\r\n): { logo: GeneratedLogo; quality: QualityMetrics } {\r\n    const { brandName, primaryColor, accentColor } = params;\r\n\r\n    const size = 100;\r\n    const cx = size / 2;\r\n    const cy = size / 2;\r\n\r\n    const rng = createSeededRandom(hashParams.hashHex);\r\n    const algoParams = generateFingerprintIdParams(hashParams, rng);\r\n    const svg = createSVG(size);\r\n    const uniqueId = generateLogoId('fingerprint-id', variant);\r\n\r\n    // Glow effect\r\n    if (algoParams.glowEffect) {\r\n        const glowGradId = `${uniqueId}-glow`;\r\n        svg.addGradient(glowGradId, {\r\n            type: 'radial',\r\n            stops: [\r\n                { offset: 0.3, color: accentColor || lighten(primaryColor, 40), opacity: 0.2 },\r\n                { offset: 1, color: primaryColor, opacity: 0 },\r\n            ],\r\n        });\r\n\r\n        const k = 0.5522847498;\r\n        const r = 45;\r\n        const glowPath = `\r\n            M ${cx.toFixed(2)} ${(cy - r).toFixed(2)}\r\n            C ${(cx + r * k).toFixed(2)} ${(cy - r).toFixed(2)},\r\n              ${(cx + r).toFixed(2)} ${(cy - r * k).toFixed(2)},\r\n              ${(cx + r).toFixed(2)} ${cy.toFixed(2)}\r\n            C ${(cx + r).toFixed(2)} ${(cy + r * k).toFixed(2)},\r\n              ${(cx + r * k).toFixed(2)} ${(cy + r).toFixed(2)},\r\n              ${cx.toFixed(2)} ${(cy + r).toFixed(2)}\r\n            C ${(cx - r * k).toFixed(2)} ${(cy + r).toFixed(2)},\r\n              ${(cx - r).toFixed(2)} ${(cy + r * k).toFixed(2)},\r\n              ${(cx - r).toFixed(2)} ${cy.toFixed(2)}\r\n            C ${(cx - r).toFixed(2)} ${(cy - r * k).toFixed(2)},\r\n              ${(cx - r * k).toFixed(2)} ${(cy - r).toFixed(2)},\r\n              ${cx.toFixed(2)} ${(cy - r).toFixed(2)}\r\n            Z\r\n        `.replace(/\\s+/g, ' ').trim();\r\n\r\n        svg.path(glowPath, { fill: `url(#${glowGradId})` });\r\n    }\r\n\r\n    // Fingerprint ridges\r\n    for (let i = 0; i < algoParams.ridgeCount; i++) {\r\n        const ridgePath = generateRidgePath(cx, cy, algoParams, i, algoParams.ridgeCount);\r\n\r\n        // Add breaks in some ridges\r\n        const hasBreak = i > 2 && i < algoParams.ridgeCount - 2 && i % 3 === 0 && algoParams.breakCount > 0;\r\n\r\n        svg.path(ridgePath, {\r\n            fill: 'none',\r\n            stroke: primaryColor,\r\n            strokeWidth: algoParams.ridgeWidth.toString(),\r\n            strokeLinecap: 'round',\r\n            strokeOpacity: hasBreak ? '0.5' : '1',\r\n            strokeDasharray: hasBreak ? '8 4' : 'none',\r\n        });\r\n    }\r\n\r\n    // Scan line animation indicator\r\n    if (algoParams.scanLine) {\r\n        const scanGradId = `${uniqueId}-scan`;\r\n        svg.addGradient(scanGradId, {\r\n            type: 'linear',\r\n            angle: 0,\r\n            stops: [\r\n                { offset: 0, color: accentColor || lighten(primaryColor, 40), opacity: 0 },\r\n                { offset: 0.5, color: accentColor || lighten(primaryColor, 40), opacity: 0.8 },\r\n                { offset: 1, color: accentColor || lighten(primaryColor, 40), opacity: 0 },\r\n            ],\r\n        });\r\n\r\n        const scanPath = generateScanLinePath(cx, cy, 70, -10);\r\n        svg.path(scanPath, {\r\n            fill: 'none',\r\n            stroke: `url(#${scanGradId})`,\r\n            strokeWidth: '2',\r\n        });\r\n    }\r\n\r\n    const svgString = svg.build();\r\n    const derivedParams = deriveParamsFromHash(hashParams.hashHex);\r\n    const quality = calculateQualityScore(svgString, derivedParams);\r\n    const hash = generateLogoHash(brandName, 'fingerprint-id', variant, algoParams);\r\n\r\n    const logo: GeneratedLogo = {\r\n        id: uniqueId,\r\n        hash,\r\n        algorithm: 'fingerprint-id',\r\n        variant: variant + 1,\r\n        svg: svgString,\r\n        viewBox: `0 0 ${size} ${size}`,\r\n        params: algoParams,\r\n        quality,\r\n        meta: {\r\n            brandName,\r\n            generatedAt: Date.now(),\r\n            seed: hashParams.hashHex,\r\n            hashParams,\r\n            geometry: {\r\n                usesGoldenRatio: false,\r\n                gridBased: false,\r\n                bezierCurves: true,\r\n                symmetry: 'none',\r\n                pathCount: algoParams.ridgeCount + (algoParams.scanLine ? 1 : 0),\r\n                complexity: calculateComplexity(svgString),\r\n            },\r\n            colors: {\r\n                primary: primaryColor,\r\n                accent: accentColor,\r\n                palette: [primaryColor, accentColor || lighten(primaryColor, 40)],\r\n            },\r\n        },\r\n    };\r\n\r\n    return { logo, quality };\r\n}\r\n\r\nexport function generateFingerprintId(params: LogoGenerationParams): GeneratedLogo[] {\r\n    const { brandName, variations = 3, minQualityScore = 85, category = 'technology' } = params;\r\n\r\n    const logos: GeneratedLogo[] = [];\r\n    const candidatesPerVariation = 5;\r\n\r\n    for (let v = 0; v < variations; v++) {\r\n        let bestCandidate: GeneratedLogo | null = null;\r\n        let bestScore = 0;\r\n\r\n        for (let c = 0; c < candidatesPerVariation; c++) {\r\n            const hashParams = generateHashParamsSync(brandName, category);\r\n            const { logo, quality } = generateSingleFingerprintId(params, hashParams, v);\r\n\r\n            if (quality.score > bestScore) {\r\n                bestScore = quality.score;\r\n                bestCandidate = logo;\r\n            }\r\n\r\n            if (quality.score >= minQualityScore) break;\r\n        }\r\n\r\n        if (bestCandidate) {\r\n            storeHash({\r\n                hash: bestCandidate.hash,\r\n                brandName,\r\n                algorithm: 'fingerprint-id',\r\n                variant: v,\r\n                createdAt: Date.now(),\r\n                qualityScore: bestScore,\r\n            });\r\n            logos.push(bestCandidate);\r\n        }\r\n    }\r\n\r\n    return logos;\r\n}\r\n\r\nexport function generateSingleFingerprintIdPreview(\r\n    primaryColor: string,\r\n    accentColor?: string,\r\n    seed: string = 'preview'\r\n): string {\r\n    const hashParams = generateHashParamsSync(seed, 'technology');\r\n    const rng = createSeededRandom(hashParams.hashHex);\r\n    const params = generateFingerprintIdParams(hashParams, rng);\r\n    const size = 100;\r\n    const svg = createSVG(size);\r\n\r\n    // Draw simplified ridges\r\n    for (let i = 0; i < Math.min(params.ridgeCount, 8); i++) {\r\n        const ridgePath = generateRidgePath(size / 2, size / 2, params, i, params.ridgeCount);\r\n        svg.path(ridgePath, {\r\n            fill: 'none',\r\n            stroke: primaryColor,\r\n            strokeWidth: params.ridgeWidth.toString(),\r\n            strokeLinecap: 'round',\r\n        });\r\n    }\r\n\r\n    return svg.build();\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\generators\\flow-gradient.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'mixColors' is defined but never used.","line":31,"column":27,"nodeType":null,"messageId":"unusedVar","endLine":31,"endColumn":36},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'width' is assigned a value but never used.","line":195,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":195,"endColumn":16}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Flow Gradient Generator (Loom-style)\r\n *\r\n * Creates flowing gradient organic shapes\r\n * Smooth curves, blob-like forms\r\n * Uses bezier curves for organic feel\r\n */\r\n\r\nimport {\r\n    GeneratedLogo,\r\n    LogoGenerationParams,\r\n    FlowGradientParams,\r\n    QualityMetrics,\r\n    HashParams,\r\n    Point,\r\n} from '../types';\r\nimport {\r\n    createSeededRandom,\r\n    generateBaseParams,\r\n    generateLogoHash,\r\n    generateLogoId,\r\n    generateHashParamsSync,\r\n    deriveParamsFromHash,\r\n    calculateQualityScore,\r\n    calculateComplexity,\r\n    storeHash,\r\n    createOrganicShape,\r\n    addNoise,\r\n} from '../core/parametric-engine';\r\nimport { createSVG } from '../core/svg-builder';\r\nimport { lighten, darken, mixColors } from '../core/color-utils';\r\n\r\n// ============================================\r\n// PARAMETER GENERATION\r\n// ============================================\r\n\r\nfunction generateFlowGradientParams(hashParams: HashParams, rng: () => number): FlowGradientParams {\r\n    const derived = deriveParamsFromHash(hashParams.hashHex);\r\n    const base = generateBaseParams(rng);\r\n\r\n    const directions: Array<'horizontal' | 'vertical' | 'diagonal' | 'radial'> =\r\n        ['horizontal', 'vertical', 'diagonal', 'radial'];\r\n\r\n    return {\r\n        ...base,\r\n        flowDirection: directions[derived.styleVariant % 4],\r\n        waveCount: Math.max(1, Math.min(4, Math.round(derived.elementCount / 5))),\r\n        waveAmplitude: Math.max(10, Math.min(40, derived.curveAmplitude * 0.8)),\r\n        organicDistortion: derived.organicAmount,\r\n        gradientStops: Math.max(2, Math.min(5, derived.layerCount + 1)),\r\n        blobFactor: derived.flowIntensity,\r\n        curveTension: derived.curveTension,\r\n    };\r\n}\r\n\r\n// ============================================\r\n// FLOW SHAPE GENERATION\r\n// ============================================\r\n\r\n/**\r\n * Generate organic blob shape points\r\n */\r\nfunction generateBlobPoints(\r\n    params: FlowGradientParams,\r\n    cx: number,\r\n    cy: number,\r\n    baseRadius: number,\r\n    rng: () => number\r\n): Point[] {\r\n    const points: Point[] = [];\r\n    const pointCount = 8 + Math.floor(params.waveCount * 2);\r\n\r\n    for (let i = 0; i < pointCount; i++) {\r\n        const angle = (i / pointCount) * Math.PI * 2;\r\n\r\n        // Base radius with wave modulation\r\n        const waveOffset = Math.sin(angle * params.waveCount) * params.waveAmplitude * 0.3;\r\n\r\n        // Add organic distortion\r\n        const distortion = params.organicDistortion > 0\r\n            ? addNoise(0, params.organicDistortion, rng, baseRadius * 0.2)\r\n            : 0;\r\n\r\n        // Blob factor creates more dramatic curves\r\n        const blobEffect = Math.sin(angle * 2) * params.blobFactor * baseRadius * 0.15;\r\n\r\n        const r = baseRadius + waveOffset + distortion + blobEffect;\r\n\r\n        points.push({\r\n            x: cx + Math.cos(angle) * r,\r\n            y: cy + Math.sin(angle) * r,\r\n        });\r\n    }\r\n\r\n    return points;\r\n}\r\n\r\n/**\r\n * Generate flowing wave shape\r\n */\r\nfunction generateWaveShape(\r\n    params: FlowGradientParams,\r\n    viewSize: number,\r\n    layerIndex: number,\r\n    totalLayers: number,\r\n    rng: () => number\r\n): string {\r\n    const padding = viewSize * 0.1;\r\n    const t = layerIndex / Math.max(1, totalLayers - 1);\r\n\r\n    switch (params.flowDirection) {\r\n        case 'horizontal':\r\n            return generateHorizontalFlow(params, viewSize, padding, t, rng);\r\n        case 'vertical':\r\n            return generateVerticalFlow(params, viewSize, padding, t, rng);\r\n        case 'diagonal':\r\n            return generateDiagonalFlow(params, viewSize, padding, t, rng);\r\n        case 'radial':\r\n        default:\r\n            return generateRadialFlow(params, viewSize, t, rng);\r\n    }\r\n}\r\n\r\nfunction generateHorizontalFlow(\r\n    params: FlowGradientParams,\r\n    viewSize: number,\r\n    padding: number,\r\n    t: number,\r\n    rng: () => number\r\n): string {\r\n    const points: Point[] = [];\r\n    const segments = 6;\r\n    const yOffset = viewSize * 0.3 * (t - 0.5);\r\n\r\n    // Top edge with waves\r\n    for (let i = 0; i <= segments; i++) {\r\n        const x = padding + (i / segments) * (viewSize - padding * 2);\r\n        const waveY = Math.sin((i / segments) * Math.PI * params.waveCount) * params.waveAmplitude;\r\n        const noise = addNoise(0, params.organicDistortion, rng, 5);\r\n        points.push({ x, y: viewSize * 0.3 + yOffset + waveY + noise });\r\n    }\r\n\r\n    // Bottom edge (reverse)\r\n    for (let i = segments; i >= 0; i--) {\r\n        const x = padding + (i / segments) * (viewSize - padding * 2);\r\n        const waveY = Math.sin((i / segments) * Math.PI * params.waveCount + Math.PI) * params.waveAmplitude * 0.5;\r\n        const noise = addNoise(0, params.organicDistortion, rng, 5);\r\n        points.push({ x, y: viewSize * 0.7 + yOffset + waveY + noise });\r\n    }\r\n\r\n    return createOrganicShape(points, params.curveTension, true);\r\n}\r\n\r\nfunction generateVerticalFlow(\r\n    params: FlowGradientParams,\r\n    viewSize: number,\r\n    padding: number,\r\n    t: number,\r\n    rng: () => number\r\n): string {\r\n    const points: Point[] = [];\r\n    const segments = 6;\r\n    const xOffset = viewSize * 0.3 * (t - 0.5);\r\n\r\n    // Left edge with waves\r\n    for (let i = 0; i <= segments; i++) {\r\n        const y = padding + (i / segments) * (viewSize - padding * 2);\r\n        const waveX = Math.sin((i / segments) * Math.PI * params.waveCount) * params.waveAmplitude;\r\n        const noise = addNoise(0, params.organicDistortion, rng, 5);\r\n        points.push({ x: viewSize * 0.3 + xOffset + waveX + noise, y });\r\n    }\r\n\r\n    // Right edge (reverse)\r\n    for (let i = segments; i >= 0; i--) {\r\n        const y = padding + (i / segments) * (viewSize - padding * 2);\r\n        const waveX = Math.sin((i / segments) * Math.PI * params.waveCount + Math.PI) * params.waveAmplitude * 0.5;\r\n        const noise = addNoise(0, params.organicDistortion, rng, 5);\r\n        points.push({ x: viewSize * 0.7 + xOffset + waveX + noise, y });\r\n    }\r\n\r\n    return createOrganicShape(points, params.curveTension, true);\r\n}\r\n\r\nfunction generateDiagonalFlow(\r\n    params: FlowGradientParams,\r\n    viewSize: number,\r\n    padding: number,\r\n    t: number,\r\n    rng: () => number\r\n): string {\r\n    const points: Point[] = [];\r\n    const offset = viewSize * 0.2 * (t - 0.5);\r\n\r\n    // Create diagonal ribbon shape\r\n    const width = viewSize * 0.4;\r\n\r\n    points.push({ x: padding + offset, y: padding });\r\n    points.push({ x: viewSize - padding + offset, y: padding });\r\n    points.push({ x: viewSize - padding - offset, y: viewSize - padding });\r\n    points.push({ x: padding - offset, y: viewSize - padding });\r\n\r\n    // Add wave distortion\r\n    return points.map((p, i) => {\r\n        const wave = Math.sin(i * Math.PI * 0.5) * params.waveAmplitude * 0.3;\r\n        const noise = addNoise(0, params.organicDistortion, rng, 3);\r\n        return { x: p.x + noise, y: p.y + wave + noise };\r\n    }).reduce((path, p, i) => {\r\n        if (i === 0) return `M ${p.x.toFixed(2)} ${p.y.toFixed(2)}`;\r\n        return path + ` L ${p.x.toFixed(2)} ${p.y.toFixed(2)}`;\r\n    }, '') + ' Z';\r\n}\r\n\r\nfunction generateRadialFlow(\r\n    params: FlowGradientParams,\r\n    viewSize: number,\r\n    t: number,\r\n    rng: () => number\r\n): string {\r\n    const cx = viewSize / 2;\r\n    const cy = viewSize / 2;\r\n    const baseRadius = viewSize * (0.25 + t * 0.15);\r\n\r\n    const points = generateBlobPoints(params, cx, cy, baseRadius, rng);\r\n    return createOrganicShape(points, params.curveTension, true);\r\n}\r\n\r\n// ============================================\r\n// MAIN GENERATOR\r\n// ============================================\r\n\r\nfunction generateSingleFlowGradient(\r\n    params: LogoGenerationParams,\r\n    hashParams: HashParams,\r\n    variant: number\r\n): { logo: GeneratedLogo; quality: QualityMetrics } {\r\n    const { brandName, primaryColor, accentColor } = params;\r\n\r\n    const size = 100;\r\n    const rng = createSeededRandom(hashParams.hashHex);\r\n    const algoParams = generateFlowGradientParams(hashParams, rng);\r\n    const svg = createSVG(size);\r\n    const uniqueId = generateLogoId('flow-gradient', variant);\r\n\r\n    // Create main gradient\r\n    const mainGradId = `${uniqueId}-main`;\r\n    const gradientAngle = algoParams.flowDirection === 'horizontal' ? 0 :\r\n                          algoParams.flowDirection === 'vertical' ? 90 : 45;\r\n\r\n    svg.addGradient(mainGradId, {\r\n        type: algoParams.flowDirection === 'radial' ? 'radial' : 'linear',\r\n        angle: gradientAngle,\r\n        stops: [\r\n            { offset: 0, color: lighten(primaryColor, 15) },\r\n            { offset: 0.5, color: primaryColor },\r\n            { offset: 1, color: accentColor || darken(primaryColor, 20) },\r\n        ],\r\n    });\r\n\r\n    // Generate and render flow shape\r\n    const shapePath = generateWaveShape(algoParams, size, 0, 1, rng);\r\n    svg.path(shapePath, { fill: `url(#${mainGradId})` });\r\n\r\n    const svgString = svg.build();\r\n    const derivedParams = deriveParamsFromHash(hashParams.hashHex);\r\n    const quality = calculateQualityScore(svgString, derivedParams);\r\n    const hash = generateLogoHash(brandName, 'flow-gradient', variant, algoParams);\r\n\r\n    const logo: GeneratedLogo = {\r\n        id: uniqueId,\r\n        hash,\r\n        algorithm: 'flow-gradient',\r\n        variant: variant + 1,\r\n        svg: svgString,\r\n        viewBox: `0 0 ${size} ${size}`,\r\n        params: algoParams,\r\n        quality,\r\n        meta: {\r\n            brandName,\r\n            generatedAt: Date.now(),\r\n            seed: hashParams.hashHex,\r\n            hashParams,\r\n            geometry: {\r\n                usesGoldenRatio: false,\r\n                gridBased: false,\r\n                bezierCurves: true,\r\n                symmetry: algoParams.flowDirection === 'radial' ? 'radial' : 'none',\r\n                pathCount: 1,\r\n                complexity: calculateComplexity(svgString),\r\n            },\r\n            colors: {\r\n                primary: primaryColor,\r\n                accent: accentColor,\r\n                gradient: {\r\n                    type: algoParams.flowDirection === 'radial' ? 'radial' : 'linear',\r\n                    angle: gradientAngle,\r\n                    stops: [\r\n                        { offset: 0, color: lighten(primaryColor, 15) },\r\n                        { offset: 1, color: accentColor || darken(primaryColor, 20) },\r\n                    ],\r\n                },\r\n                palette: [primaryColor, accentColor || darken(primaryColor, 15)],\r\n            },\r\n        },\r\n    };\r\n\r\n    return { logo, quality };\r\n}\r\n\r\nexport function generateFlowGradient(params: LogoGenerationParams): GeneratedLogo[] {\r\n    const { brandName, variations = 3, minQualityScore = 80, category = 'creative' } = params;\r\n\r\n    const logos: GeneratedLogo[] = [];\r\n    const candidatesPerVariation = 5;\r\n\r\n    for (let v = 0; v < variations; v++) {\r\n        let bestCandidate: GeneratedLogo | null = null;\r\n        let bestScore = 0;\r\n\r\n        for (let c = 0; c < candidatesPerVariation; c++) {\r\n            const hashParams = generateHashParamsSync(brandName, category);\r\n            const { logo, quality } = generateSingleFlowGradient(params, hashParams, v);\r\n\r\n            if (quality.score > bestScore) {\r\n                bestScore = quality.score;\r\n                bestCandidate = logo;\r\n            }\r\n\r\n            if (quality.score >= minQualityScore) break;\r\n        }\r\n\r\n        if (bestCandidate) {\r\n            storeHash({\r\n                hash: bestCandidate.hash,\r\n                brandName,\r\n                algorithm: 'flow-gradient',\r\n                variant: v,\r\n                createdAt: Date.now(),\r\n                qualityScore: bestScore,\r\n            });\r\n            logos.push(bestCandidate);\r\n        }\r\n    }\r\n\r\n    return logos;\r\n}\r\n\r\nexport function generateSingleFlowGradientPreview(\r\n    primaryColor: string,\r\n    accentColor?: string,\r\n    seed: string = 'preview'\r\n): string {\r\n    const hashParams = generateHashParamsSync(seed, 'creative');\r\n    const rng = createSeededRandom(hashParams.hashHex);\r\n    const params = generateFlowGradientParams(hashParams, rng);\r\n    const size = 100;\r\n    const svg = createSVG(size);\r\n\r\n    svg.addGradient('main', {\r\n        type: params.flowDirection === 'radial' ? 'radial' : 'linear',\r\n        angle: 45,\r\n        stops: [\r\n            { offset: 0, color: primaryColor },\r\n            { offset: 1, color: accentColor || darken(primaryColor, 15) },\r\n        ],\r\n    });\r\n\r\n    const shapePath = generateWaveShape(params, size, 0, 1, rng);\r\n    svg.path(shapePath, { fill: 'url(#main)' });\r\n\r\n    return svg.build();\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\generators\\framed-letter.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'k' is assigned a value but never used.","line":264,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":264,"endColumn":12}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Framed Letter Generator (Notion-style)\r\n *\r\n * Creates a single letter within a geometric frame\r\n * Clean, minimal with optional cutout effects\r\n * Uses bezier paths for both frame and letter\r\n */\r\n\r\nimport {\r\n    GeneratedLogo,\r\n    LogoGenerationParams,\r\n    FramedLetterParams,\r\n    QualityMetrics,\r\n    HashParams,\r\n    Point,\r\n} from '../types';\r\nimport {\r\n    createSeededRandom,\r\n    generateBaseParams,\r\n    generateLogoHash,\r\n    generateLogoId,\r\n    generateHashParamsSync,\r\n    deriveParamsFromHash,\r\n    calculateQualityScore,\r\n    calculateComplexity,\r\n    storeHash,\r\n    createBezierCircle,\r\n    createBezierRoundedRect,\r\n} from '../core/parametric-engine';\r\nimport { createSVG } from '../core/svg-builder';\r\nimport { lighten, darken } from '../core/color-utils';\r\n\r\n// ============================================\r\n// PARAMETER GENERATION\r\n// ============================================\r\n\r\nfunction generateFramedLetterParams(hashParams: HashParams, rng: () => number): FramedLetterParams {\r\n    const derived = deriveParamsFromHash(hashParams.hashHex);\r\n    const base = generateBaseParams(rng);\r\n\r\n    const frameShapes: Array<'square' | 'circle' | 'rounded' | 'hexagon' | 'octagon'> =\r\n        ['square', 'circle', 'rounded', 'hexagon', 'octagon'];\r\n    const cutoutStyles: Array<'none' | 'partial' | 'full'> = ['none', 'partial', 'full'];\r\n\r\n    return {\r\n        ...base,\r\n        frameShape: frameShapes[derived.styleVariant % 5],\r\n        frameThickness: Math.max(2, Math.min(15, derived.strokeWidth + 2)),\r\n        letterScale: Math.max(0.4, Math.min(0.9, 0.5 + derived.scaleFactor * 0.2)),\r\n        letterWeight: Math.max(300, Math.min(800, derived.letterWeight)),\r\n        cutoutStyle: cutoutStyles[Math.floor(derived.cutDepth * 3) % 3],\r\n        cutoutDepth: derived.cutDepth,\r\n        innerPadding: Math.max(5, Math.min(25, 15 + derived.spacingFactor * 5)),\r\n        frameRotation: derived.rotationOffset < 45 ? derived.rotationOffset : 0,\r\n    };\r\n}\r\n\r\n// ============================================\r\n// FRAME PATH GENERATION\r\n// ============================================\r\n\r\n/**\r\n * Create frame path based on shape type\r\n */\r\nfunction createFramePath(\r\n    params: FramedLetterParams,\r\n    cx: number,\r\n    cy: number,\r\n    size: number\r\n): { outer: string; inner: string } {\r\n    const outerSize = size * 0.8;\r\n    const innerSize = outerSize - params.frameThickness * 2;\r\n\r\n    switch (params.frameShape) {\r\n        case 'circle':\r\n            return {\r\n                outer: createBezierCircle(cx, cy, outerSize / 2),\r\n                inner: createBezierCircle(cx, cy, innerSize / 2),\r\n            };\r\n\r\n        case 'rounded':\r\n            return {\r\n                outer: createBezierRoundedRect(cx - outerSize / 2, cy - outerSize / 2, outerSize, outerSize, outerSize * 0.2),\r\n                inner: createBezierRoundedRect(cx - innerSize / 2, cy - innerSize / 2, innerSize, innerSize, innerSize * 0.15),\r\n            };\r\n\r\n        case 'hexagon':\r\n            return {\r\n                outer: createHexagonPath(cx, cy, outerSize / 2),\r\n                inner: createHexagonPath(cx, cy, innerSize / 2),\r\n            };\r\n\r\n        case 'octagon':\r\n            return {\r\n                outer: createOctagonPath(cx, cy, outerSize / 2),\r\n                inner: createOctagonPath(cx, cy, innerSize / 2),\r\n            };\r\n\r\n        case 'square':\r\n        default:\r\n            return {\r\n                outer: createBezierRoundedRect(cx - outerSize / 2, cy - outerSize / 2, outerSize, outerSize, 2),\r\n                inner: createBezierRoundedRect(cx - innerSize / 2, cy - innerSize / 2, innerSize, innerSize, 2),\r\n            };\r\n    }\r\n}\r\n\r\n/**\r\n * Create hexagon using bezier curves\r\n */\r\nfunction createHexagonPath(cx: number, cy: number, radius: number): string {\r\n    const points: Point[] = [];\r\n    for (let i = 0; i < 6; i++) {\r\n        const angle = (i / 6) * Math.PI * 2 - Math.PI / 2;\r\n        points.push({\r\n            x: cx + Math.cos(angle) * radius,\r\n            y: cy + Math.sin(angle) * radius,\r\n        });\r\n    }\r\n    return createPolygonWithBezier(points);\r\n}\r\n\r\n/**\r\n * Create octagon using bezier curves\r\n */\r\nfunction createOctagonPath(cx: number, cy: number, radius: number): string {\r\n    const points: Point[] = [];\r\n    for (let i = 0; i < 8; i++) {\r\n        const angle = (i / 8) * Math.PI * 2 - Math.PI / 8;\r\n        points.push({\r\n            x: cx + Math.cos(angle) * radius,\r\n            y: cy + Math.sin(angle) * radius,\r\n        });\r\n    }\r\n    return createPolygonWithBezier(points);\r\n}\r\n\r\n/**\r\n * Create polygon with slightly curved edges using bezier\r\n */\r\nfunction createPolygonWithBezier(points: Point[]): string {\r\n    if (points.length < 3) return '';\r\n\r\n    let path = `M ${points[0].x.toFixed(2)} ${points[0].y.toFixed(2)}`;\r\n\r\n    for (let i = 0; i < points.length; i++) {\r\n        const p1 = points[i];\r\n        const p2 = points[(i + 1) % points.length];\r\n\r\n        // Very slight curve for organic feel\r\n        const midX = (p1.x + p2.x) / 2;\r\n        const midY = (p1.y + p2.y) / 2;\r\n\r\n        path += ` Q ${midX.toFixed(2)} ${midY.toFixed(2)}, ${p2.x.toFixed(2)} ${p2.y.toFixed(2)}`;\r\n    }\r\n\r\n    path += ' Z';\r\n    return path;\r\n}\r\n\r\n// ============================================\r\n// LETTER PATH GENERATION\r\n// ============================================\r\n\r\n/**\r\n * Generate letter path using bezier curves\r\n * Creates stylized geometric letterforms\r\n */\r\nfunction createLetterPath(\r\n    letter: string,\r\n    cx: number,\r\n    cy: number,\r\n    size: number,\r\n    weight: number\r\n): string {\r\n    const char = letter.toUpperCase().charAt(0);\r\n    const strokeWidth = (weight / 900) * size * 0.15;\r\n    const halfSize = size / 2;\r\n\r\n    // Generate geometric letter shapes\r\n    switch (char) {\r\n        case 'A':\r\n            return createLetterA(cx, cy, halfSize, strokeWidth);\r\n        case 'B':\r\n            return createLetterB(cx, cy, halfSize, strokeWidth);\r\n        case 'C':\r\n            return createLetterC(cx, cy, halfSize, strokeWidth);\r\n        case 'D':\r\n            return createLetterD(cx, cy, halfSize, strokeWidth);\r\n        case 'E':\r\n            return createLetterE(cx, cy, halfSize, strokeWidth);\r\n        case 'F':\r\n            return createLetterF(cx, cy, halfSize, strokeWidth);\r\n        case 'G':\r\n            return createLetterG(cx, cy, halfSize, strokeWidth);\r\n        case 'H':\r\n            return createLetterH(cx, cy, halfSize, strokeWidth);\r\n        case 'I':\r\n            return createLetterI(cx, cy, halfSize, strokeWidth);\r\n        case 'J':\r\n            return createLetterJ(cx, cy, halfSize, strokeWidth);\r\n        case 'K':\r\n            return createLetterK(cx, cy, halfSize, strokeWidth);\r\n        case 'L':\r\n            return createLetterL(cx, cy, halfSize, strokeWidth);\r\n        case 'M':\r\n            return createLetterM(cx, cy, halfSize, strokeWidth);\r\n        case 'N':\r\n            return createLetterN(cx, cy, halfSize, strokeWidth);\r\n        case 'O':\r\n            return createLetterO(cx, cy, halfSize, strokeWidth);\r\n        case 'P':\r\n            return createLetterP(cx, cy, halfSize, strokeWidth);\r\n        case 'Q':\r\n            return createLetterQ(cx, cy, halfSize, strokeWidth);\r\n        case 'R':\r\n            return createLetterR(cx, cy, halfSize, strokeWidth);\r\n        case 'S':\r\n            return createLetterS(cx, cy, halfSize, strokeWidth);\r\n        case 'T':\r\n            return createLetterT(cx, cy, halfSize, strokeWidth);\r\n        case 'U':\r\n            return createLetterU(cx, cy, halfSize, strokeWidth);\r\n        case 'V':\r\n            return createLetterV(cx, cy, halfSize, strokeWidth);\r\n        case 'W':\r\n            return createLetterW(cx, cy, halfSize, strokeWidth);\r\n        case 'X':\r\n            return createLetterX(cx, cy, halfSize, strokeWidth);\r\n        case 'Y':\r\n            return createLetterY(cx, cy, halfSize, strokeWidth);\r\n        case 'Z':\r\n            return createLetterZ(cx, cy, halfSize, strokeWidth);\r\n        default:\r\n            return createLetterO(cx, cy, halfSize, strokeWidth);\r\n    }\r\n}\r\n\r\n// Letter path helpers - geometric/minimal style\r\nfunction createLetterA(cx: number, cy: number, size: number, sw: number): string {\r\n    const top = cy - size * 0.8;\r\n    const bottom = cy + size * 0.8;\r\n    const left = cx - size * 0.5;\r\n    const right = cx + size * 0.5;\r\n    const midY = cy + size * 0.2;\r\n\r\n    return `\r\n        M ${left} ${bottom}\r\n        L ${cx} ${top}\r\n        L ${right} ${bottom}\r\n        L ${right - sw} ${bottom}\r\n        L ${cx} ${top + sw * 2}\r\n        L ${left + sw} ${bottom}\r\n        Z\r\n        M ${cx - size * 0.25} ${midY}\r\n        L ${cx + size * 0.25} ${midY}\r\n        L ${cx + size * 0.25} ${midY + sw}\r\n        L ${cx - size * 0.25} ${midY + sw}\r\n        Z\r\n    `.replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\nfunction createLetterB(cx: number, cy: number, size: number, sw: number): string {\r\n    const k = 0.5522847498;\r\n    const left = cx - size * 0.4;\r\n    const top = cy - size * 0.8;\r\n    const bottom = cy + size * 0.8;\r\n    const right = cx + size * 0.4;\r\n\r\n    return `\r\n        M ${left} ${top}\r\n        L ${cx} ${top}\r\n        C ${right + size * 0.2} ${top}, ${right + size * 0.2} ${cy - sw / 2}, ${cx} ${cy - sw / 2}\r\n        L ${left + sw} ${cy - sw / 2}\r\n        L ${left + sw} ${top + sw}\r\n        L ${cx - size * 0.1} ${top + sw}\r\n        C ${right - size * 0.1} ${top + sw}, ${right - size * 0.1} ${cy - sw * 1.5}, ${cx - size * 0.1} ${cy - sw * 1.5}\r\n        L ${left + sw} ${cy - sw * 1.5}\r\n        L ${left + sw} ${cy + sw / 2}\r\n        L ${cx} ${cy + sw / 2}\r\n        C ${right + size * 0.3} ${cy + sw / 2}, ${right + size * 0.3} ${bottom}, ${cx} ${bottom}\r\n        L ${left} ${bottom}\r\n        L ${left} ${top}\r\n        Z\r\n    `.replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\nfunction createLetterC(cx: number, cy: number, size: number, sw: number): string {\r\n    const radius = size * 0.7;\r\n    const innerRadius = radius - sw;\r\n\r\n    return `\r\n        M ${cx + radius * 0.7} ${cy - radius * 0.7}\r\n        C ${cx + radius * 0.3} ${cy - radius}, ${cx - radius} ${cy - radius * 0.5}, ${cx - radius} ${cy}\r\n        C ${cx - radius} ${cy + radius * 0.5}, ${cx + radius * 0.3} ${cy + radius}, ${cx + radius * 0.7} ${cy + radius * 0.7}\r\n        L ${cx + innerRadius * 0.6} ${cy + innerRadius * 0.6}\r\n        C ${cx + innerRadius * 0.2} ${cy + innerRadius * 0.85}, ${cx - innerRadius} ${cy + innerRadius * 0.4}, ${cx - innerRadius} ${cy}\r\n        C ${cx - innerRadius} ${cy - innerRadius * 0.4}, ${cx + innerRadius * 0.2} ${cy - innerRadius * 0.85}, ${cx + innerRadius * 0.6} ${cy - innerRadius * 0.6}\r\n        Z\r\n    `.replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\nfunction createLetterD(cx: number, cy: number, size: number, sw: number): string {\r\n    const left = cx - size * 0.4;\r\n    const top = cy - size * 0.8;\r\n    const bottom = cy + size * 0.8;\r\n\r\n    return `\r\n        M ${left} ${top}\r\n        L ${cx - size * 0.1} ${top}\r\n        C ${cx + size * 0.6} ${top}, ${cx + size * 0.6} ${bottom}, ${cx - size * 0.1} ${bottom}\r\n        L ${left} ${bottom}\r\n        L ${left} ${top}\r\n        Z\r\n        M ${left + sw} ${top + sw}\r\n        L ${left + sw} ${bottom - sw}\r\n        L ${cx - size * 0.1} ${bottom - sw}\r\n        C ${cx + size * 0.35} ${bottom - sw}, ${cx + size * 0.35} ${top + sw}, ${cx - size * 0.1} ${top + sw}\r\n        Z\r\n    `.replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\nfunction createLetterE(cx: number, cy: number, size: number, sw: number): string {\r\n    const left = cx - size * 0.4;\r\n    const right = cx + size * 0.4;\r\n    const top = cy - size * 0.8;\r\n    const bottom = cy + size * 0.8;\r\n\r\n    return `\r\n        M ${left} ${top}\r\n        L ${right} ${top}\r\n        L ${right} ${top + sw}\r\n        L ${left + sw} ${top + sw}\r\n        L ${left + sw} ${cy - sw / 2}\r\n        L ${right - size * 0.1} ${cy - sw / 2}\r\n        L ${right - size * 0.1} ${cy + sw / 2}\r\n        L ${left + sw} ${cy + sw / 2}\r\n        L ${left + sw} ${bottom - sw}\r\n        L ${right} ${bottom - sw}\r\n        L ${right} ${bottom}\r\n        L ${left} ${bottom}\r\n        Z\r\n    `.replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\nfunction createLetterF(cx: number, cy: number, size: number, sw: number): string {\r\n    const left = cx - size * 0.4;\r\n    const right = cx + size * 0.4;\r\n    const top = cy - size * 0.8;\r\n    const bottom = cy + size * 0.8;\r\n\r\n    return `\r\n        M ${left} ${top}\r\n        L ${right} ${top}\r\n        L ${right} ${top + sw}\r\n        L ${left + sw} ${top + sw}\r\n        L ${left + sw} ${cy - sw / 2}\r\n        L ${right - size * 0.15} ${cy - sw / 2}\r\n        L ${right - size * 0.15} ${cy + sw / 2}\r\n        L ${left + sw} ${cy + sw / 2}\r\n        L ${left + sw} ${bottom}\r\n        L ${left} ${bottom}\r\n        Z\r\n    `.replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\nfunction createLetterG(cx: number, cy: number, size: number, sw: number): string {\r\n    return createLetterC(cx, cy, size, sw) + ` M ${cx} ${cy} L ${cx + size * 0.5} ${cy} L ${cx + size * 0.5} ${cy + size * 0.5} L ${cx + size * 0.5 - sw} ${cy + size * 0.5} L ${cx + size * 0.5 - sw} ${cy + sw} L ${cx} ${cy + sw} Z`;\r\n}\r\n\r\nfunction createLetterH(cx: number, cy: number, size: number, sw: number): string {\r\n    const left = cx - size * 0.45;\r\n    const right = cx + size * 0.45;\r\n    const top = cy - size * 0.8;\r\n    const bottom = cy + size * 0.8;\r\n\r\n    return `\r\n        M ${left} ${top}\r\n        L ${left + sw} ${top}\r\n        L ${left + sw} ${cy - sw / 2}\r\n        L ${right - sw} ${cy - sw / 2}\r\n        L ${right - sw} ${top}\r\n        L ${right} ${top}\r\n        L ${right} ${bottom}\r\n        L ${right - sw} ${bottom}\r\n        L ${right - sw} ${cy + sw / 2}\r\n        L ${left + sw} ${cy + sw / 2}\r\n        L ${left + sw} ${bottom}\r\n        L ${left} ${bottom}\r\n        Z\r\n    `.replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\nfunction createLetterI(cx: number, cy: number, size: number, sw: number): string {\r\n    const top = cy - size * 0.8;\r\n    const bottom = cy + size * 0.8;\r\n\r\n    return `\r\n        M ${cx - sw / 2} ${top}\r\n        L ${cx + sw / 2} ${top}\r\n        L ${cx + sw / 2} ${bottom}\r\n        L ${cx - sw / 2} ${bottom}\r\n        Z\r\n    `.replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\nfunction createLetterJ(cx: number, cy: number, size: number, sw: number): string {\r\n    const right = cx + size * 0.2;\r\n    const top = cy - size * 0.8;\r\n    const bottom = cy + size * 0.6;\r\n\r\n    return `\r\n        M ${right - sw} ${top}\r\n        L ${right} ${top}\r\n        L ${right} ${bottom}\r\n        C ${right} ${cy + size * 0.9}, ${cx - size * 0.4} ${cy + size * 0.9}, ${cx - size * 0.4} ${bottom}\r\n        L ${cx - size * 0.4} ${bottom - sw}\r\n        C ${cx - size * 0.25} ${bottom}, ${right - sw} ${bottom}, ${right - sw} ${bottom - sw * 0.5}\r\n        Z\r\n    `.replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\nfunction createLetterK(cx: number, cy: number, size: number, sw: number): string {\r\n    const left = cx - size * 0.4;\r\n    const top = cy - size * 0.8;\r\n    const bottom = cy + size * 0.8;\r\n\r\n    return `\r\n        M ${left} ${top}\r\n        L ${left + sw} ${top}\r\n        L ${left + sw} ${cy - sw}\r\n        L ${cx + size * 0.3} ${top}\r\n        L ${cx + size * 0.5} ${top}\r\n        L ${left + sw} ${cy}\r\n        L ${cx + size * 0.5} ${bottom}\r\n        L ${cx + size * 0.3} ${bottom}\r\n        L ${left + sw} ${cy + sw}\r\n        L ${left + sw} ${bottom}\r\n        L ${left} ${bottom}\r\n        Z\r\n    `.replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\nfunction createLetterL(cx: number, cy: number, size: number, sw: number): string {\r\n    const left = cx - size * 0.35;\r\n    const right = cx + size * 0.35;\r\n    const top = cy - size * 0.8;\r\n    const bottom = cy + size * 0.8;\r\n\r\n    return `\r\n        M ${left} ${top}\r\n        L ${left + sw} ${top}\r\n        L ${left + sw} ${bottom - sw}\r\n        L ${right} ${bottom - sw}\r\n        L ${right} ${bottom}\r\n        L ${left} ${bottom}\r\n        Z\r\n    `.replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\nfunction createLetterM(cx: number, cy: number, size: number, sw: number): string {\r\n    const left = cx - size * 0.5;\r\n    const right = cx + size * 0.5;\r\n    const top = cy - size * 0.8;\r\n    const bottom = cy + size * 0.8;\r\n\r\n    return `\r\n        M ${left} ${bottom}\r\n        L ${left} ${top}\r\n        L ${left + sw * 0.5} ${top}\r\n        L ${cx} ${cy}\r\n        L ${right - sw * 0.5} ${top}\r\n        L ${right} ${top}\r\n        L ${right} ${bottom}\r\n        L ${right - sw} ${bottom}\r\n        L ${right - sw} ${top + sw * 2}\r\n        L ${cx} ${cy + sw}\r\n        L ${left + sw} ${top + sw * 2}\r\n        L ${left + sw} ${bottom}\r\n        Z\r\n    `.replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\nfunction createLetterN(cx: number, cy: number, size: number, sw: number): string {\r\n    const left = cx - size * 0.4;\r\n    const right = cx + size * 0.4;\r\n    const top = cy - size * 0.8;\r\n    const bottom = cy + size * 0.8;\r\n\r\n    return `\r\n        M ${left} ${bottom}\r\n        L ${left} ${top}\r\n        L ${left + sw * 0.7} ${top}\r\n        L ${right - sw} ${bottom - sw * 2}\r\n        L ${right - sw} ${top}\r\n        L ${right} ${top}\r\n        L ${right} ${bottom}\r\n        L ${right - sw * 0.7} ${bottom}\r\n        L ${left + sw} ${top + sw * 2}\r\n        L ${left + sw} ${bottom}\r\n        Z\r\n    `.replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\nfunction createLetterO(cx: number, cy: number, size: number, sw: number): string {\r\n    const outer = createBezierCircle(cx, cy, size * 0.75);\r\n    const inner = createBezierCircle(cx, cy, size * 0.75 - sw);\r\n    return outer + ' ' + inner;\r\n}\r\n\r\nfunction createLetterP(cx: number, cy: number, size: number, sw: number): string {\r\n    const left = cx - size * 0.35;\r\n    const top = cy - size * 0.8;\r\n    const bottom = cy + size * 0.8;\r\n\r\n    return `\r\n        M ${left} ${top}\r\n        L ${cx} ${top}\r\n        C ${cx + size * 0.5} ${top}, ${cx + size * 0.5} ${cy + sw}, ${cx} ${cy + sw}\r\n        L ${left + sw} ${cy + sw}\r\n        L ${left + sw} ${bottom}\r\n        L ${left} ${bottom}\r\n        Z\r\n        M ${left + sw} ${top + sw}\r\n        L ${cx - size * 0.05} ${top + sw}\r\n        C ${cx + size * 0.25} ${top + sw}, ${cx + size * 0.25} ${cy - sw * 0.5}, ${cx - size * 0.05} ${cy - sw * 0.5}\r\n        L ${left + sw} ${cy - sw * 0.5}\r\n        Z\r\n    `.replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\nfunction createLetterQ(cx: number, cy: number, size: number, sw: number): string {\r\n    const oPath = createLetterO(cx, cy, size, sw);\r\n    const tailPath = `M ${cx + size * 0.2} ${cy + size * 0.3} L ${cx + size * 0.6} ${cy + size * 0.9} L ${cx + size * 0.6 - sw * 0.7} ${cy + size * 0.9} L ${cx + size * 0.2 - sw * 0.5} ${cy + size * 0.4} Z`;\r\n    return oPath + ' ' + tailPath;\r\n}\r\n\r\nfunction createLetterR(cx: number, cy: number, size: number, sw: number): string {\r\n    const pPath = createLetterP(cx, cy, size, sw);\r\n    const legPath = `M ${cx - size * 0.05} ${cy} L ${cx + size * 0.4} ${cy + size * 0.8} L ${cx + size * 0.25} ${cy + size * 0.8} L ${cx - size * 0.15} ${cy + sw} Z`;\r\n    return pPath + ' ' + legPath;\r\n}\r\n\r\nfunction createLetterS(cx: number, cy: number, size: number, sw: number): string {\r\n    return `\r\n        M ${cx + size * 0.4} ${cy - size * 0.6}\r\n        C ${cx + size * 0.4} ${cy - size * 0.85}, ${cx - size * 0.5} ${cy - size * 0.85}, ${cx - size * 0.5} ${cy - size * 0.5}\r\n        C ${cx - size * 0.5} ${cy - size * 0.2}, ${cx + size * 0.5} ${cy + size * 0.15}, ${cx + size * 0.5} ${cy + size * 0.5}\r\n        C ${cx + size * 0.5} ${cy + size * 0.85}, ${cx - size * 0.4} ${cy + size * 0.85}, ${cx - size * 0.4} ${cy + size * 0.6}\r\n        L ${cx - size * 0.4 + sw} ${cy + size * 0.55}\r\n        C ${cx - size * 0.3} ${cy + size * 0.7}, ${cx + size * 0.35} ${cy + size * 0.7}, ${cx + size * 0.35} ${cy + size * 0.5}\r\n        C ${cx + size * 0.35} ${cy + size * 0.25}, ${cx - size * 0.35} ${cy - size * 0.1}, ${cx - size * 0.35} ${cy - size * 0.5}\r\n        C ${cx - size * 0.35} ${cy - size * 0.7}, ${cx + size * 0.25} ${cy - size * 0.7}, ${cx + size * 0.3} ${cy - size * 0.55}\r\n        Z\r\n    `.replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\nfunction createLetterT(cx: number, cy: number, size: number, sw: number): string {\r\n    const top = cy - size * 0.8;\r\n    const bottom = cy + size * 0.8;\r\n\r\n    return `\r\n        M ${cx - size * 0.45} ${top}\r\n        L ${cx + size * 0.45} ${top}\r\n        L ${cx + size * 0.45} ${top + sw}\r\n        L ${cx + sw / 2} ${top + sw}\r\n        L ${cx + sw / 2} ${bottom}\r\n        L ${cx - sw / 2} ${bottom}\r\n        L ${cx - sw / 2} ${top + sw}\r\n        L ${cx - size * 0.45} ${top + sw}\r\n        Z\r\n    `.replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\nfunction createLetterU(cx: number, cy: number, size: number, sw: number): string {\r\n    const left = cx - size * 0.4;\r\n    const right = cx + size * 0.4;\r\n    const top = cy - size * 0.8;\r\n    const bottom = cy + size * 0.5;\r\n\r\n    return `\r\n        M ${left} ${top}\r\n        L ${left + sw} ${top}\r\n        L ${left + sw} ${bottom}\r\n        C ${left + sw} ${cy + size * 0.75}, ${right - sw} ${cy + size * 0.75}, ${right - sw} ${bottom}\r\n        L ${right - sw} ${top}\r\n        L ${right} ${top}\r\n        L ${right} ${bottom}\r\n        C ${right} ${cy + size * 0.9}, ${left} ${cy + size * 0.9}, ${left} ${bottom}\r\n        Z\r\n    `.replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\nfunction createLetterV(cx: number, cy: number, size: number, sw: number): string {\r\n    const left = cx - size * 0.5;\r\n    const right = cx + size * 0.5;\r\n    const top = cy - size * 0.8;\r\n    const bottom = cy + size * 0.8;\r\n\r\n    return `\r\n        M ${left} ${top}\r\n        L ${left + sw} ${top}\r\n        L ${cx} ${bottom - sw}\r\n        L ${right - sw} ${top}\r\n        L ${right} ${top}\r\n        L ${cx} ${bottom}\r\n        Z\r\n    `.replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\nfunction createLetterW(cx: number, cy: number, size: number, sw: number): string {\r\n    const left = cx - size * 0.55;\r\n    const right = cx + size * 0.55;\r\n    const top = cy - size * 0.8;\r\n    const bottom = cy + size * 0.8;\r\n\r\n    return `\r\n        M ${left} ${top}\r\n        L ${left + sw * 0.7} ${top}\r\n        L ${cx - size * 0.2} ${bottom - sw}\r\n        L ${cx} ${cy}\r\n        L ${cx + size * 0.2} ${bottom - sw}\r\n        L ${right - sw * 0.7} ${top}\r\n        L ${right} ${top}\r\n        L ${cx + size * 0.25} ${bottom}\r\n        L ${cx} ${cy + sw}\r\n        L ${cx - size * 0.25} ${bottom}\r\n        Z\r\n    `.replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\nfunction createLetterX(cx: number, cy: number, size: number, sw: number): string {\r\n    const left = cx - size * 0.45;\r\n    const right = cx + size * 0.45;\r\n    const top = cy - size * 0.8;\r\n    const bottom = cy + size * 0.8;\r\n\r\n    return `\r\n        M ${left} ${top}\r\n        L ${left + sw} ${top}\r\n        L ${cx} ${cy - sw * 0.5}\r\n        L ${right - sw} ${top}\r\n        L ${right} ${top}\r\n        L ${cx + sw * 0.5} ${cy}\r\n        L ${right} ${bottom}\r\n        L ${right - sw} ${bottom}\r\n        L ${cx} ${cy + sw * 0.5}\r\n        L ${left + sw} ${bottom}\r\n        L ${left} ${bottom}\r\n        L ${cx - sw * 0.5} ${cy}\r\n        Z\r\n    `.replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\nfunction createLetterY(cx: number, cy: number, size: number, sw: number): string {\r\n    const left = cx - size * 0.45;\r\n    const right = cx + size * 0.45;\r\n    const top = cy - size * 0.8;\r\n    const bottom = cy + size * 0.8;\r\n\r\n    return `\r\n        M ${left} ${top}\r\n        L ${left + sw} ${top}\r\n        L ${cx} ${cy - sw * 0.3}\r\n        L ${right - sw} ${top}\r\n        L ${right} ${top}\r\n        L ${cx + sw / 2} ${cy}\r\n        L ${cx + sw / 2} ${bottom}\r\n        L ${cx - sw / 2} ${bottom}\r\n        L ${cx - sw / 2} ${cy}\r\n        Z\r\n    `.replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\nfunction createLetterZ(cx: number, cy: number, size: number, sw: number): string {\r\n    const left = cx - size * 0.4;\r\n    const right = cx + size * 0.4;\r\n    const top = cy - size * 0.8;\r\n    const bottom = cy + size * 0.8;\r\n\r\n    return `\r\n        M ${left} ${top}\r\n        L ${right} ${top}\r\n        L ${right} ${top + sw}\r\n        L ${left + sw * 1.5} ${bottom - sw}\r\n        L ${right} ${bottom - sw}\r\n        L ${right} ${bottom}\r\n        L ${left} ${bottom}\r\n        L ${left} ${bottom - sw}\r\n        L ${right - sw * 1.5} ${top + sw}\r\n        L ${left} ${top + sw}\r\n        Z\r\n    `.replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\n// ============================================\r\n// MAIN GENERATOR\r\n// ============================================\r\n\r\nfunction generateSingleFramedLetter(\r\n    params: LogoGenerationParams,\r\n    hashParams: HashParams,\r\n    variant: number\r\n): { logo: GeneratedLogo; quality: QualityMetrics } {\r\n    const { brandName, primaryColor, accentColor } = params;\r\n\r\n    const size = 100;\r\n    const cx = size / 2;\r\n    const cy = size / 2;\r\n\r\n    const rng = createSeededRandom(hashParams.hashHex);\r\n    const algoParams = generateFramedLetterParams(hashParams, rng);\r\n    const svg = createSVG(size);\r\n    const uniqueId = generateLogoId('framed-letter', variant);\r\n\r\n    // Get first letter of brand name\r\n    const letter = brandName.charAt(0).toUpperCase();\r\n\r\n    // Create frame paths\r\n    const frame = createFramePath(algoParams, cx, cy, size);\r\n\r\n    // Add gradient\r\n    const gradientId = `${uniqueId}-grad`;\r\n    svg.addGradient(gradientId, {\r\n        type: 'linear',\r\n        angle: 135,\r\n        stops: [\r\n            { offset: 0, color: lighten(primaryColor, 10) },\r\n            { offset: 1, color: accentColor || darken(primaryColor, 15) },\r\n        ],\r\n    });\r\n\r\n    // Render frame\r\n    svg.path(frame.outer, { fill: `url(#${gradientId})` });\r\n    svg.path(frame.inner, { fill: '#ffffff' });\r\n\r\n    // Create and render letter\r\n    const letterSize = size * algoParams.letterScale * 0.6;\r\n    const letterPath = createLetterPath(letter, cx, cy, letterSize, algoParams.letterWeight);\r\n\r\n    svg.path(letterPath, { fill: `url(#${gradientId})` });\r\n\r\n    const svgString = svg.build();\r\n    const derivedParams = deriveParamsFromHash(hashParams.hashHex);\r\n    const quality = calculateQualityScore(svgString, derivedParams);\r\n    const hash = generateLogoHash(brandName, 'framed-letter', variant, algoParams);\r\n\r\n    const logo: GeneratedLogo = {\r\n        id: uniqueId,\r\n        hash,\r\n        algorithm: 'framed-letter',\r\n        variant: variant + 1,\r\n        svg: svgString,\r\n        viewBox: `0 0 ${size} ${size}`,\r\n        params: algoParams,\r\n        quality,\r\n        meta: {\r\n            brandName,\r\n            generatedAt: Date.now(),\r\n            seed: hashParams.hashHex,\r\n            hashParams,\r\n            geometry: {\r\n                usesGoldenRatio: false,\r\n                gridBased: true,\r\n                bezierCurves: true,\r\n                symmetry: algoParams.frameShape === 'circle' ? 'radial' : 'none',\r\n                pathCount: 3,\r\n                complexity: calculateComplexity(svgString),\r\n            },\r\n            colors: {\r\n                primary: primaryColor,\r\n                accent: accentColor,\r\n                palette: [primaryColor, accentColor || darken(primaryColor, 15)],\r\n            },\r\n        },\r\n    };\r\n\r\n    return { logo, quality };\r\n}\r\n\r\nexport function generateFramedLetter(params: LogoGenerationParams): GeneratedLogo[] {\r\n    const { brandName, variations = 3, minQualityScore = 80, category = 'technology' } = params;\r\n\r\n    const logos: GeneratedLogo[] = [];\r\n    const candidatesPerVariation = 5;\r\n\r\n    for (let v = 0; v < variations; v++) {\r\n        let bestCandidate: GeneratedLogo | null = null;\r\n        let bestScore = 0;\r\n\r\n        for (let c = 0; c < candidatesPerVariation; c++) {\r\n            const hashParams = generateHashParamsSync(brandName, category);\r\n            const { logo, quality } = generateSingleFramedLetter(params, hashParams, v);\r\n\r\n            if (quality.score > bestScore) {\r\n                bestScore = quality.score;\r\n                bestCandidate = logo;\r\n            }\r\n\r\n            if (quality.score >= minQualityScore) break;\r\n        }\r\n\r\n        if (bestCandidate) {\r\n            storeHash({\r\n                hash: bestCandidate.hash,\r\n                brandName,\r\n                algorithm: 'framed-letter',\r\n                variant: v,\r\n                createdAt: Date.now(),\r\n                qualityScore: bestScore,\r\n            });\r\n            logos.push(bestCandidate);\r\n        }\r\n    }\r\n\r\n    return logos;\r\n}\r\n\r\nexport function generateSingleFramedLetterPreview(\r\n    primaryColor: string,\r\n    accentColor?: string,\r\n    letter: string = 'A',\r\n    seed: string = 'preview'\r\n): string {\r\n    const hashParams = generateHashParamsSync(seed, 'technology');\r\n    const rng = createSeededRandom(hashParams.hashHex);\r\n    const params = generateFramedLetterParams(hashParams, rng);\r\n    const size = 100;\r\n    const svg = createSVG(size);\r\n\r\n    const frame = createFramePath(params, size / 2, size / 2, size);\r\n\r\n    svg.addGradient('main', {\r\n        type: 'linear',\r\n        angle: 135,\r\n        stops: [\r\n            { offset: 0, color: primaryColor },\r\n            { offset: 1, color: accentColor || darken(primaryColor, 15) },\r\n        ],\r\n    });\r\n\r\n    svg.path(frame.outer, { fill: 'url(#main)' });\r\n    svg.path(frame.inner, { fill: '#ffffff' });\r\n\r\n    const letterSize = size * params.letterScale * 0.6;\r\n    svg.path(createLetterPath(letter, size / 2, size / 2, letterSize, params.letterWeight), { fill: 'url(#main)' });\r\n\r\n    return svg.build();\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\generators\\gear-cog.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'depth' is assigned a value but never used.","line":69,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":69,"endColumn":16}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Gear Cog Generator (Engineering/Industrial-style)\r\n *\r\n * Creates mechanical gear shapes with teeth details\r\n * Precision engineering aesthetic\r\n * Inspired by industrial and engineering brands\r\n */\r\n\r\nimport {\r\n    GeneratedLogo,\r\n    LogoGenerationParams,\r\n    GearCogParams,\r\n    QualityMetrics,\r\n    HashParams,\r\n} from '../types';\r\nimport {\r\n    createSeededRandom,\r\n    generateBaseParams,\r\n    generateLogoHash,\r\n    generateLogoId,\r\n    generateHashParamsSync,\r\n    deriveParamsFromHash,\r\n    calculateQualityScore,\r\n    calculateComplexity,\r\n    storeHash,\r\n} from '../core/parametric-engine';\r\nimport { createSVG } from '../core/svg-builder';\r\nimport { lighten, darken } from '../core/color-utils';\r\n\r\n// ============================================\r\n// PARAMETER GENERATION\r\n// ============================================\r\n\r\nfunction generateGearCogParams(hashParams: HashParams, rng: () => number): GearCogParams {\r\n    const derived = deriveParamsFromHash(hashParams.hashHex);\r\n    const base = generateBaseParams(rng);\r\n\r\n    const spokes: Array<'none' | 'lines' | 'curved' | 'holes'> = ['none', 'lines', 'curved', 'holes'];\r\n\r\n    return {\r\n        ...base,\r\n        toothCount: Math.max(8, Math.min(20, Math.floor(derived.elementCount * 1.2 + 8))),\r\n        toothDepth: derived.curveTension * 6 + 4,\r\n        hubSize: derived.centerRadius * 0.3 + 0.2,\r\n        spokeStyle: spokes[Math.floor(derived.styleVariant % 4)],\r\n        toothShape: derived.taperRatio > 0.5 ? 'rounded' : 'squared',\r\n        innerRing: derived.layerCount > 2,\r\n        bevelEffect: derived.perspectiveStrength > 0.5,\r\n        spokeCount: Math.max(3, Math.min(8, Math.floor(derived.colorPlacement * 5 + 3))),\r\n        outerRadius: derived.scaleFactor * 8 + 32,\r\n        toothWidth: derived.strokeWidth * 0.3 + 0.4,\r\n    };\r\n}\r\n\r\n// ============================================\r\n// PATH GENERATION\r\n// ============================================\r\n\r\nfunction generateGearPath(\r\n    params: GearCogParams,\r\n    cx: number,\r\n    cy: number,\r\n    scale: number = 1\r\n): string {\r\n    const { toothCount, toothDepth, outerRadius, toothShape, toothWidth } = params;\r\n\r\n    const innerRadius = (outerRadius - toothDepth) * scale;\r\n    const outer = outerRadius * scale;\r\n    const depth = toothDepth * scale;\r\n\r\n    let path = '';\r\n    const angleStep = (Math.PI * 2) / toothCount;\r\n    const toothAngle = angleStep * toothWidth;\r\n    const gapAngle = angleStep * (1 - toothWidth);\r\n\r\n    for (let i = 0; i < toothCount; i++) {\r\n        const startAngle = i * angleStep - Math.PI / 2;\r\n\r\n        // Inner arc start\r\n        const innerStartX = cx + innerRadius * Math.cos(startAngle);\r\n        const innerStartY = cy + innerRadius * Math.sin(startAngle);\r\n\r\n        if (i === 0) {\r\n            path += `M ${innerStartX.toFixed(2)} ${innerStartY.toFixed(2)}`;\r\n        }\r\n\r\n        // Tooth rise\r\n        const toothStartAngle = startAngle + gapAngle * 0.5;\r\n        const toothStartX = cx + innerRadius * Math.cos(toothStartAngle);\r\n        const toothStartY = cy + innerRadius * Math.sin(toothStartAngle);\r\n\r\n        // Tooth outer points\r\n        const toothOuterStart = toothStartAngle;\r\n        const toothOuterEnd = toothStartAngle + toothAngle;\r\n\r\n        const outerStartX = cx + outer * Math.cos(toothOuterStart);\r\n        const outerStartY = cy + outer * Math.sin(toothOuterStart);\r\n        const outerEndX = cx + outer * Math.cos(toothOuterEnd);\r\n        const outerEndY = cy + outer * Math.sin(toothOuterEnd);\r\n\r\n        // Tooth end inner point\r\n        const toothEndAngle = toothOuterEnd;\r\n        const toothEndX = cx + innerRadius * Math.cos(toothEndAngle);\r\n        const toothEndY = cy + innerRadius * Math.sin(toothEndAngle);\r\n\r\n        // Inner arc to tooth start\r\n        const arcMidAngle = (startAngle + toothStartAngle) / 2;\r\n        const arcMidX = cx + innerRadius * Math.cos(arcMidAngle);\r\n        const arcMidY = cy + innerRadius * Math.sin(arcMidAngle);\r\n\r\n        path += ` C ${arcMidX.toFixed(2)} ${arcMidY.toFixed(2)},`;\r\n        path += ` ${toothStartX.toFixed(2)} ${toothStartY.toFixed(2)},`;\r\n        path += ` ${toothStartX.toFixed(2)} ${toothStartY.toFixed(2)}`;\r\n\r\n        // Rise to tooth\r\n        if (toothShape === 'rounded') {\r\n            const cp1X = toothStartX + (outerStartX - toothStartX) * 0.3;\r\n            const cp1Y = toothStartY + (outerStartY - toothStartY) * 0.3;\r\n            path += ` C ${cp1X.toFixed(2)} ${cp1Y.toFixed(2)},`;\r\n            path += ` ${outerStartX.toFixed(2)} ${outerStartY.toFixed(2)},`;\r\n            path += ` ${outerStartX.toFixed(2)} ${outerStartY.toFixed(2)}`;\r\n        } else {\r\n            path += ` L ${outerStartX.toFixed(2)} ${outerStartY.toFixed(2)}`;\r\n        }\r\n\r\n        // Tooth top arc\r\n        const toothMidAngle = (toothOuterStart + toothOuterEnd) / 2;\r\n        const toothMidX = cx + outer * Math.cos(toothMidAngle);\r\n        const toothMidY = cy + outer * Math.sin(toothMidAngle);\r\n\r\n        path += ` C ${toothMidX.toFixed(2)} ${toothMidY.toFixed(2)},`;\r\n        path += ` ${outerEndX.toFixed(2)} ${outerEndY.toFixed(2)},`;\r\n        path += ` ${outerEndX.toFixed(2)} ${outerEndY.toFixed(2)}`;\r\n\r\n        // Fall from tooth\r\n        if (toothShape === 'rounded') {\r\n            const cp2X = outerEndX + (toothEndX - outerEndX) * 0.7;\r\n            const cp2Y = outerEndY + (toothEndY - outerEndY) * 0.7;\r\n            path += ` C ${cp2X.toFixed(2)} ${cp2Y.toFixed(2)},`;\r\n            path += ` ${toothEndX.toFixed(2)} ${toothEndY.toFixed(2)},`;\r\n            path += ` ${toothEndX.toFixed(2)} ${toothEndY.toFixed(2)}`;\r\n        } else {\r\n            path += ` L ${toothEndX.toFixed(2)} ${toothEndY.toFixed(2)}`;\r\n        }\r\n    }\r\n\r\n    path += ' Z';\r\n    return path;\r\n}\r\n\r\nfunction generateHubPath(\r\n    cx: number,\r\n    cy: number,\r\n    hubRadius: number\r\n): string {\r\n    const k = 0.5522847498;\r\n    return `\r\n        M ${cx.toFixed(2)} ${(cy - hubRadius).toFixed(2)}\r\n        C ${(cx + hubRadius * k).toFixed(2)} ${(cy - hubRadius).toFixed(2)},\r\n          ${(cx + hubRadius).toFixed(2)} ${(cy - hubRadius * k).toFixed(2)},\r\n          ${(cx + hubRadius).toFixed(2)} ${cy.toFixed(2)}\r\n        C ${(cx + hubRadius).toFixed(2)} ${(cy + hubRadius * k).toFixed(2)},\r\n          ${(cx + hubRadius * k).toFixed(2)} ${(cy + hubRadius).toFixed(2)},\r\n          ${cx.toFixed(2)} ${(cy + hubRadius).toFixed(2)}\r\n        C ${(cx - hubRadius * k).toFixed(2)} ${(cy + hubRadius).toFixed(2)},\r\n          ${(cx - hubRadius).toFixed(2)} ${(cy + hubRadius * k).toFixed(2)},\r\n          ${(cx - hubRadius).toFixed(2)} ${cy.toFixed(2)}\r\n        C ${(cx - hubRadius).toFixed(2)} ${(cy - hubRadius * k).toFixed(2)},\r\n          ${(cx - hubRadius * k).toFixed(2)} ${(cy - hubRadius).toFixed(2)},\r\n          ${cx.toFixed(2)} ${(cy - hubRadius).toFixed(2)}\r\n        Z\r\n    `.replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\nfunction generateSpokePath(\r\n    cx: number,\r\n    cy: number,\r\n    innerRadius: number,\r\n    outerRadius: number,\r\n    angle: number,\r\n    style: 'lines' | 'curved'\r\n): string {\r\n    const innerX = cx + innerRadius * Math.cos(angle);\r\n    const innerY = cy + innerRadius * Math.sin(angle);\r\n    const outerX = cx + outerRadius * Math.cos(angle);\r\n    const outerY = cy + outerRadius * Math.sin(angle);\r\n\r\n    if (style === 'curved') {\r\n        const midRadius = (innerRadius + outerRadius) / 2;\r\n        const curveOffset = 5;\r\n        const midX = cx + midRadius * Math.cos(angle) + curveOffset * Math.cos(angle + Math.PI / 2);\r\n        const midY = cy + midRadius * Math.sin(angle) + curveOffset * Math.sin(angle + Math.PI / 2);\r\n\r\n        return `\r\n            M ${innerX.toFixed(2)} ${innerY.toFixed(2)}\r\n            C ${midX.toFixed(2)} ${midY.toFixed(2)},\r\n              ${midX.toFixed(2)} ${midY.toFixed(2)},\r\n              ${outerX.toFixed(2)} ${outerY.toFixed(2)}\r\n        `.replace(/\\s+/g, ' ').trim();\r\n    }\r\n\r\n    return `\r\n        M ${innerX.toFixed(2)} ${innerY.toFixed(2)}\r\n        L ${outerX.toFixed(2)} ${outerY.toFixed(2)}\r\n    `.replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\n// ============================================\r\n// MAIN GENERATOR\r\n// ============================================\r\n\r\nfunction generateSingleGearCog(\r\n    params: LogoGenerationParams,\r\n    hashParams: HashParams,\r\n    variant: number\r\n): { logo: GeneratedLogo; quality: QualityMetrics } {\r\n    const { brandName, primaryColor, accentColor } = params;\r\n\r\n    const size = 100;\r\n    const cx = size / 2;\r\n    const cy = size / 2;\r\n\r\n    const rng = createSeededRandom(hashParams.hashHex);\r\n    const algoParams = generateGearCogParams(hashParams, rng);\r\n    const svg = createSVG(size);\r\n    const uniqueId = generateLogoId('gear-cog', variant);\r\n\r\n    // Main gradient\r\n    const gradientId = `${uniqueId}-grad`;\r\n    svg.addGradient(gradientId, {\r\n        type: 'radial',\r\n        stops: [\r\n            { offset: 0, color: lighten(primaryColor, 15) },\r\n            { offset: 0.7, color: primaryColor },\r\n            { offset: 1, color: darken(primaryColor, 20) },\r\n        ],\r\n    });\r\n\r\n    // Main gear\r\n    const gearPath = generateGearPath(algoParams, cx, cy);\r\n    svg.path(gearPath, { fill: `url(#${gradientId})` });\r\n\r\n    // Inner ring\r\n    if (algoParams.innerRing) {\r\n        const innerRingRadius = (algoParams.outerRadius - algoParams.toothDepth) * 0.7;\r\n        const innerRingPath = generateHubPath(cx, cy, innerRingRadius);\r\n        svg.path(innerRingPath, { fill: darken(primaryColor, 15) });\r\n    }\r\n\r\n    // Hub\r\n    const hubRadius = algoParams.outerRadius * algoParams.hubSize;\r\n    const hubPath = generateHubPath(cx, cy, hubRadius);\r\n    svg.path(hubPath, { fill: accentColor || lighten(primaryColor, 30) });\r\n\r\n    // Center hole\r\n    const holePath = generateHubPath(cx, cy, hubRadius * 0.4);\r\n    svg.path(holePath, { fill: darken(primaryColor, 30) });\r\n\r\n    // Spokes\r\n    if (algoParams.spokeStyle === 'lines' || algoParams.spokeStyle === 'curved') {\r\n        const spokeInner = hubRadius * 1.1;\r\n        const spokeOuter = (algoParams.outerRadius - algoParams.toothDepth) * 0.9;\r\n\r\n        for (let i = 0; i < algoParams.spokeCount; i++) {\r\n            const angle = (i / algoParams.spokeCount) * Math.PI * 2 - Math.PI / 2;\r\n            const spokePath = generateSpokePath(cx, cy, spokeInner, spokeOuter, angle, algoParams.spokeStyle);\r\n            svg.path(spokePath, {\r\n                fill: 'none',\r\n                stroke: darken(primaryColor, 10),\r\n                strokeWidth: '2.5',\r\n                strokeLinecap: 'round',\r\n            });\r\n        }\r\n    }\r\n\r\n    const svgString = svg.build();\r\n    const derivedParams = deriveParamsFromHash(hashParams.hashHex);\r\n    const quality = calculateQualityScore(svgString, derivedParams);\r\n    const hash = generateLogoHash(brandName, 'gear-cog', variant, algoParams);\r\n\r\n    const logo: GeneratedLogo = {\r\n        id: uniqueId,\r\n        hash,\r\n        algorithm: 'gear-cog',\r\n        variant: variant + 1,\r\n        svg: svgString,\r\n        viewBox: `0 0 ${size} ${size}`,\r\n        params: algoParams,\r\n        quality,\r\n        meta: {\r\n            brandName,\r\n            generatedAt: Date.now(),\r\n            seed: hashParams.hashHex,\r\n            hashParams,\r\n            geometry: {\r\n                usesGoldenRatio: false,\r\n                gridBased: false,\r\n                bezierCurves: true,\r\n                symmetry: 'rotational',\r\n                pathCount: 3 + (algoParams.innerRing ? 1 : 0) + (algoParams.spokeStyle !== 'none' ? algoParams.spokeCount : 0),\r\n                complexity: calculateComplexity(svgString),\r\n            },\r\n            colors: {\r\n                primary: primaryColor,\r\n                accent: accentColor,\r\n                palette: [primaryColor, accentColor || lighten(primaryColor, 30)],\r\n            },\r\n        },\r\n    };\r\n\r\n    return { logo, quality };\r\n}\r\n\r\nexport function generateGearCog(params: LogoGenerationParams): GeneratedLogo[] {\r\n    const { brandName, variations = 3, minQualityScore = 85, category = 'technology' } = params;\r\n\r\n    const logos: GeneratedLogo[] = [];\r\n    const candidatesPerVariation = 5;\r\n\r\n    for (let v = 0; v < variations; v++) {\r\n        let bestCandidate: GeneratedLogo | null = null;\r\n        let bestScore = 0;\r\n\r\n        for (let c = 0; c < candidatesPerVariation; c++) {\r\n            const hashParams = generateHashParamsSync(brandName, category);\r\n            const { logo, quality } = generateSingleGearCog(params, hashParams, v);\r\n\r\n            if (quality.score > bestScore) {\r\n                bestScore = quality.score;\r\n                bestCandidate = logo;\r\n            }\r\n\r\n            if (quality.score >= minQualityScore) break;\r\n        }\r\n\r\n        if (bestCandidate) {\r\n            storeHash({\r\n                hash: bestCandidate.hash,\r\n                brandName,\r\n                algorithm: 'gear-cog',\r\n                variant: v,\r\n                createdAt: Date.now(),\r\n                qualityScore: bestScore,\r\n            });\r\n            logos.push(bestCandidate);\r\n        }\r\n    }\r\n\r\n    return logos;\r\n}\r\n\r\nexport function generateSingleGearCogPreview(\r\n    primaryColor: string,\r\n    accentColor?: string,\r\n    seed: string = 'preview'\r\n): string {\r\n    const hashParams = generateHashParamsSync(seed, 'technology');\r\n    const rng = createSeededRandom(hashParams.hashHex);\r\n    const params = generateGearCogParams(hashParams, rng);\r\n    const size = 100;\r\n    const svg = createSVG(size);\r\n\r\n    svg.addGradient('main', {\r\n        type: 'radial',\r\n        stops: [\r\n            { offset: 0, color: lighten(primaryColor, 10) },\r\n            { offset: 1, color: darken(primaryColor, 15) },\r\n        ],\r\n    });\r\n\r\n    const path = generateGearPath(params, size / 2, size / 2);\r\n    svg.path(path, { fill: 'url(#main)' });\r\n\r\n    return svg.build();\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\generators\\gradient-bars.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'createBezierRoundedRect' is defined but never used.","line":26,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":26,"endColumn":28},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'totalWidth' is assigned a value but never used.","line":65,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":65,"endColumn":21},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'barY' is assigned a value but never used.","line":79,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":79,"endColumn":15}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Gradient Bars Generator (Stripe-style)\r\n *\r\n * Creates parallel diagonal bars with gradient fills\r\n * Clean, modern fintech aesthetic\r\n * All shapes use bezier curves only\r\n */\r\n\r\nimport {\r\n    GeneratedLogo,\r\n    LogoGenerationParams,\r\n    GradientBarsParams,\r\n    QualityMetrics,\r\n    HashParams,\r\n} from '../types';\r\nimport {\r\n    createSeededRandom,\r\n    generateBaseParams,\r\n    generateLogoHash,\r\n    generateLogoId,\r\n    generateHashParamsSync,\r\n    deriveParamsFromHash,\r\n    calculateQualityScore,\r\n    calculateComplexity,\r\n    storeHash,\r\n    createBezierRoundedRect,\r\n} from '../core/parametric-engine';\r\nimport { createSVG } from '../core/svg-builder';\r\nimport { lighten, darken, mixColors } from '../core/color-utils';\r\n\r\n// ============================================\r\n// PARAMETER GENERATION\r\n// ============================================\r\n\r\nfunction generateGradientBarsParams(hashParams: HashParams, rng: () => number): GradientBarsParams {\r\n    const derived = deriveParamsFromHash(hashParams.hashHex);\r\n    const base = generateBaseParams(rng);\r\n\r\n    return {\r\n        ...base,\r\n        barCount: Math.max(2, Math.min(6, Math.round(derived.elementCount / 3))),\r\n        barWidth: Math.max(8, Math.min(25, derived.strokeWidth * 2)),\r\n        barAngle: derived.rotationOffset > 180 ? -(derived.rotationOffset - 180) / 4 : derived.rotationOffset / 4 - 22.5,\r\n        barGap: Math.max(3, Math.min(15, derived.spacingFactor * 5)),\r\n        barRoundness: derived.curveTension,\r\n        gradientIntensity: derived.organicAmount,\r\n        staggerAmount: derived.jitterAmount * 3,\r\n    };\r\n}\r\n\r\n// ============================================\r\n// BAR PATH GENERATION\r\n// ============================================\r\n\r\n/**\r\n * Generate a single diagonal bar using bezier curves\r\n */\r\nfunction generateBarPath(\r\n    params: GradientBarsParams,\r\n    index: number,\r\n    totalBars: number,\r\n    viewSize: number\r\n): string {\r\n    const padding = viewSize * 0.1;\r\n    const totalWidth = viewSize - padding * 2;\r\n    const barWidth = params.barWidth;\r\n    const barGap = params.barGap;\r\n    const groupWidth = totalBars * barWidth + (totalBars - 1) * barGap;\r\n    const startX = (viewSize - groupWidth) / 2;\r\n\r\n    // Calculate bar position\r\n    const barX = startX + index * (barWidth + barGap);\r\n\r\n    // Stagger for visual interest\r\n    const stagger = params.staggerAmount * (index % 2 === 0 ? 1 : -1) * 0.1;\r\n\r\n    // Bar dimensions\r\n    const barHeight = viewSize * 0.75;\r\n    const barY = (viewSize - barHeight) / 2 + stagger;\r\n\r\n    // Calculate roundness\r\n    const cornerRadius = barWidth * params.barRoundness * 0.5;\r\n\r\n    // Apply rotation by calculating transformed corners\r\n    const angleRad = (params.barAngle * Math.PI) / 180;\r\n    const centerX = barX + barWidth / 2;\r\n    const centerY = viewSize / 2;\r\n\r\n    // Create rotated rounded rectangle using bezier curves\r\n    return createRotatedRoundedBar(\r\n        centerX,\r\n        centerY,\r\n        barWidth,\r\n        barHeight,\r\n        cornerRadius,\r\n        angleRad\r\n    );\r\n}\r\n\r\n/**\r\n * Create a rotated rounded bar using bezier curves\r\n */\r\nfunction createRotatedRoundedBar(\r\n    cx: number,\r\n    cy: number,\r\n    width: number,\r\n    height: number,\r\n    radius: number,\r\n    angle: number\r\n): string {\r\n    const cos = Math.cos(angle);\r\n    const sin = Math.sin(angle);\r\n\r\n    const halfW = width / 2;\r\n    const halfH = height / 2;\r\n    const r = Math.min(radius, halfW, halfH);\r\n    const k = 0.5522847498; // Bezier circle constant\r\n\r\n    // Helper to rotate point around center\r\n    const rotate = (x: number, y: number) => ({\r\n        x: cx + (x - cx) * cos - (y - cy) * sin,\r\n        y: cy + (x - cx) * sin + (y - cy) * cos,\r\n    });\r\n\r\n    // Corner points (before rotation)\r\n    const corners = {\r\n        topLeft: { x: cx - halfW, y: cy - halfH },\r\n        topRight: { x: cx + halfW, y: cy - halfH },\r\n        bottomRight: { x: cx + halfW, y: cy + halfH },\r\n        bottomLeft: { x: cx - halfW, y: cy + halfH },\r\n    };\r\n\r\n    // Build the path with bezier corners\r\n    const p = (pt: { x: number; y: number }) => `${pt.x.toFixed(2)} ${pt.y.toFixed(2)}`;\r\n\r\n    // Start at top-left corner (after corner radius)\r\n    const start = rotate(corners.topLeft.x + r, corners.topLeft.y);\r\n\r\n    let path = `M ${p(start)}`;\r\n\r\n    // Top edge\r\n    const topEnd = rotate(corners.topRight.x - r, corners.topRight.y);\r\n    path += ` L ${p(topEnd)}`;\r\n\r\n    // Top-right corner\r\n    const tr1 = rotate(corners.topRight.x - r + r * k, corners.topRight.y);\r\n    const tr2 = rotate(corners.topRight.x, corners.topRight.y + r - r * k);\r\n    const tr3 = rotate(corners.topRight.x, corners.topRight.y + r);\r\n    path += ` C ${p(tr1)}, ${p(tr2)}, ${p(tr3)}`;\r\n\r\n    // Right edge\r\n    const rightEnd = rotate(corners.bottomRight.x, corners.bottomRight.y - r);\r\n    path += ` L ${p(rightEnd)}`;\r\n\r\n    // Bottom-right corner\r\n    const br1 = rotate(corners.bottomRight.x, corners.bottomRight.y - r + r * k);\r\n    const br2 = rotate(corners.bottomRight.x - r + r * k, corners.bottomRight.y);\r\n    const br3 = rotate(corners.bottomRight.x - r, corners.bottomRight.y);\r\n    path += ` C ${p(br1)}, ${p(br2)}, ${p(br3)}`;\r\n\r\n    // Bottom edge\r\n    const bottomEnd = rotate(corners.bottomLeft.x + r, corners.bottomLeft.y);\r\n    path += ` L ${p(bottomEnd)}`;\r\n\r\n    // Bottom-left corner\r\n    const bl1 = rotate(corners.bottomLeft.x + r - r * k, corners.bottomLeft.y);\r\n    const bl2 = rotate(corners.bottomLeft.x, corners.bottomLeft.y - r + r * k);\r\n    const bl3 = rotate(corners.bottomLeft.x, corners.bottomLeft.y - r);\r\n    path += ` C ${p(bl1)}, ${p(bl2)}, ${p(bl3)}`;\r\n\r\n    // Left edge\r\n    const leftEnd = rotate(corners.topLeft.x, corners.topLeft.y + r);\r\n    path += ` L ${p(leftEnd)}`;\r\n\r\n    // Top-left corner\r\n    const tl1 = rotate(corners.topLeft.x, corners.topLeft.y + r - r * k);\r\n    const tl2 = rotate(corners.topLeft.x + r - r * k, corners.topLeft.y);\r\n    path += ` C ${p(tl1)}, ${p(tl2)}, ${p(start)}`;\r\n\r\n    path += ' Z';\r\n\r\n    return path;\r\n}\r\n\r\n// ============================================\r\n// MAIN GENERATOR\r\n// ============================================\r\n\r\nfunction generateSingleGradientBars(\r\n    params: LogoGenerationParams,\r\n    hashParams: HashParams,\r\n    variant: number\r\n): { logo: GeneratedLogo; quality: QualityMetrics } {\r\n    const { brandName, primaryColor, accentColor } = params;\r\n\r\n    const size = 100;\r\n    const rng = createSeededRandom(hashParams.hashHex);\r\n    const algoParams = generateGradientBarsParams(hashParams, rng);\r\n    const svg = createSVG(size);\r\n    const uniqueId = generateLogoId('gradient-bars', variant);\r\n\r\n    // Generate and render bars\r\n    for (let i = 0; i < algoParams.barCount; i++) {\r\n        const barPath = generateBarPath(algoParams, i, algoParams.barCount, size);\r\n        const barGradId = `${uniqueId}-bar-${i}`;\r\n        const t = i / (algoParams.barCount - 1);\r\n\r\n        // Create gradient for each bar\r\n        const gradientAngle = algoParams.barAngle + 90;\r\n        svg.addGradient(barGradId, {\r\n            type: 'linear',\r\n            angle: gradientAngle,\r\n            stops: [\r\n                { offset: 0, color: mixColors(lighten(primaryColor, 20), accentColor || primaryColor, t) },\r\n                { offset: 1, color: mixColors(primaryColor, accentColor || darken(primaryColor, 15), t) },\r\n            ],\r\n        });\r\n\r\n        svg.path(barPath, { fill: `url(#${barGradId})` });\r\n    }\r\n\r\n    const svgString = svg.build();\r\n    const derivedParams = deriveParamsFromHash(hashParams.hashHex);\r\n    const quality = calculateQualityScore(svgString, derivedParams);\r\n    const hash = generateLogoHash(brandName, 'gradient-bars', variant, algoParams);\r\n\r\n    const logo: GeneratedLogo = {\r\n        id: uniqueId,\r\n        hash,\r\n        algorithm: 'gradient-bars',\r\n        variant: variant + 1,\r\n        svg: svgString,\r\n        viewBox: `0 0 ${size} ${size}`,\r\n        params: algoParams,\r\n        quality,\r\n        meta: {\r\n            brandName,\r\n            generatedAt: Date.now(),\r\n            seed: hashParams.hashHex,\r\n            hashParams,\r\n            geometry: {\r\n                usesGoldenRatio: false,\r\n                gridBased: true,\r\n                bezierCurves: true,\r\n                symmetry: 'none',\r\n                pathCount: algoParams.barCount,\r\n                complexity: calculateComplexity(svgString),\r\n            },\r\n            colors: {\r\n                primary: primaryColor,\r\n                accent: accentColor,\r\n                palette: [primaryColor, accentColor || darken(primaryColor, 15)],\r\n            },\r\n        },\r\n    };\r\n\r\n    return { logo, quality };\r\n}\r\n\r\nexport function generateGradientBars(params: LogoGenerationParams): GeneratedLogo[] {\r\n    const { brandName, variations = 3, minQualityScore = 80, category = 'finance' } = params;\r\n\r\n    const logos: GeneratedLogo[] = [];\r\n    const candidatesPerVariation = 5;\r\n\r\n    for (let v = 0; v < variations; v++) {\r\n        let bestCandidate: GeneratedLogo | null = null;\r\n        let bestScore = 0;\r\n\r\n        for (let c = 0; c < candidatesPerVariation; c++) {\r\n            const hashParams = generateHashParamsSync(brandName, category);\r\n            const { logo, quality } = generateSingleGradientBars(params, hashParams, v);\r\n\r\n            if (quality.score > bestScore) {\r\n                bestScore = quality.score;\r\n                bestCandidate = logo;\r\n            }\r\n\r\n            if (quality.score >= minQualityScore) break;\r\n        }\r\n\r\n        if (bestCandidate) {\r\n            storeHash({\r\n                hash: bestCandidate.hash,\r\n                brandName,\r\n                algorithm: 'gradient-bars',\r\n                variant: v,\r\n                createdAt: Date.now(),\r\n                qualityScore: bestScore,\r\n            });\r\n            logos.push(bestCandidate);\r\n        }\r\n    }\r\n\r\n    return logos;\r\n}\r\n\r\nexport function generateSingleGradientBarsPreview(\r\n    primaryColor: string,\r\n    accentColor?: string,\r\n    seed: string = 'preview'\r\n): string {\r\n    const hashParams = generateHashParamsSync(seed, 'finance');\r\n    const rng = createSeededRandom(hashParams.hashHex);\r\n    const params = generateGradientBarsParams(hashParams, rng);\r\n    const size = 100;\r\n    const svg = createSVG(size);\r\n\r\n    for (let i = 0; i < params.barCount; i++) {\r\n        const barPath = generateBarPath(params, i, params.barCount, size);\r\n        const t = i / (params.barCount - 1);\r\n\r\n        svg.addGradient(`bar-${i}`, {\r\n            type: 'linear',\r\n            angle: params.barAngle + 90,\r\n            stops: [\r\n                { offset: 0, color: mixColors(primaryColor, accentColor || primaryColor, t) },\r\n                { offset: 1, color: mixColors(primaryColor, darken(primaryColor, 20), t) },\r\n            ],\r\n        });\r\n\r\n        svg.path(barPath, { fill: `url(#bar-${i})` });\r\n    }\r\n\r\n    return svg.build();\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\generators\\heart-love.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'heartRotation' is assigned a value but never used.","line":65,"column":63,"nodeType":null,"messageId":"unusedVar","endLine":65,"endColumn":76}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Heart Love Generator (Social/Dating-style)\r\n *\r\n * Creates heart symbols with various styles\r\n * Classic to modern geometric heart forms\r\n * Inspired by social and dating platforms\r\n */\r\n\r\nimport {\r\n    GeneratedLogo,\r\n    LogoGenerationParams,\r\n    HeartLoveParams,\r\n    QualityMetrics,\r\n    HashParams,\r\n} from '../types';\r\nimport {\r\n    createSeededRandom,\r\n    generateBaseParams,\r\n    generateLogoHash,\r\n    generateLogoId,\r\n    generateHashParamsSync,\r\n    deriveParamsFromHash,\r\n    calculateQualityScore,\r\n    calculateComplexity,\r\n    storeHash,\r\n} from '../core/parametric-engine';\r\nimport { createSVG } from '../core/svg-builder';\r\nimport { lighten, darken } from '../core/color-utils';\r\n\r\n// ============================================\r\n// PARAMETER GENERATION\r\n// ============================================\r\n\r\nfunction generateHeartLoveParams(hashParams: HashParams, rng: () => number): HeartLoveParams {\r\n    const derived = deriveParamsFromHash(hashParams.hashHex);\r\n    const base = generateBaseParams(rng);\r\n\r\n    const styles: Array<'classic' | 'modern' | 'geometric' | 'organic'> = ['classic', 'modern', 'geometric', 'organic'];\r\n\r\n    return {\r\n        ...base,\r\n        heartStyle: styles[Math.floor(derived.styleVariant % 4)],\r\n        curveDepth: derived.curveTension * 0.5 + 0.3,\r\n        splitAmount: derived.centerRadius * 0.02,\r\n        pulseEffect: derived.organicAmount > 0.6,\r\n        heartRotation: (derived.rotationOffset - 180) * 0.1,\r\n        innerHeart: derived.layerCount > 2,\r\n        innerScale: derived.taperRatio * 0.4 + 0.3,\r\n        strokeOnly: derived.styleVariant > 6,\r\n        heartWidth: derived.scaleFactor * 0.4 + 0.8,\r\n        tipSharpness: derived.perspectiveStrength,\r\n    };\r\n}\r\n\r\n// ============================================\r\n// PATH GENERATION\r\n// ============================================\r\n\r\nfunction generateHeartPath(\r\n    params: HeartLoveParams,\r\n    cx: number,\r\n    cy: number,\r\n    scale: number = 1\r\n): string {\r\n    const { heartStyle, curveDepth, heartWidth, tipSharpness, heartRotation } = params;\r\n\r\n    const width = 40 * scale * heartWidth;\r\n    const height = 38 * scale;\r\n\r\n    // Heart anatomy\r\n    const topY = cy - height * 0.35;\r\n    const bottomY = cy + height * 0.65;\r\n    const leftX = cx - width / 2;\r\n    const rightX = cx + width / 2;\r\n\r\n    // Curve control points based on style\r\n    let lobeHeight = height * curveDepth;\r\n    let lobeWidth = width * 0.3;\r\n    let tipCurve = tipSharpness * 5;\r\n\r\n    if (heartStyle === 'geometric') {\r\n        lobeHeight *= 0.7;\r\n        lobeWidth *= 0.8;\r\n        tipCurve = 0;\r\n    } else if (heartStyle === 'organic') {\r\n        lobeHeight *= 1.1;\r\n        lobeWidth *= 1.1;\r\n    }\r\n\r\n    // Heart path with bezier curves\r\n    const path = `\r\n        M ${cx.toFixed(2)} ${(topY + lobeHeight * 0.3).toFixed(2)}\r\n        C ${(cx - lobeWidth * 0.5).toFixed(2)} ${(topY - lobeHeight * 0.3).toFixed(2)},\r\n          ${(leftX - lobeWidth * 0.3).toFixed(2)} ${(topY - lobeHeight * 0.2).toFixed(2)},\r\n          ${leftX.toFixed(2)} ${(topY + lobeHeight * 0.4).toFixed(2)}\r\n        C ${(leftX - lobeWidth * 0.2).toFixed(2)} ${(topY + lobeHeight).toFixed(2)},\r\n          ${(leftX + width * 0.1).toFixed(2)} ${(cy + height * 0.15).toFixed(2)},\r\n          ${cx.toFixed(2)} ${(bottomY - tipCurve).toFixed(2)}\r\n        C ${(cx).toFixed(2)} ${bottomY.toFixed(2)},\r\n          ${cx.toFixed(2)} ${bottomY.toFixed(2)},\r\n          ${cx.toFixed(2)} ${(bottomY - tipCurve).toFixed(2)}\r\n        C ${(rightX - width * 0.1).toFixed(2)} ${(cy + height * 0.15).toFixed(2)},\r\n          ${(rightX + lobeWidth * 0.2).toFixed(2)} ${(topY + lobeHeight).toFixed(2)},\r\n          ${rightX.toFixed(2)} ${(topY + lobeHeight * 0.4).toFixed(2)}\r\n        C ${(rightX + lobeWidth * 0.3).toFixed(2)} ${(topY - lobeHeight * 0.2).toFixed(2)},\r\n          ${(cx + lobeWidth * 0.5).toFixed(2)} ${(topY - lobeHeight * 0.3).toFixed(2)},\r\n          ${cx.toFixed(2)} ${(topY + lobeHeight * 0.3).toFixed(2)}\r\n        Z\r\n    `.replace(/\\s+/g, ' ').trim();\r\n\r\n    return path;\r\n}\r\n\r\n// ============================================\r\n// MAIN GENERATOR\r\n// ============================================\r\n\r\nfunction generateSingleHeartLove(\r\n    params: LogoGenerationParams,\r\n    hashParams: HashParams,\r\n    variant: number\r\n): { logo: GeneratedLogo; quality: QualityMetrics } {\r\n    const { brandName, primaryColor, accentColor } = params;\r\n\r\n    const size = 100;\r\n    const cx = size / 2;\r\n    const cy = size / 2;\r\n\r\n    const rng = createSeededRandom(hashParams.hashHex);\r\n    const algoParams = generateHeartLoveParams(hashParams, rng);\r\n    const svg = createSVG(size);\r\n    const uniqueId = generateLogoId('heart-love', variant);\r\n\r\n    // Gradient\r\n    const gradientId = `${uniqueId}-grad`;\r\n    svg.addGradient(gradientId, {\r\n        type: 'radial',\r\n        stops: [\r\n            { offset: 0, color: lighten(primaryColor, 25) },\r\n            { offset: 0.4, color: primaryColor },\r\n            { offset: 1, color: darken(primaryColor, 15) },\r\n        ],\r\n    });\r\n\r\n    // Main heart\r\n    const heartPath = generateHeartPath(algoParams, cx, cy);\r\n\r\n    if (algoParams.strokeOnly) {\r\n        svg.path(heartPath, {\r\n            fill: 'none',\r\n            stroke: `url(#${gradientId})`,\r\n            strokeWidth: '3',\r\n        });\r\n    } else {\r\n        svg.path(heartPath, { fill: `url(#${gradientId})` });\r\n\r\n        // Inner heart\r\n        if (algoParams.innerHeart) {\r\n            const innerPath = generateHeartPath(algoParams, cx, cy, algoParams.innerScale);\r\n            svg.path(innerPath, { fill: accentColor || lighten(primaryColor, 30) });\r\n        }\r\n    }\r\n\r\n    // Pulse effect (outer glow)\r\n    if (algoParams.pulseEffect) {\r\n        const pulseGradId = `${uniqueId}-pulse`;\r\n        svg.addGradient(pulseGradId, {\r\n            type: 'radial',\r\n            stops: [\r\n                { offset: 0.6, color: primaryColor, opacity: 0 },\r\n                { offset: 0.8, color: primaryColor, opacity: 0.15 },\r\n                { offset: 1, color: primaryColor, opacity: 0 },\r\n            ],\r\n        });\r\n        const pulsePath = generateHeartPath(algoParams, cx, cy, 1.15);\r\n        svg.path(pulsePath, { fill: `url(#${pulseGradId})` });\r\n    }\r\n\r\n    const svgString = svg.build();\r\n    const derivedParams = deriveParamsFromHash(hashParams.hashHex);\r\n    const quality = calculateQualityScore(svgString, derivedParams);\r\n    const hash = generateLogoHash(brandName, 'heart-love', variant, algoParams);\r\n\r\n    const logo: GeneratedLogo = {\r\n        id: uniqueId,\r\n        hash,\r\n        algorithm: 'heart-love',\r\n        variant: variant + 1,\r\n        svg: svgString,\r\n        viewBox: `0 0 ${size} ${size}`,\r\n        params: algoParams,\r\n        quality,\r\n        meta: {\r\n            brandName,\r\n            generatedAt: Date.now(),\r\n            seed: hashParams.hashHex,\r\n            hashParams,\r\n            geometry: {\r\n                usesGoldenRatio: false,\r\n                gridBased: false,\r\n                bezierCurves: true,\r\n                symmetry: 'vertical',\r\n                pathCount: algoParams.innerHeart ? 2 : 1,\r\n                complexity: calculateComplexity(svgString),\r\n            },\r\n            colors: {\r\n                primary: primaryColor,\r\n                accent: accentColor,\r\n                palette: [primaryColor, accentColor || darken(primaryColor, 15)],\r\n            },\r\n        },\r\n    };\r\n\r\n    return { logo, quality };\r\n}\r\n\r\nexport function generateHeartLove(params: LogoGenerationParams): GeneratedLogo[] {\r\n    const { brandName, variations = 3, minQualityScore = 85, category = 'creative' } = params;\r\n\r\n    const logos: GeneratedLogo[] = [];\r\n    const candidatesPerVariation = 5;\r\n\r\n    for (let v = 0; v < variations; v++) {\r\n        let bestCandidate: GeneratedLogo | null = null;\r\n        let bestScore = 0;\r\n\r\n        for (let c = 0; c < candidatesPerVariation; c++) {\r\n            const hashParams = generateHashParamsSync(brandName, category);\r\n            const { logo, quality } = generateSingleHeartLove(params, hashParams, v);\r\n\r\n            if (quality.score > bestScore) {\r\n                bestScore = quality.score;\r\n                bestCandidate = logo;\r\n            }\r\n\r\n            if (quality.score >= minQualityScore) break;\r\n        }\r\n\r\n        if (bestCandidate) {\r\n            storeHash({\r\n                hash: bestCandidate.hash,\r\n                brandName,\r\n                algorithm: 'heart-love',\r\n                variant: v,\r\n                createdAt: Date.now(),\r\n                qualityScore: bestScore,\r\n            });\r\n            logos.push(bestCandidate);\r\n        }\r\n    }\r\n\r\n    return logos;\r\n}\r\n\r\nexport function generateSingleHeartLovePreview(\r\n    primaryColor: string,\r\n    accentColor?: string,\r\n    seed: string = 'preview'\r\n): string {\r\n    const hashParams = generateHashParamsSync(seed, 'creative');\r\n    const rng = createSeededRandom(hashParams.hashHex);\r\n    const params = generateHeartLoveParams(hashParams, rng);\r\n    const size = 100;\r\n    const svg = createSVG(size);\r\n\r\n    svg.addGradient('main', {\r\n        type: 'radial',\r\n        stops: [\r\n            { offset: 0, color: lighten(primaryColor, 20) },\r\n            { offset: 1, color: darken(primaryColor, 10) },\r\n        ],\r\n    });\r\n\r\n    const path = generateHeartPath(params, size / 2, size / 2);\r\n    svg.path(path, { fill: 'url(#main)' });\r\n\r\n    return svg.build();\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\generators\\hexagon-tech.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\generators\\infinity-loop.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'mixColors' is defined but never used.","line":28,"column":27,"nodeType":null,"messageId":"unusedVar","endLine":28,"endColumn":36},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'thickness' is assigned a value but never used.","line":66,"column":36,"nodeType":null,"messageId":"unusedVar","endLine":66,"endColumn":45},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'crossoverAngle' is assigned a value but never used.","line":66,"column":47,"nodeType":null,"messageId":"unusedVar","endLine":66,"endColumn":61}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Infinity Loop Generator (Meta-style)\r\n *\r\n * Creates infinite loop/ribbon shapes with smooth crossovers\r\n * Flowing figure-8 with gradient and depth effects\r\n * Inspired by Meta's infinity symbol\r\n */\r\n\r\nimport {\r\n    GeneratedLogo,\r\n    LogoGenerationParams,\r\n    InfinityLoopParams,\r\n    QualityMetrics,\r\n    HashParams,\r\n} from '../types';\r\nimport {\r\n    createSeededRandom,\r\n    generateBaseParams,\r\n    generateLogoHash,\r\n    generateLogoId,\r\n    generateHashParamsSync,\r\n    deriveParamsFromHash,\r\n    calculateQualityScore,\r\n    calculateComplexity,\r\n    storeHash,\r\n} from '../core/parametric-engine';\r\nimport { createSVG } from '../core/svg-builder';\r\nimport { lighten, darken, mixColors } from '../core/color-utils';\r\n\r\n// ============================================\r\n// PARAMETER GENERATION\r\n// ============================================\r\n\r\nfunction generateInfinityLoopParams(hashParams: HashParams, rng: () => number): InfinityLoopParams {\r\n    const derived = deriveParamsFromHash(hashParams.hashHex);\r\n    const base = generateBaseParams(rng);\r\n\r\n    return {\r\n        ...base,\r\n        loopWidth: derived.armLength * 0.8 + 30,\r\n        loopHeight: derived.armWidth * 1.5 + 20,\r\n        crossoverAngle: derived.rotationOffset * 0.15 + 20,\r\n        strokeTaper: derived.taperRatio,\r\n        thickness: derived.strokeWidth * 0.8 + 3,\r\n        twistAmount: derived.organicAmount,\r\n        gradientFlow: derived.styleVariant % 2 === 0,\r\n        innerGap: derived.centerRadius * 0.4 + 2,\r\n        smoothness: derived.curveTension * 0.5 + 0.5,\r\n        ribbonStyle: derived.styleVariant > 4,\r\n    };\r\n}\r\n\r\n// ============================================\r\n// PATH GENERATION\r\n// ============================================\r\n\r\n/**\r\n * Generate infinity loop path using bezier curves\r\n */\r\nfunction generateInfinityPath(\r\n    params: InfinityLoopParams,\r\n    cx: number,\r\n    cy: number,\r\n    isInner: boolean = false\r\n): string {\r\n    const { loopWidth, loopHeight, thickness, crossoverAngle, smoothness, innerGap } = params;\r\n\r\n    const halfWidth = loopWidth / 2;\r\n    const halfHeight = loopHeight / 2;\r\n    const offset = isInner ? innerGap : 0;\r\n\r\n    // Bezier control points for smooth infinity curve\r\n    const tension = smoothness;\r\n\r\n    // Right loop\r\n    const rightX = cx + halfWidth - offset;\r\n    const rightCtrlOffset = halfWidth * tension;\r\n\r\n    // Left loop\r\n    const leftX = cx - halfWidth + offset;\r\n    const leftCtrlOffset = halfWidth * tension;\r\n\r\n    // Vertical extent\r\n    const topY = cy - halfHeight + offset;\r\n    const bottomY = cy + halfHeight - offset;\r\n    const vertCtrl = halfHeight * tension;\r\n\r\n    // Create smooth figure-8 path\r\n    return `\r\n        M ${cx.toFixed(2)} ${cy.toFixed(2)}\r\n        C ${(cx + rightCtrlOffset * 0.5).toFixed(2)} ${(cy - vertCtrl).toFixed(2)},\r\n          ${(rightX - rightCtrlOffset * 0.3).toFixed(2)} ${topY.toFixed(2)},\r\n          ${rightX.toFixed(2)} ${cy.toFixed(2)}\r\n        C ${(rightX - rightCtrlOffset * 0.3).toFixed(2)} ${bottomY.toFixed(2)},\r\n          ${(cx + rightCtrlOffset * 0.5).toFixed(2)} ${(cy + vertCtrl).toFixed(2)},\r\n          ${cx.toFixed(2)} ${cy.toFixed(2)}\r\n        C ${(cx - leftCtrlOffset * 0.5).toFixed(2)} ${(cy + vertCtrl).toFixed(2)},\r\n          ${(leftX + leftCtrlOffset * 0.3).toFixed(2)} ${bottomY.toFixed(2)},\r\n          ${leftX.toFixed(2)} ${cy.toFixed(2)}\r\n        C ${(leftX + leftCtrlOffset * 0.3).toFixed(2)} ${topY.toFixed(2)},\r\n          ${(cx - leftCtrlOffset * 0.5).toFixed(2)} ${(cy - vertCtrl).toFixed(2)},\r\n          ${cx.toFixed(2)} ${cy.toFixed(2)}\r\n        Z\r\n    `.replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\n/**\r\n * Generate ribbon-style infinity with thickness\r\n */\r\nfunction generateRibbonInfinityPath(\r\n    params: InfinityLoopParams,\r\n    cx: number,\r\n    cy: number\r\n): { outer: string; inner: string } {\r\n    const { thickness } = params;\r\n\r\n    // Outer edge\r\n    const outer = generateInfinityPath({ ...params, loopWidth: params.loopWidth + thickness }, cx, cy);\r\n\r\n    // Inner edge (creates hollow ribbon)\r\n    const inner = generateInfinityPath({ ...params, loopWidth: params.loopWidth - thickness, loopHeight: params.loopHeight - thickness / 2 }, cx, cy);\r\n\r\n    return { outer, inner };\r\n}\r\n\r\n// ============================================\r\n// MAIN GENERATOR\r\n// ============================================\r\n\r\nfunction generateSingleInfinityLoop(\r\n    params: LogoGenerationParams,\r\n    hashParams: HashParams,\r\n    variant: number\r\n): { logo: GeneratedLogo; quality: QualityMetrics } {\r\n    const { brandName, primaryColor, accentColor } = params;\r\n\r\n    const size = 100;\r\n    const cx = size / 2;\r\n    const cy = size / 2;\r\n\r\n    const rng = createSeededRandom(hashParams.hashHex);\r\n    const algoParams = generateInfinityLoopParams(hashParams, rng);\r\n    const svg = createSVG(size);\r\n    const uniqueId = generateLogoId('infinity-loop', variant);\r\n\r\n    // Gradient for flowing effect\r\n    const gradientId = `${uniqueId}-grad`;\r\n    svg.addGradient(gradientId, {\r\n        type: 'linear',\r\n        angle: algoParams.gradientFlow ? 0 : 45,\r\n        stops: [\r\n            { offset: 0, color: primaryColor },\r\n            { offset: 0.33, color: lighten(primaryColor, 15) },\r\n            { offset: 0.66, color: accentColor || primaryColor },\r\n            { offset: 1, color: darken(accentColor || primaryColor, 10) },\r\n        ],\r\n    });\r\n\r\n    if (algoParams.ribbonStyle) {\r\n        // Ribbon style with defined thickness\r\n        const { outer } = generateRibbonInfinityPath(algoParams, cx, cy);\r\n        svg.path(outer, {\r\n            fill: `url(#${gradientId})`,\r\n            stroke: darken(primaryColor, 20),\r\n            strokeWidth: '0.5',\r\n        });\r\n    } else {\r\n        // Solid fill style\r\n        const path = generateInfinityPath(algoParams, cx, cy);\r\n        svg.path(path, { fill: `url(#${gradientId})` });\r\n    }\r\n\r\n    const svgString = svg.build();\r\n    const derivedParams = deriveParamsFromHash(hashParams.hashHex);\r\n    const quality = calculateQualityScore(svgString, derivedParams);\r\n    const hash = generateLogoHash(brandName, 'infinity-loop', variant, algoParams);\r\n\r\n    const logo: GeneratedLogo = {\r\n        id: uniqueId,\r\n        hash,\r\n        algorithm: 'infinity-loop',\r\n        variant: variant + 1,\r\n        svg: svgString,\r\n        viewBox: `0 0 ${size} ${size}`,\r\n        params: algoParams,\r\n        quality,\r\n        meta: {\r\n            brandName,\r\n            generatedAt: Date.now(),\r\n            seed: hashParams.hashHex,\r\n            hashParams,\r\n            geometry: {\r\n                usesGoldenRatio: false,\r\n                gridBased: false,\r\n                bezierCurves: true,\r\n                symmetry: 'horizontal',\r\n                pathCount: algoParams.ribbonStyle ? 2 : 1,\r\n                complexity: calculateComplexity(svgString),\r\n            },\r\n            colors: {\r\n                primary: primaryColor,\r\n                accent: accentColor,\r\n                palette: [primaryColor, accentColor || darken(primaryColor, 15)],\r\n            },\r\n        },\r\n    };\r\n\r\n    return { logo, quality };\r\n}\r\n\r\nexport function generateInfinityLoop(params: LogoGenerationParams): GeneratedLogo[] {\r\n    const { brandName, variations = 3, minQualityScore = 85, category = 'technology' } = params;\r\n\r\n    const logos: GeneratedLogo[] = [];\r\n    const candidatesPerVariation = 5;\r\n\r\n    for (let v = 0; v < variations; v++) {\r\n        let bestCandidate: GeneratedLogo | null = null;\r\n        let bestScore = 0;\r\n\r\n        for (let c = 0; c < candidatesPerVariation; c++) {\r\n            const hashParams = generateHashParamsSync(brandName, category);\r\n            const { logo, quality } = generateSingleInfinityLoop(params, hashParams, v);\r\n\r\n            if (quality.score > bestScore) {\r\n                bestScore = quality.score;\r\n                bestCandidate = logo;\r\n            }\r\n\r\n            if (quality.score >= minQualityScore) break;\r\n        }\r\n\r\n        if (bestCandidate) {\r\n            storeHash({\r\n                hash: bestCandidate.hash,\r\n                brandName,\r\n                algorithm: 'infinity-loop',\r\n                variant: v,\r\n                createdAt: Date.now(),\r\n                qualityScore: bestScore,\r\n            });\r\n            logos.push(bestCandidate);\r\n        }\r\n    }\r\n\r\n    return logos;\r\n}\r\n\r\nexport function generateSingleInfinityLoopPreview(\r\n    primaryColor: string,\r\n    accentColor?: string,\r\n    seed: string = 'preview'\r\n): string {\r\n    const hashParams = generateHashParamsSync(seed, 'technology');\r\n    const rng = createSeededRandom(hashParams.hashHex);\r\n    const params = generateInfinityLoopParams(hashParams, rng);\r\n    const size = 100;\r\n    const svg = createSVG(size);\r\n\r\n    svg.addGradient('main', {\r\n        type: 'linear',\r\n        angle: 0,\r\n        stops: [\r\n            { offset: 0, color: primaryColor },\r\n            { offset: 1, color: accentColor || darken(primaryColor, 15) },\r\n        ],\r\n    });\r\n\r\n    const path = generateInfinityPath(params, size / 2, size / 2);\r\n    svg.path(path, { fill: 'url(#main)' });\r\n\r\n    return svg.build();\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\generators\\isometric-cube.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\generators\\leaf-organic.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'rotation' is assigned a value but never used.","line":66,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":66,"endColumn":13}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Leaf Organic Generator (Eco/Nature-style)\r\n *\r\n * Creates organic leaf shapes with vein patterns\r\n * Natural flowing forms with botanical details\r\n * Inspired by eco-friendly and nature brands\r\n */\r\n\r\nimport {\r\n    GeneratedLogo,\r\n    LogoGenerationParams,\r\n    LeafOrganicParams,\r\n    QualityMetrics,\r\n    HashParams,\r\n} from '../types';\r\nimport {\r\n    createSeededRandom,\r\n    generateBaseParams,\r\n    generateLogoHash,\r\n    generateLogoId,\r\n    generateHashParamsSync,\r\n    deriveParamsFromHash,\r\n    calculateQualityScore,\r\n    calculateComplexity,\r\n    storeHash,\r\n    addNoise,\r\n} from '../core/parametric-engine';\r\nimport { createSVG } from '../core/svg-builder';\r\nimport { lighten, darken } from '../core/color-utils';\r\n\r\n// ============================================\r\n// PARAMETER GENERATION\r\n// ============================================\r\n\r\nfunction generateLeafOrganicParams(hashParams: HashParams, rng: () => number): LeafOrganicParams {\r\n    const derived = deriveParamsFromHash(hashParams.hashHex);\r\n    const base = generateBaseParams(rng);\r\n\r\n    const shapes: Array<'oval' | 'pointed' | 'heart' | 'maple'> = ['oval', 'pointed', 'heart', 'maple'];\r\n    const veins: Array<'none' | 'central' | 'branching' | 'parallel'> = ['none', 'central', 'branching', 'parallel'];\r\n\r\n    return {\r\n        ...base,\r\n        leafShape: shapes[Math.floor(derived.styleVariant % 4)],\r\n        veinPattern: veins[Math.floor((derived.styleVariant + 1) % 4)],\r\n        stemCurve: derived.curveTension,\r\n        serrationCount: Math.floor(derived.elementCount * 0.5),\r\n        leafCurl: derived.organicAmount * 0.5,\r\n        stemLength: derived.armLength * 0.4 + 10,\r\n        veinDepth: derived.perspectiveStrength,\r\n        asymmetry: derived.jitterAmount * 0.02,\r\n        multiLeaf: Math.min(3, Math.max(1, Math.floor(derived.layerCount * 0.6))),\r\n        dropShadow: derived.depthOffset > 10,\r\n    };\r\n}\r\n\r\n// ============================================\r\n// PATH GENERATION\r\n// ============================================\r\n\r\nfunction generateLeafPath(\r\n    params: LeafOrganicParams,\r\n    cx: number,\r\n    cy: number,\r\n    scale: number = 1,\r\n    rotation: number = 0,\r\n    rng: () => number\r\n): string {\r\n    const { leafShape, leafCurl, asymmetry } = params;\r\n\r\n    const width = 28 * scale;\r\n    const height = 40 * scale;\r\n\r\n    // Add asymmetry\r\n    const leftBias = 1 - asymmetry;\r\n    const rightBias = 1 + asymmetry;\r\n\r\n    // Tip position\r\n    const tipY = cy - height / 2;\r\n    const baseY = cy + height / 2;\r\n\r\n    // Control point heights\r\n    const upperMidY = cy - height * 0.2;\r\n    const lowerMidY = cy + height * 0.15;\r\n\r\n    // Width at different heights\r\n    const maxWidth = width / 2;\r\n    const tipCurve = leafShape === 'pointed' ? 0.2 : leafShape === 'heart' ? 0.4 : 0.3;\r\n\r\n    // Generate organic wobble\r\n    const wobbleL = leafCurl > 0 ? addNoise(0, leafCurl, rng, 3) : 0;\r\n    const wobbleR = leafCurl > 0 ? addNoise(0, leafCurl, rng, 3) : 0;\r\n\r\n    const path = `\r\n        M ${cx.toFixed(2)} ${tipY.toFixed(2)}\r\n        C ${(cx - maxWidth * tipCurve * leftBias).toFixed(2)} ${(tipY + height * 0.1).toFixed(2)},\r\n          ${(cx - maxWidth * leftBias + wobbleL).toFixed(2)} ${(upperMidY - height * 0.1).toFixed(2)},\r\n          ${(cx - maxWidth * leftBias + wobbleL).toFixed(2)} ${upperMidY.toFixed(2)}\r\n        C ${(cx - maxWidth * 0.95 * leftBias + wobbleL).toFixed(2)} ${(cy - height * 0.05).toFixed(2)},\r\n          ${(cx - maxWidth * 0.9 * leftBias).toFixed(2)} ${(lowerMidY - height * 0.05).toFixed(2)},\r\n          ${(cx - maxWidth * 0.7 * leftBias).toFixed(2)} ${lowerMidY.toFixed(2)}\r\n        C ${(cx - maxWidth * 0.4 * leftBias).toFixed(2)} ${(lowerMidY + height * 0.15).toFixed(2)},\r\n          ${(cx - maxWidth * 0.15).toFixed(2)} ${(baseY - height * 0.05).toFixed(2)},\r\n          ${cx.toFixed(2)} ${baseY.toFixed(2)}\r\n        C ${(cx + maxWidth * 0.15).toFixed(2)} ${(baseY - height * 0.05).toFixed(2)},\r\n          ${(cx + maxWidth * 0.4 * rightBias).toFixed(2)} ${(lowerMidY + height * 0.15).toFixed(2)},\r\n          ${(cx + maxWidth * 0.7 * rightBias).toFixed(2)} ${lowerMidY.toFixed(2)}\r\n        C ${(cx + maxWidth * 0.9 * rightBias).toFixed(2)} ${(lowerMidY - height * 0.05).toFixed(2)},\r\n          ${(cx + maxWidth * 0.95 * rightBias + wobbleR).toFixed(2)} ${(cy - height * 0.05).toFixed(2)},\r\n          ${(cx + maxWidth * rightBias + wobbleR).toFixed(2)} ${upperMidY.toFixed(2)}\r\n        C ${(cx + maxWidth * rightBias + wobbleR).toFixed(2)} ${(upperMidY - height * 0.1).toFixed(2)},\r\n          ${(cx + maxWidth * tipCurve * rightBias).toFixed(2)} ${(tipY + height * 0.1).toFixed(2)},\r\n          ${cx.toFixed(2)} ${tipY.toFixed(2)}\r\n        Z\r\n    `.replace(/\\s+/g, ' ').trim();\r\n\r\n    return path;\r\n}\r\n\r\nfunction generateVeinPath(\r\n    params: LeafOrganicParams,\r\n    cx: number,\r\n    cy: number\r\n): string[] {\r\n    const { veinPattern, veinDepth } = params;\r\n    const paths: string[] = [];\r\n\r\n    if (veinPattern === 'none' || veinDepth < 0.2) return paths;\r\n\r\n    const height = 40;\r\n    const tipY = cy - height / 2;\r\n    const baseY = cy + height / 2;\r\n\r\n    // Central vein\r\n    const centralVein = `\r\n        M ${cx.toFixed(2)} ${(tipY + 3).toFixed(2)}\r\n        C ${cx.toFixed(2)} ${(tipY + height * 0.3).toFixed(2)},\r\n          ${cx.toFixed(2)} ${(cy + height * 0.1).toFixed(2)},\r\n          ${cx.toFixed(2)} ${(baseY - 5).toFixed(2)}\r\n    `.replace(/\\s+/g, ' ').trim();\r\n    paths.push(centralVein);\r\n\r\n    // Branching veins\r\n    if (veinPattern === 'branching' || veinPattern === 'parallel') {\r\n        const branchCount = veinPattern === 'branching' ? 4 : 6;\r\n        const branchSpacing = (height - 15) / branchCount;\r\n\r\n        for (let i = 0; i < branchCount; i++) {\r\n            const y = tipY + 8 + i * branchSpacing;\r\n            const spread = 8 + (i * 1.5);\r\n            const isLeft = i % 2 === 0;\r\n            const x = isLeft ? cx - spread : cx + spread;\r\n\r\n            const branchPath = `\r\n                M ${cx.toFixed(2)} ${y.toFixed(2)}\r\n                C ${((cx + x) / 2).toFixed(2)} ${(y + 2).toFixed(2)},\r\n                  ${x.toFixed(2)} ${(y + 4).toFixed(2)},\r\n                  ${x.toFixed(2)} ${(y + 5).toFixed(2)}\r\n            `.replace(/\\s+/g, ' ').trim();\r\n            paths.push(branchPath);\r\n        }\r\n    }\r\n\r\n    return paths;\r\n}\r\n\r\nfunction generateStemPath(\r\n    params: LeafOrganicParams,\r\n    cx: number,\r\n    cy: number\r\n): string {\r\n    const { stemLength, stemCurve } = params;\r\n    const baseY = cy + 20;\r\n    const stemEndY = baseY + stemLength;\r\n    const curvature = stemCurve * 8;\r\n\r\n    return `\r\n        M ${cx.toFixed(2)} ${baseY.toFixed(2)}\r\n        C ${(cx - curvature * 0.3).toFixed(2)} ${(baseY + stemLength * 0.3).toFixed(2)},\r\n          ${(cx - curvature).toFixed(2)} ${(baseY + stemLength * 0.7).toFixed(2)},\r\n          ${(cx - curvature * 0.8).toFixed(2)} ${stemEndY.toFixed(2)}\r\n    `.replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\n// ============================================\r\n// MAIN GENERATOR\r\n// ============================================\r\n\r\nfunction generateSingleLeafOrganic(\r\n    params: LogoGenerationParams,\r\n    hashParams: HashParams,\r\n    variant: number\r\n): { logo: GeneratedLogo; quality: QualityMetrics } {\r\n    const { brandName, primaryColor, accentColor } = params;\r\n\r\n    const size = 100;\r\n    const cx = size / 2;\r\n    const cy = size / 2 - 5;\r\n\r\n    const rng = createSeededRandom(hashParams.hashHex);\r\n    const algoParams = generateLeafOrganicParams(hashParams, rng);\r\n    const svg = createSVG(size);\r\n    const uniqueId = generateLogoId('leaf-organic', variant);\r\n\r\n    // Leaf gradient (natural green tones)\r\n    const gradientId = `${uniqueId}-grad`;\r\n    svg.addGradient(gradientId, {\r\n        type: 'linear',\r\n        angle: 160,\r\n        stops: [\r\n            { offset: 0, color: lighten(primaryColor, 20) },\r\n            { offset: 0.5, color: primaryColor },\r\n            { offset: 1, color: darken(primaryColor, 20) },\r\n        ],\r\n    });\r\n\r\n    // Main leaf\r\n    const leafPath = generateLeafPath(algoParams, cx, cy, 1, 0, rng);\r\n    svg.path(leafPath, { fill: `url(#${gradientId})` });\r\n\r\n    // Veins\r\n    const veinPaths = generateVeinPath(algoParams, cx, cy);\r\n    veinPaths.forEach(veinPath => {\r\n        svg.path(veinPath, {\r\n            fill: 'none',\r\n            stroke: darken(primaryColor, 25),\r\n            strokeWidth: '0.8',\r\n            strokeOpacity: '0.6',\r\n        });\r\n    });\r\n\r\n    // Stem\r\n    const stemPath = generateStemPath(algoParams, cx, cy);\r\n    svg.path(stemPath, {\r\n        fill: 'none',\r\n        stroke: darken(primaryColor, 30),\r\n        strokeWidth: '2',\r\n        strokeLinecap: 'round',\r\n    });\r\n\r\n    const svgString = svg.build();\r\n    const derivedParams = deriveParamsFromHash(hashParams.hashHex);\r\n    const quality = calculateQualityScore(svgString, derivedParams);\r\n    const hash = generateLogoHash(brandName, 'leaf-organic', variant, algoParams);\r\n\r\n    const logo: GeneratedLogo = {\r\n        id: uniqueId,\r\n        hash,\r\n        algorithm: 'leaf-organic',\r\n        variant: variant + 1,\r\n        svg: svgString,\r\n        viewBox: `0 0 ${size} ${size}`,\r\n        params: algoParams,\r\n        quality,\r\n        meta: {\r\n            brandName,\r\n            generatedAt: Date.now(),\r\n            seed: hashParams.hashHex,\r\n            hashParams,\r\n            geometry: {\r\n                usesGoldenRatio: false,\r\n                gridBased: false,\r\n                bezierCurves: true,\r\n                symmetry: algoParams.asymmetry < 0.05 ? 'vertical' : 'none',\r\n                pathCount: 2 + veinPaths.length,\r\n                complexity: calculateComplexity(svgString),\r\n            },\r\n            colors: {\r\n                primary: primaryColor,\r\n                accent: accentColor,\r\n                palette: [primaryColor, darken(primaryColor, 25)],\r\n            },\r\n        },\r\n    };\r\n\r\n    return { logo, quality };\r\n}\r\n\r\nexport function generateLeafOrganic(params: LogoGenerationParams): GeneratedLogo[] {\r\n    const { brandName, variations = 3, minQualityScore = 85, category = 'sustainability' } = params;\r\n\r\n    const logos: GeneratedLogo[] = [];\r\n    const candidatesPerVariation = 5;\r\n\r\n    for (let v = 0; v < variations; v++) {\r\n        let bestCandidate: GeneratedLogo | null = null;\r\n        let bestScore = 0;\r\n\r\n        for (let c = 0; c < candidatesPerVariation; c++) {\r\n            const hashParams = generateHashParamsSync(brandName, category);\r\n            const { logo, quality } = generateSingleLeafOrganic(params, hashParams, v);\r\n\r\n            if (quality.score > bestScore) {\r\n                bestScore = quality.score;\r\n                bestCandidate = logo;\r\n            }\r\n\r\n            if (quality.score >= minQualityScore) break;\r\n        }\r\n\r\n        if (bestCandidate) {\r\n            storeHash({\r\n                hash: bestCandidate.hash,\r\n                brandName,\r\n                algorithm: 'leaf-organic',\r\n                variant: v,\r\n                createdAt: Date.now(),\r\n                qualityScore: bestScore,\r\n            });\r\n            logos.push(bestCandidate);\r\n        }\r\n    }\r\n\r\n    return logos;\r\n}\r\n\r\nexport function generateSingleLeafOrganicPreview(\r\n    primaryColor: string,\r\n    accentColor?: string,\r\n    seed: string = 'preview'\r\n): string {\r\n    const hashParams = generateHashParamsSync(seed, 'sustainability');\r\n    const rng = createSeededRandom(hashParams.hashHex);\r\n    const params = generateLeafOrganicParams(hashParams, rng);\r\n    const size = 100;\r\n    const svg = createSVG(size);\r\n\r\n    svg.addGradient('main', {\r\n        type: 'linear',\r\n        angle: 160,\r\n        stops: [\r\n            { offset: 0, color: lighten(primaryColor, 15) },\r\n            { offset: 1, color: darken(primaryColor, 15) },\r\n        ],\r\n    });\r\n\r\n    const path = generateLeafPath(params, size / 2, size / 2 - 5, 1, 0, rng);\r\n    svg.path(path, { fill: 'url(#main)' });\r\n\r\n    return svg.build();\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\generators\\letter-gradient.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\generators\\letter-swoosh.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\generators\\lightning-bolt.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\generators\\lock-secure.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\generators\\maze-pattern.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'totalLayers' is defined but never used.","line":65,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":65,"endColumn":16},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'wallThickness' is assigned a value but never used.","line":67,"column":37,"nodeType":null,"messageId":"unusedVar","endLine":67,"endColumn":50},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'k' is assigned a value but never used.","line":88,"column":15,"nodeType":null,"messageId":"unusedVar","endLine":88,"endColumn":16}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Maze Pattern Generator (Complexity/Puzzle-style)\r\n *\r\n * Creates labyrinth and maze patterns\r\n * Puzzle and complexity aesthetic\r\n * Inspired by puzzle games and complex systems brands\r\n */\r\n\r\nimport {\r\n    GeneratedLogo,\r\n    LogoGenerationParams,\r\n    MazePatternParams,\r\n    QualityMetrics,\r\n    HashParams,\r\n} from '../types';\r\nimport {\r\n    createSeededRandom,\r\n    generateBaseParams,\r\n    generateLogoHash,\r\n    generateLogoId,\r\n    generateHashParamsSync,\r\n    deriveParamsFromHash,\r\n    calculateQualityScore,\r\n    calculateComplexity,\r\n    storeHash,\r\n} from '../core/parametric-engine';\r\nimport { createSVG } from '../core/svg-builder';\r\nimport { lighten, darken } from '../core/color-utils';\r\n\r\n// ============================================\r\n// PARAMETER GENERATION\r\n// ============================================\r\n\r\nfunction generateMazePatternParams(hashParams: HashParams, rng: () => number): MazePatternParams {\r\n    const derived = deriveParamsFromHash(hashParams.hashHex);\r\n    const base = generateBaseParams(rng);\r\n\r\n    const corners: Array<'sharp' | 'rounded' | 'beveled'> = ['sharp', 'rounded', 'beveled'];\r\n    const centers: Array<'none' | 'dot' | 'square' | 'letter'> = ['none', 'dot', 'square', 'letter'];\r\n\r\n    return {\r\n        ...base,\r\n        pathWidth: derived.strokeWidth * 2 + 3,\r\n        cornerStyle: corners[Math.floor(derived.styleVariant % 3)],\r\n        centerSymbol: centers[Math.floor(derived.colorPlacement % 4)],\r\n        wallThickness: derived.taperRatio * 2 + 1,\r\n        complexity: Math.max(2, Math.min(4, Math.floor(derived.elementCount * 0.3 + 2))),\r\n        openings: Math.floor(derived.organicAmount * 2 + 1),\r\n        symmetrical: derived.perspectiveStrength > 0.5,\r\n        gradientWalls: derived.layerCount > 2,\r\n        glowPath: derived.bulgeAmount > 0.4,\r\n        rotated: derived.rotationOffset > 180,\r\n    };\r\n}\r\n\r\n// ============================================\r\n// PATH GENERATION\r\n// ============================================\r\n\r\nfunction generateMazeWallPath(\r\n    cx: number,\r\n    cy: number,\r\n    params: MazePatternParams,\r\n    layer: number,\r\n    totalLayers: number\r\n): string[] {\r\n    const { pathWidth, cornerStyle, wallThickness, symmetrical, openings } = params;\r\n\r\n    const paths: string[] = [];\r\n    const size = 35 - layer * 8;\r\n    const r = cornerStyle === 'rounded' ? 3 : 0;\r\n\r\n    const left = cx - size;\r\n    const right = cx + size;\r\n    const top = cy - size;\r\n    const bottom = cy + size;\r\n\r\n    // Determine which sides have openings\r\n    const hasTopOpening = !symmetrical && layer % 2 === 0 && openings > 0;\r\n    const hasBottomOpening = !symmetrical && layer % 2 === 1 && openings > 1;\r\n    const hasLeftOpening = symmetrical || (layer % 2 === 0 && openings > 0);\r\n    const hasRightOpening = symmetrical || (layer % 2 === 1 && openings > 1);\r\n\r\n    const openingSize = pathWidth * 1.5;\r\n\r\n    // Build maze walls as separate segments\r\n    if (cornerStyle === 'rounded') {\r\n        const k = 0.5522847498 * r / size;\r\n\r\n        // Top wall\r\n        if (!hasTopOpening) {\r\n            paths.push(`\r\n                M ${(left + r).toFixed(2)} ${top.toFixed(2)}\r\n                L ${(right - r).toFixed(2)} ${top.toFixed(2)}\r\n            `.replace(/\\s+/g, ' ').trim());\r\n        } else {\r\n            paths.push(`\r\n                M ${(left + r).toFixed(2)} ${top.toFixed(2)}\r\n                L ${(cx - openingSize / 2).toFixed(2)} ${top.toFixed(2)}\r\n            `.replace(/\\s+/g, ' ').trim());\r\n            paths.push(`\r\n                M ${(cx + openingSize / 2).toFixed(2)} ${top.toFixed(2)}\r\n                L ${(right - r).toFixed(2)} ${top.toFixed(2)}\r\n            `.replace(/\\s+/g, ' ').trim());\r\n        }\r\n\r\n        // Right wall\r\n        if (!hasRightOpening) {\r\n            paths.push(`\r\n                M ${right.toFixed(2)} ${(top + r).toFixed(2)}\r\n                L ${right.toFixed(2)} ${(bottom - r).toFixed(2)}\r\n            `.replace(/\\s+/g, ' ').trim());\r\n        } else {\r\n            paths.push(`\r\n                M ${right.toFixed(2)} ${(top + r).toFixed(2)}\r\n                L ${right.toFixed(2)} ${(cy - openingSize / 2).toFixed(2)}\r\n            `.replace(/\\s+/g, ' ').trim());\r\n            paths.push(`\r\n                M ${right.toFixed(2)} ${(cy + openingSize / 2).toFixed(2)}\r\n                L ${right.toFixed(2)} ${(bottom - r).toFixed(2)}\r\n            `.replace(/\\s+/g, ' ').trim());\r\n        }\r\n\r\n        // Bottom wall\r\n        if (!hasBottomOpening) {\r\n            paths.push(`\r\n                M ${(right - r).toFixed(2)} ${bottom.toFixed(2)}\r\n                L ${(left + r).toFixed(2)} ${bottom.toFixed(2)}\r\n            `.replace(/\\s+/g, ' ').trim());\r\n        } else {\r\n            paths.push(`\r\n                M ${(right - r).toFixed(2)} ${bottom.toFixed(2)}\r\n                L ${(cx + openingSize / 2).toFixed(2)} ${bottom.toFixed(2)}\r\n            `.replace(/\\s+/g, ' ').trim());\r\n            paths.push(`\r\n                M ${(cx - openingSize / 2).toFixed(2)} ${bottom.toFixed(2)}\r\n                L ${(left + r).toFixed(2)} ${bottom.toFixed(2)}\r\n            `.replace(/\\s+/g, ' ').trim());\r\n        }\r\n\r\n        // Left wall\r\n        if (!hasLeftOpening) {\r\n            paths.push(`\r\n                M ${left.toFixed(2)} ${(bottom - r).toFixed(2)}\r\n                L ${left.toFixed(2)} ${(top + r).toFixed(2)}\r\n            `.replace(/\\s+/g, ' ').trim());\r\n        } else {\r\n            paths.push(`\r\n                M ${left.toFixed(2)} ${(bottom - r).toFixed(2)}\r\n                L ${left.toFixed(2)} ${(cy + openingSize / 2).toFixed(2)}\r\n            `.replace(/\\s+/g, ' ').trim());\r\n            paths.push(`\r\n                M ${left.toFixed(2)} ${(cy - openingSize / 2).toFixed(2)}\r\n                L ${left.toFixed(2)} ${(top + r).toFixed(2)}\r\n            `.replace(/\\s+/g, ' ').trim());\r\n        }\r\n\r\n        // Corners\r\n        paths.push(`\r\n            M ${(right - r).toFixed(2)} ${top.toFixed(2)}\r\n            C ${right.toFixed(2)} ${top.toFixed(2)},\r\n              ${right.toFixed(2)} ${top.toFixed(2)},\r\n              ${right.toFixed(2)} ${(top + r).toFixed(2)}\r\n        `.replace(/\\s+/g, ' ').trim());\r\n\r\n        paths.push(`\r\n            M ${right.toFixed(2)} ${(bottom - r).toFixed(2)}\r\n            C ${right.toFixed(2)} ${bottom.toFixed(2)},\r\n              ${right.toFixed(2)} ${bottom.toFixed(2)},\r\n              ${(right - r).toFixed(2)} ${bottom.toFixed(2)}\r\n        `.replace(/\\s+/g, ' ').trim());\r\n\r\n        paths.push(`\r\n            M ${(left + r).toFixed(2)} ${bottom.toFixed(2)}\r\n            C ${left.toFixed(2)} ${bottom.toFixed(2)},\r\n              ${left.toFixed(2)} ${bottom.toFixed(2)},\r\n              ${left.toFixed(2)} ${(bottom - r).toFixed(2)}\r\n        `.replace(/\\s+/g, ' ').trim());\r\n\r\n        paths.push(`\r\n            M ${left.toFixed(2)} ${(top + r).toFixed(2)}\r\n            C ${left.toFixed(2)} ${top.toFixed(2)},\r\n              ${left.toFixed(2)} ${top.toFixed(2)},\r\n              ${(left + r).toFixed(2)} ${top.toFixed(2)}\r\n        `.replace(/\\s+/g, ' ').trim());\r\n\r\n    } else {\r\n        // Sharp corners - simpler paths\r\n        // Top\r\n        if (!hasTopOpening) {\r\n            paths.push(`M ${left.toFixed(2)} ${top.toFixed(2)} L ${right.toFixed(2)} ${top.toFixed(2)}`);\r\n        } else {\r\n            paths.push(`M ${left.toFixed(2)} ${top.toFixed(2)} L ${(cx - openingSize / 2).toFixed(2)} ${top.toFixed(2)}`);\r\n            paths.push(`M ${(cx + openingSize / 2).toFixed(2)} ${top.toFixed(2)} L ${right.toFixed(2)} ${top.toFixed(2)}`);\r\n        }\r\n\r\n        // Right\r\n        if (!hasRightOpening) {\r\n            paths.push(`M ${right.toFixed(2)} ${top.toFixed(2)} L ${right.toFixed(2)} ${bottom.toFixed(2)}`);\r\n        } else {\r\n            paths.push(`M ${right.toFixed(2)} ${top.toFixed(2)} L ${right.toFixed(2)} ${(cy - openingSize / 2).toFixed(2)}`);\r\n            paths.push(`M ${right.toFixed(2)} ${(cy + openingSize / 2).toFixed(2)} L ${right.toFixed(2)} ${bottom.toFixed(2)}`);\r\n        }\r\n\r\n        // Bottom\r\n        if (!hasBottomOpening) {\r\n            paths.push(`M ${right.toFixed(2)} ${bottom.toFixed(2)} L ${left.toFixed(2)} ${bottom.toFixed(2)}`);\r\n        } else {\r\n            paths.push(`M ${right.toFixed(2)} ${bottom.toFixed(2)} L ${(cx + openingSize / 2).toFixed(2)} ${bottom.toFixed(2)}`);\r\n            paths.push(`M ${(cx - openingSize / 2).toFixed(2)} ${bottom.toFixed(2)} L ${left.toFixed(2)} ${bottom.toFixed(2)}`);\r\n        }\r\n\r\n        // Left\r\n        if (!hasLeftOpening) {\r\n            paths.push(`M ${left.toFixed(2)} ${bottom.toFixed(2)} L ${left.toFixed(2)} ${top.toFixed(2)}`);\r\n        } else {\r\n            paths.push(`M ${left.toFixed(2)} ${bottom.toFixed(2)} L ${left.toFixed(2)} ${(cy + openingSize / 2).toFixed(2)}`);\r\n            paths.push(`M ${left.toFixed(2)} ${(cy - openingSize / 2).toFixed(2)} L ${left.toFixed(2)} ${top.toFixed(2)}`);\r\n        }\r\n    }\r\n\r\n    return paths;\r\n}\r\n\r\nfunction generateCenterSymbolPath(\r\n    cx: number,\r\n    cy: number,\r\n    symbolType: string,\r\n    size: number\r\n): string {\r\n    const k = 0.5522847498;\r\n\r\n    if (symbolType === 'dot') {\r\n        return `\r\n            M ${cx.toFixed(2)} ${(cy - size).toFixed(2)}\r\n            C ${(cx + size * k).toFixed(2)} ${(cy - size).toFixed(2)},\r\n              ${(cx + size).toFixed(2)} ${(cy - size * k).toFixed(2)},\r\n              ${(cx + size).toFixed(2)} ${cy.toFixed(2)}\r\n            C ${(cx + size).toFixed(2)} ${(cy + size * k).toFixed(2)},\r\n              ${(cx + size * k).toFixed(2)} ${(cy + size).toFixed(2)},\r\n              ${cx.toFixed(2)} ${(cy + size).toFixed(2)}\r\n            C ${(cx - size * k).toFixed(2)} ${(cy + size).toFixed(2)},\r\n              ${(cx - size).toFixed(2)} ${(cy + size * k).toFixed(2)},\r\n              ${(cx - size).toFixed(2)} ${cy.toFixed(2)}\r\n            C ${(cx - size).toFixed(2)} ${(cy - size * k).toFixed(2)},\r\n              ${(cx - size * k).toFixed(2)} ${(cy - size).toFixed(2)},\r\n              ${cx.toFixed(2)} ${(cy - size).toFixed(2)}\r\n            Z\r\n        `.replace(/\\s+/g, ' ').trim();\r\n    } else if (symbolType === 'square') {\r\n        return `\r\n            M ${(cx - size).toFixed(2)} ${(cy - size).toFixed(2)}\r\n            L ${(cx + size).toFixed(2)} ${(cy - size).toFixed(2)}\r\n            L ${(cx + size).toFixed(2)} ${(cy + size).toFixed(2)}\r\n            L ${(cx - size).toFixed(2)} ${(cy + size).toFixed(2)}\r\n            Z\r\n        `.replace(/\\s+/g, ' ').trim();\r\n    }\r\n\r\n    return '';\r\n}\r\n\r\n// ============================================\r\n// MAIN GENERATOR\r\n// ============================================\r\n\r\nfunction generateSingleMazePattern(\r\n    params: LogoGenerationParams,\r\n    hashParams: HashParams,\r\n    variant: number\r\n): { logo: GeneratedLogo; quality: QualityMetrics } {\r\n    const { brandName, primaryColor, accentColor } = params;\r\n\r\n    const size = 100;\r\n    const cx = size / 2;\r\n    const cy = size / 2;\r\n\r\n    const rng = createSeededRandom(hashParams.hashHex);\r\n    const algoParams = generateMazePatternParams(hashParams, rng);\r\n    const svg = createSVG(size);\r\n    const uniqueId = generateLogoId('maze-pattern', variant);\r\n\r\n    // Gradient for walls\r\n    if (algoParams.gradientWalls) {\r\n        const wallGradId = `${uniqueId}-wall`;\r\n        svg.addGradient(wallGradId, {\r\n            type: 'linear',\r\n            angle: 135,\r\n            stops: [\r\n                { offset: 0, color: lighten(primaryColor, 15) },\r\n                { offset: 0.5, color: primaryColor },\r\n                { offset: 1, color: darken(primaryColor, 15) },\r\n            ],\r\n        });\r\n    }\r\n\r\n    // Glow path gradient\r\n    if (algoParams.glowPath) {\r\n        const glowGradId = `${uniqueId}-glow`;\r\n        svg.addGradient(glowGradId, {\r\n            type: 'radial',\r\n            stops: [\r\n                { offset: 0, color: accentColor || lighten(primaryColor, 40), opacity: 0.4 },\r\n                { offset: 1, color: primaryColor, opacity: 0 },\r\n            ],\r\n        });\r\n\r\n        const glowPath = `\r\n            M ${(cx - 40).toFixed(2)} ${(cy - 40).toFixed(2)}\r\n            L ${(cx + 40).toFixed(2)} ${(cy - 40).toFixed(2)}\r\n            L ${(cx + 40).toFixed(2)} ${(cy + 40).toFixed(2)}\r\n            L ${(cx - 40).toFixed(2)} ${(cy + 40).toFixed(2)}\r\n            Z\r\n        `.replace(/\\s+/g, ' ').trim();\r\n        svg.path(glowPath, { fill: `url(#${glowGradId})` });\r\n    }\r\n\r\n    // Generate maze layers\r\n    for (let layer = 0; layer < algoParams.complexity; layer++) {\r\n        const wallPaths = generateMazeWallPath(cx, cy, algoParams, layer, algoParams.complexity);\r\n\r\n        wallPaths.forEach(wallPath => {\r\n            svg.path(wallPath, {\r\n                fill: 'none',\r\n                stroke: algoParams.gradientWalls ? `url(#${uniqueId}-wall)` : primaryColor,\r\n                strokeWidth: algoParams.wallThickness.toString(),\r\n                strokeLinecap: algoParams.cornerStyle === 'rounded' ? 'round' : 'square',\r\n            });\r\n        });\r\n    }\r\n\r\n    // Center symbol\r\n    if (algoParams.centerSymbol !== 'none' && algoParams.centerSymbol !== 'letter') {\r\n        const symbolPath = generateCenterSymbolPath(cx, cy, algoParams.centerSymbol, 5);\r\n        if (symbolPath) {\r\n            svg.path(symbolPath, { fill: accentColor || lighten(primaryColor, 30) });\r\n        }\r\n    }\r\n\r\n    const svgString = svg.build();\r\n    const derivedParams = deriveParamsFromHash(hashParams.hashHex);\r\n    const quality = calculateQualityScore(svgString, derivedParams);\r\n    const hash = generateLogoHash(brandName, 'maze-pattern', variant, algoParams);\r\n\r\n    const logo: GeneratedLogo = {\r\n        id: uniqueId,\r\n        hash,\r\n        algorithm: 'maze-pattern',\r\n        variant: variant + 1,\r\n        svg: svgString,\r\n        viewBox: `0 0 ${size} ${size}`,\r\n        params: algoParams,\r\n        quality,\r\n        meta: {\r\n            brandName,\r\n            generatedAt: Date.now(),\r\n            seed: hashParams.hashHex,\r\n            hashParams,\r\n            geometry: {\r\n                usesGoldenRatio: false,\r\n                gridBased: true,\r\n                bezierCurves: algoParams.cornerStyle === 'rounded',\r\n                symmetry: algoParams.symmetrical ? 'bilateral' : 'none',\r\n                pathCount: algoParams.complexity * 8 + (algoParams.centerSymbol !== 'none' ? 1 : 0),\r\n                complexity: calculateComplexity(svgString),\r\n            },\r\n            colors: {\r\n                primary: primaryColor,\r\n                accent: accentColor,\r\n                palette: [primaryColor, accentColor || lighten(primaryColor, 30)],\r\n            },\r\n        },\r\n    };\r\n\r\n    return { logo, quality };\r\n}\r\n\r\nexport function generateMazePattern(params: LogoGenerationParams): GeneratedLogo[] {\r\n    const { brandName, variations = 3, minQualityScore = 85, category = 'technology' } = params;\r\n\r\n    const logos: GeneratedLogo[] = [];\r\n    const candidatesPerVariation = 5;\r\n\r\n    for (let v = 0; v < variations; v++) {\r\n        let bestCandidate: GeneratedLogo | null = null;\r\n        let bestScore = 0;\r\n\r\n        for (let c = 0; c < candidatesPerVariation; c++) {\r\n            const hashParams = generateHashParamsSync(brandName, category);\r\n            const { logo, quality } = generateSingleMazePattern(params, hashParams, v);\r\n\r\n            if (quality.score > bestScore) {\r\n                bestScore = quality.score;\r\n                bestCandidate = logo;\r\n            }\r\n\r\n            if (quality.score >= minQualityScore) break;\r\n        }\r\n\r\n        if (bestCandidate) {\r\n            storeHash({\r\n                hash: bestCandidate.hash,\r\n                brandName,\r\n                algorithm: 'maze-pattern',\r\n                variant: v,\r\n                createdAt: Date.now(),\r\n                qualityScore: bestScore,\r\n            });\r\n            logos.push(bestCandidate);\r\n        }\r\n    }\r\n\r\n    return logos;\r\n}\r\n\r\nexport function generateSingleMazePatternPreview(\r\n    primaryColor: string,\r\n    accentColor?: string,\r\n    seed: string = 'preview'\r\n): string {\r\n    const hashParams = generateHashParamsSync(seed, 'technology');\r\n    const rng = createSeededRandom(hashParams.hashHex);\r\n    const params = generateMazePatternParams(hashParams, rng);\r\n    const size = 100;\r\n    const svg = createSVG(size);\r\n\r\n    // Draw simplified maze\r\n    for (let layer = 0; layer < Math.min(params.complexity, 3); layer++) {\r\n        const wallPaths = generateMazeWallPath(size / 2, size / 2, params, layer, params.complexity);\r\n\r\n        wallPaths.forEach(wallPath => {\r\n            svg.path(wallPath, {\r\n                fill: 'none',\r\n                stroke: primaryColor,\r\n                strokeWidth: params.wallThickness.toString(),\r\n                strokeLinecap: params.cornerStyle === 'rounded' ? 'round' : 'square',\r\n            });\r\n        });\r\n    }\r\n\r\n    return svg.build();\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\generators\\monogram-blend.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Point' is defined but never used.","line":15,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":15,"endColumn":10},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'style' is defined but never used.","line":133,"column":72,"nodeType":null,"messageId":"unusedVar","endLine":133,"endColumn":77},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'sw' is defined but never used.","line":149,"column":60,"nodeType":null,"messageId":"unusedVar","endLine":149,"endColumn":62},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'style' is defined but never used.","line":149,"column":72,"nodeType":null,"messageId":"unusedVar","endLine":149,"endColumn":77},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'k' is assigned a value but never used.","line":150,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":150,"endColumn":12},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'style' is defined but never used.","line":167,"column":72,"nodeType":null,"messageId":"unusedVar","endLine":167,"endColumn":77},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'k' is assigned a value but never used.","line":169,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":169,"endColumn":12},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'sw' is defined but never used.","line":182,"column":60,"nodeType":null,"messageId":"unusedVar","endLine":182,"endColumn":62},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'style' is defined but never used.","line":182,"column":72,"nodeType":null,"messageId":"unusedVar","endLine":182,"endColumn":77},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'style' is defined but never used.","line":196,"column":72,"nodeType":null,"messageId":"unusedVar","endLine":196,"endColumn":77},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'style' is defined but never used.","line":219,"column":72,"nodeType":null,"messageId":"unusedVar","endLine":219,"endColumn":77},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'style' is defined but never used.","line":244,"column":72,"nodeType":null,"messageId":"unusedVar","endLine":244,"endColumn":77},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'style' is defined but never used.","line":267,"column":72,"nodeType":null,"messageId":"unusedVar","endLine":267,"endColumn":77},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'style' is defined but never used.","line":284,"column":72,"nodeType":null,"messageId":"unusedVar","endLine":284,"endColumn":77},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'style' is defined but never used.","line":305,"column":72,"nodeType":null,"messageId":"unusedVar","endLine":305,"endColumn":77},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'style' is defined but never used.","line":322,"column":72,"nodeType":null,"messageId":"unusedVar","endLine":322,"endColumn":77},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'style' is defined but never used.","line":343,"column":72,"nodeType":null,"messageId":"unusedVar","endLine":343,"endColumn":77},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'sw' is defined but never used.","line":362,"column":60,"nodeType":null,"messageId":"unusedVar","endLine":362,"endColumn":62},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'style' is defined but never used.","line":362,"column":72,"nodeType":null,"messageId":"unusedVar","endLine":362,"endColumn":77},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'style' is defined but never used.","line":376,"column":72,"nodeType":null,"messageId":"unusedVar","endLine":376,"endColumn":77},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'sw' is defined but never used.","line":396,"column":60,"nodeType":null,"messageId":"unusedVar","endLine":396,"endColumn":62},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'style' is defined but never used.","line":396,"column":72,"nodeType":null,"messageId":"unusedVar","endLine":396,"endColumn":77},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'style' is defined but never used.","line":410,"column":72,"nodeType":null,"messageId":"unusedVar","endLine":410,"endColumn":77},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'style' is defined but never used.","line":427,"column":72,"nodeType":null,"messageId":"unusedVar","endLine":427,"endColumn":77},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'style' is defined but never used.","line":446,"column":72,"nodeType":null,"messageId":"unusedVar","endLine":446,"endColumn":77},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'style' is defined but never used.","line":462,"column":72,"nodeType":null,"messageId":"unusedVar","endLine":462,"endColumn":77},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'style' is defined but never used.","line":482,"column":72,"nodeType":null,"messageId":"unusedVar","endLine":482,"endColumn":77},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'style' is defined but never used.","line":504,"column":72,"nodeType":null,"messageId":"unusedVar","endLine":504,"endColumn":77},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'style' is defined but never used.","line":523,"column":72,"nodeType":null,"messageId":"unusedVar","endLine":523,"endColumn":77},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'params' is assigned a value but never used.","line":699,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":699,"endColumn":17}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":30,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Monogram Blend Generator\r\n *\r\n * Creates two letters intertwined with shared strokes\r\n * Modern monogram aesthetic\r\n * Uses bezier paths for letter forms\r\n */\r\n\r\nimport {\r\n    GeneratedLogo,\r\n    LogoGenerationParams,\r\n    MonogramBlendParams,\r\n    QualityMetrics,\r\n    HashParams,\r\n    Point,\r\n} from '../types';\r\nimport {\r\n    createSeededRandom,\r\n    generateBaseParams,\r\n    generateLogoHash,\r\n    generateLogoId,\r\n    generateHashParamsSync,\r\n    deriveParamsFromHash,\r\n    calculateQualityScore,\r\n    calculateComplexity,\r\n    storeHash,\r\n} from '../core/parametric-engine';\r\nimport { createSVG } from '../core/svg-builder';\r\nimport { lighten, darken, mixColors } from '../core/color-utils';\r\n\r\n// ============================================\r\n// PARAMETER GENERATION\r\n// ============================================\r\n\r\nfunction generateMonogramBlendParams(hashParams: HashParams, rng: () => number): MonogramBlendParams {\r\n    const derived = deriveParamsFromHash(hashParams.hashHex);\r\n    const base = generateBaseParams(rng);\r\n\r\n    const blendStyles: Array<'overlap' | 'interlock' | 'merge' | 'stack'> =\r\n        ['overlap', 'interlock', 'merge', 'stack'];\r\n\r\n    return {\r\n        ...base,\r\n        blendStyle: blendStyles[derived.styleVariant % 4],\r\n        letterSpacing: (derived.spacingFactor - 1) * 20,\r\n        shareStrokes: derived.organicAmount > 0.5,\r\n        strokeModulation: derived.taperRatio,\r\n        letterWeights: [\r\n            Math.max(300, Math.min(700, 400 + derived.letterWeight * 0.3)),\r\n            Math.max(300, Math.min(700, 400 + derived.letterWeight * 0.4)),\r\n        ],\r\n        verticalOffset: (derived.jitterAmount - 5) * 2,\r\n    };\r\n}\r\n\r\n// ============================================\r\n// LETTER PATH GENERATION\r\n// ============================================\r\n\r\n/**\r\n * Create stylized monogram letter using bezier curves\r\n */\r\nfunction createMonogramLetter(\r\n    letter: string,\r\n    cx: number,\r\n    cy: number,\r\n    size: number,\r\n    weight: number,\r\n    style: 'left' | 'right'\r\n): string {\r\n    const char = letter.toUpperCase().charAt(0);\r\n    const strokeWidth = (weight / 700) * size * 0.12;\r\n    const halfSize = size / 2;\r\n\r\n    // Simplified geometric monogram letters\r\n    switch (char) {\r\n        case 'A':\r\n            return createMonoA(cx, cy, halfSize, strokeWidth, style);\r\n        case 'B':\r\n            return createMonoB(cx, cy, halfSize, strokeWidth, style);\r\n        case 'C':\r\n            return createMonoC(cx, cy, halfSize, strokeWidth, style);\r\n        case 'D':\r\n            return createMonoD(cx, cy, halfSize, strokeWidth, style);\r\n        case 'E':\r\n            return createMonoE(cx, cy, halfSize, strokeWidth, style);\r\n        case 'F':\r\n            return createMonoF(cx, cy, halfSize, strokeWidth, style);\r\n        case 'G':\r\n            return createMonoG(cx, cy, halfSize, strokeWidth, style);\r\n        case 'H':\r\n            return createMonoH(cx, cy, halfSize, strokeWidth, style);\r\n        case 'I':\r\n            return createMonoI(cx, cy, halfSize, strokeWidth, style);\r\n        case 'J':\r\n            return createMonoJ(cx, cy, halfSize, strokeWidth, style);\r\n        case 'K':\r\n            return createMonoK(cx, cy, halfSize, strokeWidth, style);\r\n        case 'L':\r\n            return createMonoL(cx, cy, halfSize, strokeWidth, style);\r\n        case 'M':\r\n            return createMonoM(cx, cy, halfSize, strokeWidth, style);\r\n        case 'N':\r\n            return createMonoN(cx, cy, halfSize, strokeWidth, style);\r\n        case 'O':\r\n            return createMonoO(cx, cy, halfSize, strokeWidth, style);\r\n        case 'P':\r\n            return createMonoP(cx, cy, halfSize, strokeWidth, style);\r\n        case 'R':\r\n            return createMonoR(cx, cy, halfSize, strokeWidth, style);\r\n        case 'S':\r\n            return createMonoS(cx, cy, halfSize, strokeWidth, style);\r\n        case 'T':\r\n            return createMonoT(cx, cy, halfSize, strokeWidth, style);\r\n        case 'U':\r\n            return createMonoU(cx, cy, halfSize, strokeWidth, style);\r\n        case 'V':\r\n            return createMonoV(cx, cy, halfSize, strokeWidth, style);\r\n        case 'W':\r\n            return createMonoW(cx, cy, halfSize, strokeWidth, style);\r\n        case 'X':\r\n            return createMonoX(cx, cy, halfSize, strokeWidth, style);\r\n        case 'Y':\r\n            return createMonoY(cx, cy, halfSize, strokeWidth, style);\r\n        case 'Z':\r\n            return createMonoZ(cx, cy, halfSize, strokeWidth, style);\r\n        default:\r\n            return createMonoO(cx, cy, halfSize, strokeWidth, style);\r\n    }\r\n}\r\n\r\n// Simplified monogram letter creators\r\nfunction createMonoA(cx: number, cy: number, size: number, sw: number, style: string): string {\r\n    const top = cy - size * 0.7;\r\n    const bottom = cy + size * 0.7;\r\n    const width = size * 0.5;\r\n\r\n    return `\r\n        M ${cx - width} ${bottom}\r\n        L ${cx} ${top}\r\n        L ${cx + width} ${bottom}\r\n        L ${cx + width - sw} ${bottom}\r\n        L ${cx} ${top + sw * 1.5}\r\n        L ${cx - width + sw} ${bottom}\r\n        Z\r\n    `.replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\nfunction createMonoB(cx: number, cy: number, size: number, sw: number, style: string): string {\r\n    const k = 0.5522847498;\r\n    const left = cx - size * 0.3;\r\n    const right = cx + size * 0.35;\r\n    const top = cy - size * 0.7;\r\n    const bottom = cy + size * 0.7;\r\n\r\n    return `\r\n        M ${left} ${top}\r\n        L ${cx} ${top}\r\n        C ${right} ${top}, ${right} ${cy}, ${cx} ${cy}\r\n        C ${right + size * 0.1} ${cy}, ${right + size * 0.1} ${bottom}, ${cx} ${bottom}\r\n        L ${left} ${bottom}\r\n        L ${left} ${top}\r\n        Z\r\n    `.replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\nfunction createMonoC(cx: number, cy: number, size: number, sw: number, style: string): string {\r\n    const r = size * 0.6;\r\n    const k = 0.5522847498;\r\n\r\n    return `\r\n        M ${cx + r * 0.6} ${cy - r * 0.7}\r\n        C ${cx} ${cy - r}, ${cx - r} ${cy - r * 0.5}, ${cx - r} ${cy}\r\n        C ${cx - r} ${cy + r * 0.5}, ${cx} ${cy + r}, ${cx + r * 0.6} ${cy + r * 0.7}\r\n        L ${cx + r * 0.5} ${cy + r * 0.5}\r\n        C ${cx + r * 0.1} ${cy + r * 0.7}, ${cx - r + sw} ${cy + r * 0.3}, ${cx - r + sw} ${cy}\r\n        C ${cx - r + sw} ${cy - r * 0.3}, ${cx + r * 0.1} ${cy - r * 0.7}, ${cx + r * 0.5} ${cy - r * 0.5}\r\n        Z\r\n    `.replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\nfunction createMonoD(cx: number, cy: number, size: number, sw: number, style: string): string {\r\n    const left = cx - size * 0.35;\r\n    const top = cy - size * 0.7;\r\n    const bottom = cy + size * 0.7;\r\n\r\n    return `\r\n        M ${left} ${top}\r\n        L ${cx} ${top}\r\n        C ${cx + size * 0.5} ${top}, ${cx + size * 0.5} ${bottom}, ${cx} ${bottom}\r\n        L ${left} ${bottom}\r\n        Z\r\n    `.replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\nfunction createMonoE(cx: number, cy: number, size: number, sw: number, style: string): string {\r\n    const left = cx - size * 0.35;\r\n    const right = cx + size * 0.35;\r\n    const top = cy - size * 0.7;\r\n    const bottom = cy + size * 0.7;\r\n\r\n    return `\r\n        M ${left} ${top}\r\n        L ${right} ${top}\r\n        L ${right} ${top + sw}\r\n        L ${left + sw} ${top + sw}\r\n        L ${left + sw} ${cy - sw / 2}\r\n        L ${right - size * 0.1} ${cy - sw / 2}\r\n        L ${right - size * 0.1} ${cy + sw / 2}\r\n        L ${left + sw} ${cy + sw / 2}\r\n        L ${left + sw} ${bottom - sw}\r\n        L ${right} ${bottom - sw}\r\n        L ${right} ${bottom}\r\n        L ${left} ${bottom}\r\n        Z\r\n    `.replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\nfunction createMonoF(cx: number, cy: number, size: number, sw: number, style: string): string {\r\n    const left = cx - size * 0.3;\r\n    const right = cx + size * 0.35;\r\n    const top = cy - size * 0.7;\r\n    const bottom = cy + size * 0.7;\r\n\r\n    return `\r\n        M ${left} ${top}\r\n        L ${right} ${top}\r\n        L ${right} ${top + sw}\r\n        L ${left + sw} ${top + sw}\r\n        L ${left + sw} ${cy - sw / 2}\r\n        L ${right - size * 0.15} ${cy - sw / 2}\r\n        L ${right - size * 0.15} ${cy + sw / 2}\r\n        L ${left + sw} ${cy + sw / 2}\r\n        L ${left + sw} ${bottom}\r\n        L ${left} ${bottom}\r\n        Z\r\n    `.replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\nfunction createMonoG(cx: number, cy: number, size: number, sw: number, style: string): string {\r\n    return createMonoC(cx, cy, size, sw, style);\r\n}\r\n\r\nfunction createMonoH(cx: number, cy: number, size: number, sw: number, style: string): string {\r\n    const left = cx - size * 0.4;\r\n    const right = cx + size * 0.4;\r\n    const top = cy - size * 0.7;\r\n    const bottom = cy + size * 0.7;\r\n\r\n    return `\r\n        M ${left} ${top}\r\n        L ${left + sw} ${top}\r\n        L ${left + sw} ${cy - sw / 2}\r\n        L ${right - sw} ${cy - sw / 2}\r\n        L ${right - sw} ${top}\r\n        L ${right} ${top}\r\n        L ${right} ${bottom}\r\n        L ${right - sw} ${bottom}\r\n        L ${right - sw} ${cy + sw / 2}\r\n        L ${left + sw} ${cy + sw / 2}\r\n        L ${left + sw} ${bottom}\r\n        L ${left} ${bottom}\r\n        Z\r\n    `.replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\nfunction createMonoI(cx: number, cy: number, size: number, sw: number, style: string): string {\r\n    const top = cy - size * 0.7;\r\n    const bottom = cy + size * 0.7;\r\n\r\n    return `\r\n        M ${cx - sw / 2} ${top}\r\n        L ${cx + sw / 2} ${top}\r\n        L ${cx + sw / 2} ${bottom}\r\n        L ${cx - sw / 2} ${bottom}\r\n        Z\r\n    `.replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\nfunction createMonoJ(cx: number, cy: number, size: number, sw: number, style: string): string {\r\n    return createMonoI(cx + size * 0.15, cy, size, sw, style);\r\n}\r\n\r\nfunction createMonoK(cx: number, cy: number, size: number, sw: number, style: string): string {\r\n    const left = cx - size * 0.35;\r\n    const top = cy - size * 0.7;\r\n    const bottom = cy + size * 0.7;\r\n\r\n    return `\r\n        M ${left} ${top}\r\n        L ${left + sw} ${top}\r\n        L ${left + sw} ${cy - sw}\r\n        L ${cx + size * 0.25} ${top}\r\n        L ${cx + size * 0.4} ${top}\r\n        L ${left + sw} ${cy}\r\n        L ${cx + size * 0.4} ${bottom}\r\n        L ${cx + size * 0.25} ${bottom}\r\n        L ${left + sw} ${cy + sw}\r\n        L ${left + sw} ${bottom}\r\n        L ${left} ${bottom}\r\n        Z\r\n    `.replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\nfunction createMonoL(cx: number, cy: number, size: number, sw: number, style: string): string {\r\n    const left = cx - size * 0.3;\r\n    const right = cx + size * 0.3;\r\n    const top = cy - size * 0.7;\r\n    const bottom = cy + size * 0.7;\r\n\r\n    return `\r\n        M ${left} ${top}\r\n        L ${left + sw} ${top}\r\n        L ${left + sw} ${bottom - sw}\r\n        L ${right} ${bottom - sw}\r\n        L ${right} ${bottom}\r\n        L ${left} ${bottom}\r\n        Z\r\n    `.replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\nfunction createMonoM(cx: number, cy: number, size: number, sw: number, style: string): string {\r\n    const left = cx - size * 0.45;\r\n    const right = cx + size * 0.45;\r\n    const top = cy - size * 0.7;\r\n    const bottom = cy + size * 0.7;\r\n\r\n    return `\r\n        M ${left} ${bottom}\r\n        L ${left} ${top}\r\n        L ${cx} ${cy}\r\n        L ${right} ${top}\r\n        L ${right} ${bottom}\r\n        L ${right - sw} ${bottom}\r\n        L ${right - sw} ${top + sw * 1.5}\r\n        L ${cx} ${cy + sw * 0.5}\r\n        L ${left + sw} ${top + sw * 1.5}\r\n        L ${left + sw} ${bottom}\r\n        Z\r\n    `.replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\nfunction createMonoN(cx: number, cy: number, size: number, sw: number, style: string): string {\r\n    const left = cx - size * 0.35;\r\n    const right = cx + size * 0.35;\r\n    const top = cy - size * 0.7;\r\n    const bottom = cy + size * 0.7;\r\n\r\n    return `\r\n        M ${left} ${bottom}\r\n        L ${left} ${top}\r\n        L ${right} ${bottom - sw * 1.5}\r\n        L ${right} ${top}\r\n        L ${right + sw * 0.1} ${top}\r\n        L ${right + sw * 0.1} ${bottom}\r\n        L ${left + sw} ${top + sw * 1.5}\r\n        L ${left + sw} ${bottom}\r\n        Z\r\n    `.replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\nfunction createMonoO(cx: number, cy: number, size: number, sw: number, style: string): string {\r\n    const r = size * 0.6;\r\n    const k = 0.5522847498;\r\n\r\n    return `\r\n        M ${cx} ${cy - r}\r\n        C ${cx + r * k} ${cy - r}, ${cx + r} ${cy - r * k}, ${cx + r} ${cy}\r\n        C ${cx + r} ${cy + r * k}, ${cx + r * k} ${cy + r}, ${cx} ${cy + r}\r\n        C ${cx - r * k} ${cy + r}, ${cx - r} ${cy + r * k}, ${cx - r} ${cy}\r\n        C ${cx - r} ${cy - r * k}, ${cx - r * k} ${cy - r}, ${cx} ${cy - r}\r\n        Z\r\n    `.replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\nfunction createMonoP(cx: number, cy: number, size: number, sw: number, style: string): string {\r\n    const left = cx - size * 0.3;\r\n    const top = cy - size * 0.7;\r\n    const bottom = cy + size * 0.7;\r\n\r\n    return `\r\n        M ${left} ${top}\r\n        L ${cx + size * 0.1} ${top}\r\n        C ${cx + size * 0.4} ${top}, ${cx + size * 0.4} ${cy}, ${cx + size * 0.1} ${cy}\r\n        L ${left + sw} ${cy}\r\n        L ${left + sw} ${bottom}\r\n        L ${left} ${bottom}\r\n        Z\r\n    `.replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\nfunction createMonoR(cx: number, cy: number, size: number, sw: number, style: string): string {\r\n    return createMonoP(cx, cy, size, sw, style);\r\n}\r\n\r\nfunction createMonoS(cx: number, cy: number, size: number, sw: number, style: string): string {\r\n    return `\r\n        M ${cx + size * 0.35} ${cy - size * 0.5}\r\n        C ${cx + size * 0.35} ${cy - size * 0.75}, ${cx - size * 0.4} ${cy - size * 0.75}, ${cx - size * 0.4} ${cy - size * 0.4}\r\n        C ${cx - size * 0.4} ${cy - size * 0.1}, ${cx + size * 0.4} ${cy + size * 0.1}, ${cx + size * 0.4} ${cy + size * 0.4}\r\n        C ${cx + size * 0.4} ${cy + size * 0.75}, ${cx - size * 0.35} ${cy + size * 0.75}, ${cx - size * 0.35} ${cy + size * 0.5}\r\n        L ${cx - size * 0.25} ${cy + size * 0.45}\r\n        C ${cx - size * 0.25} ${cy + size * 0.6}, ${cx + size * 0.25} ${cy + size * 0.6}, ${cx + size * 0.25} ${cy + size * 0.4}\r\n        C ${cx + size * 0.25} ${cy + size * 0.2}, ${cx - size * 0.25} ${cy - size * 0.05}, ${cx - size * 0.25} ${cy - size * 0.4}\r\n        C ${cx - size * 0.25} ${cy - size * 0.6}, ${cx + size * 0.2} ${cy - size * 0.6}, ${cx + size * 0.25} ${cy - size * 0.45}\r\n        Z\r\n    `.replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\nfunction createMonoT(cx: number, cy: number, size: number, sw: number, style: string): string {\r\n    const top = cy - size * 0.7;\r\n    const bottom = cy + size * 0.7;\r\n\r\n    return `\r\n        M ${cx - size * 0.4} ${top}\r\n        L ${cx + size * 0.4} ${top}\r\n        L ${cx + size * 0.4} ${top + sw}\r\n        L ${cx + sw / 2} ${top + sw}\r\n        L ${cx + sw / 2} ${bottom}\r\n        L ${cx - sw / 2} ${bottom}\r\n        L ${cx - sw / 2} ${top + sw}\r\n        L ${cx - size * 0.4} ${top + sw}\r\n        Z\r\n    `.replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\nfunction createMonoU(cx: number, cy: number, size: number, sw: number, style: string): string {\r\n    const left = cx - size * 0.35;\r\n    const right = cx + size * 0.35;\r\n    const top = cy - size * 0.7;\r\n    const bottom = cy + size * 0.4;\r\n\r\n    return `\r\n        M ${left} ${top}\r\n        L ${left + sw} ${top}\r\n        L ${left + sw} ${bottom}\r\n        C ${left + sw} ${cy + size * 0.6}, ${right - sw} ${cy + size * 0.6}, ${right - sw} ${bottom}\r\n        L ${right - sw} ${top}\r\n        L ${right} ${top}\r\n        L ${right} ${bottom}\r\n        C ${right} ${cy + size * 0.8}, ${left} ${cy + size * 0.8}, ${left} ${bottom}\r\n        Z\r\n    `.replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\nfunction createMonoV(cx: number, cy: number, size: number, sw: number, style: string): string {\r\n    const top = cy - size * 0.7;\r\n    const bottom = cy + size * 0.7;\r\n    const width = size * 0.45;\r\n\r\n    return `\r\n        M ${cx - width} ${top}\r\n        L ${cx - width + sw} ${top}\r\n        L ${cx} ${bottom - sw}\r\n        L ${cx + width - sw} ${top}\r\n        L ${cx + width} ${top}\r\n        L ${cx} ${bottom}\r\n        Z\r\n    `.replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\nfunction createMonoW(cx: number, cy: number, size: number, sw: number, style: string): string {\r\n    const top = cy - size * 0.7;\r\n    const bottom = cy + size * 0.7;\r\n    const width = size * 0.5;\r\n\r\n    return `\r\n        M ${cx - width} ${top}\r\n        L ${cx - width + sw * 0.7} ${top}\r\n        L ${cx - size * 0.15} ${bottom - sw}\r\n        L ${cx} ${cy}\r\n        L ${cx + size * 0.15} ${bottom - sw}\r\n        L ${cx + width - sw * 0.7} ${top}\r\n        L ${cx + width} ${top}\r\n        L ${cx + size * 0.2} ${bottom}\r\n        L ${cx} ${cy + sw}\r\n        L ${cx - size * 0.2} ${bottom}\r\n        Z\r\n    `.replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\nfunction createMonoX(cx: number, cy: number, size: number, sw: number, style: string): string {\r\n    const top = cy - size * 0.7;\r\n    const bottom = cy + size * 0.7;\r\n    const width = size * 0.4;\r\n\r\n    return `\r\n        M ${cx - width} ${top}\r\n        L ${cx - width + sw} ${top}\r\n        L ${cx} ${cy - sw * 0.3}\r\n        L ${cx + width - sw} ${top}\r\n        L ${cx + width} ${top}\r\n        L ${cx + sw * 0.4} ${cy}\r\n        L ${cx + width} ${bottom}\r\n        L ${cx + width - sw} ${bottom}\r\n        L ${cx} ${cy + sw * 0.3}\r\n        L ${cx - width + sw} ${bottom}\r\n        L ${cx - width} ${bottom}\r\n        L ${cx - sw * 0.4} ${cy}\r\n        Z\r\n    `.replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\nfunction createMonoY(cx: number, cy: number, size: number, sw: number, style: string): string {\r\n    const top = cy - size * 0.7;\r\n    const bottom = cy + size * 0.7;\r\n    const width = size * 0.4;\r\n\r\n    return `\r\n        M ${cx - width} ${top}\r\n        L ${cx - width + sw} ${top}\r\n        L ${cx} ${cy - sw * 0.2}\r\n        L ${cx + width - sw} ${top}\r\n        L ${cx + width} ${top}\r\n        L ${cx + sw / 2} ${cy}\r\n        L ${cx + sw / 2} ${bottom}\r\n        L ${cx - sw / 2} ${bottom}\r\n        L ${cx - sw / 2} ${cy}\r\n        Z\r\n    `.replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\nfunction createMonoZ(cx: number, cy: number, size: number, sw: number, style: string): string {\r\n    const left = cx - size * 0.35;\r\n    const right = cx + size * 0.35;\r\n    const top = cy - size * 0.7;\r\n    const bottom = cy + size * 0.7;\r\n\r\n    return `\r\n        M ${left} ${top}\r\n        L ${right} ${top}\r\n        L ${right} ${top + sw}\r\n        L ${left + sw * 1.2} ${bottom - sw}\r\n        L ${right} ${bottom - sw}\r\n        L ${right} ${bottom}\r\n        L ${left} ${bottom}\r\n        L ${left} ${bottom - sw}\r\n        L ${right - sw * 1.2} ${top + sw}\r\n        L ${left} ${top + sw}\r\n        Z\r\n    `.replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\n// ============================================\r\n// MAIN GENERATOR\r\n// ============================================\r\n\r\nfunction generateSingleMonogramBlend(\r\n    params: LogoGenerationParams,\r\n    hashParams: HashParams,\r\n    variant: number\r\n): { logo: GeneratedLogo; quality: QualityMetrics } {\r\n    const { brandName, primaryColor, accentColor } = params;\r\n\r\n    const size = 100;\r\n    const cx = size / 2;\r\n    const cy = size / 2;\r\n\r\n    const rng = createSeededRandom(hashParams.hashHex);\r\n    const algoParams = generateMonogramBlendParams(hashParams, rng);\r\n    const svg = createSVG(size);\r\n    const uniqueId = generateLogoId('monogram-blend', variant);\r\n\r\n    // Get first two letters\r\n    const letters = brandName.toUpperCase().replace(/[^A-Z]/g, '');\r\n    const letter1 = letters.charAt(0) || 'A';\r\n    const letter2 = letters.charAt(1) || letters.charAt(0) || 'B';\r\n\r\n    // Calculate positions based on blend style\r\n    let x1 = cx - algoParams.letterSpacing / 2 - size * 0.15;\r\n    let x2 = cx + algoParams.letterSpacing / 2 + size * 0.15;\r\n    let y1 = cy + algoParams.verticalOffset / 2;\r\n    let y2 = cy - algoParams.verticalOffset / 2;\r\n\r\n    if (algoParams.blendStyle === 'stack') {\r\n        x1 = cx;\r\n        x2 = cx;\r\n        y1 = cy - size * 0.25;\r\n        y2 = cy + size * 0.25;\r\n    }\r\n\r\n    // Create gradients\r\n    svg.addGradient(`${uniqueId}-grad1`, {\r\n        type: 'linear',\r\n        angle: 135,\r\n        stops: [\r\n            { offset: 0, color: lighten(primaryColor, 10) },\r\n            { offset: 1, color: primaryColor },\r\n        ],\r\n    });\r\n\r\n    svg.addGradient(`${uniqueId}-grad2`, {\r\n        type: 'linear',\r\n        angle: 135,\r\n        stops: [\r\n            { offset: 0, color: accentColor || mixColors(primaryColor, '#000000', 0.2) },\r\n            { offset: 1, color: accentColor ? darken(accentColor, 10) : darken(primaryColor, 20) },\r\n        ],\r\n    });\r\n\r\n    // Create letter paths\r\n    const letterSize = algoParams.blendStyle === 'stack' ? size * 0.6 : size * 0.8;\r\n    const path1 = createMonogramLetter(letter1, x1, y1, letterSize, algoParams.letterWeights[0], 'left');\r\n    const path2 = createMonogramLetter(letter2, x2, y2, letterSize, algoParams.letterWeights[1], 'right');\r\n\r\n    // Render letters (order depends on blend style)\r\n    if (algoParams.blendStyle === 'overlap') {\r\n        svg.path(path1, { fill: `url(#${uniqueId}-grad1)` });\r\n        svg.path(path2, { fill: `url(#${uniqueId}-grad2)`, opacity: '0.85' });\r\n    } else {\r\n        svg.path(path2, { fill: `url(#${uniqueId}-grad2)` });\r\n        svg.path(path1, { fill: `url(#${uniqueId}-grad1)` });\r\n    }\r\n\r\n    const svgString = svg.build();\r\n    const derivedParams = deriveParamsFromHash(hashParams.hashHex);\r\n    const quality = calculateQualityScore(svgString, derivedParams);\r\n    const hash = generateLogoHash(brandName, 'monogram-blend', variant, algoParams);\r\n\r\n    const logo: GeneratedLogo = {\r\n        id: uniqueId,\r\n        hash,\r\n        algorithm: 'monogram-blend',\r\n        variant: variant + 1,\r\n        svg: svgString,\r\n        viewBox: `0 0 ${size} ${size}`,\r\n        params: algoParams,\r\n        quality,\r\n        meta: {\r\n            brandName,\r\n            generatedAt: Date.now(),\r\n            seed: hashParams.hashHex,\r\n            hashParams,\r\n            geometry: {\r\n                usesGoldenRatio: false,\r\n                gridBased: false,\r\n                bezierCurves: true,\r\n                symmetry: algoParams.blendStyle === 'stack' ? 'vertical' : 'none',\r\n                pathCount: 2,\r\n                complexity: calculateComplexity(svgString),\r\n            },\r\n            colors: {\r\n                primary: primaryColor,\r\n                accent: accentColor,\r\n                palette: [primaryColor, accentColor || darken(primaryColor, 20)],\r\n            },\r\n        },\r\n    };\r\n\r\n    return { logo, quality };\r\n}\r\n\r\nexport function generateMonogramBlend(params: LogoGenerationParams): GeneratedLogo[] {\r\n    const { brandName, variations = 3, minQualityScore = 80, category = 'creative' } = params;\r\n\r\n    const logos: GeneratedLogo[] = [];\r\n    const candidatesPerVariation = 5;\r\n\r\n    for (let v = 0; v < variations; v++) {\r\n        let bestCandidate: GeneratedLogo | null = null;\r\n        let bestScore = 0;\r\n\r\n        for (let c = 0; c < candidatesPerVariation; c++) {\r\n            const hashParams = generateHashParamsSync(brandName, category);\r\n            const { logo, quality } = generateSingleMonogramBlend(params, hashParams, v);\r\n\r\n            if (quality.score > bestScore) {\r\n                bestScore = quality.score;\r\n                bestCandidate = logo;\r\n            }\r\n\r\n            if (quality.score >= minQualityScore) break;\r\n        }\r\n\r\n        if (bestCandidate) {\r\n            storeHash({\r\n                hash: bestCandidate.hash,\r\n                brandName,\r\n                algorithm: 'monogram-blend',\r\n                variant: v,\r\n                createdAt: Date.now(),\r\n                qualityScore: bestScore,\r\n            });\r\n            logos.push(bestCandidate);\r\n        }\r\n    }\r\n\r\n    return logos;\r\n}\r\n\r\nexport function generateSingleMonogramBlendPreview(\r\n    primaryColor: string,\r\n    accentColor?: string,\r\n    letters: string = 'AB',\r\n    seed: string = 'preview'\r\n): string {\r\n    const hashParams = generateHashParamsSync(seed, 'creative');\r\n    const rng = createSeededRandom(hashParams.hashHex);\r\n    const params = generateMonogramBlendParams(hashParams, rng);\r\n    const size = 100;\r\n    const svg = createSVG(size);\r\n\r\n    const letter1 = letters.charAt(0) || 'A';\r\n    const letter2 = letters.charAt(1) || 'B';\r\n\r\n    svg.addGradient('grad1', {\r\n        type: 'linear',\r\n        angle: 135,\r\n        stops: [\r\n            { offset: 0, color: primaryColor },\r\n            { offset: 1, color: darken(primaryColor, 10) },\r\n        ],\r\n    });\r\n\r\n    svg.addGradient('grad2', {\r\n        type: 'linear',\r\n        angle: 135,\r\n        stops: [\r\n            { offset: 0, color: accentColor || darken(primaryColor, 15) },\r\n            { offset: 1, color: accentColor ? darken(accentColor, 10) : darken(primaryColor, 25) },\r\n        ],\r\n    });\r\n\r\n    const path1 = createMonogramLetter(letter1, size * 0.35, size / 2, size * 0.7, 500, 'left');\r\n    const path2 = createMonogramLetter(letter2, size * 0.65, size / 2, size * 0.7, 500, 'right');\r\n\r\n    svg.path(path1, { fill: 'url(#grad1)' });\r\n    svg.path(path2, { fill: 'url(#grad2)', opacity: '0.85' });\r\n\r\n    return svg.build();\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\generators\\moon-phase.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\generators\\motion-lines.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'addNoise' is defined but never used.","line":25,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":25,"endColumn":13},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'rng' is defined but never used.","line":68,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":68,"endColumn":8},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'lineLength' is assigned a value but never used.","line":83,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":83,"endColumn":21}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Motion Lines Generator (Linear/Framer-style)\r\n *\r\n * Creates stacked horizontal lines with motion feel\r\n * Subtle waves, velocity effects, and tapered ends\r\n * All shapes use bezier curves only\r\n */\r\n\r\nimport {\r\n    GeneratedLogo,\r\n    LogoGenerationParams,\r\n    MotionLinesParams,\r\n    Point,\r\n    QualityMetrics,\r\n    HashParams,\r\n} from '../types';\r\nimport {\r\n    createSeededRandom,\r\n    generateBaseParams,\r\n    generateLogoHash,\r\n    generateLogoId,\r\n    generateHashParamsSync,\r\n    deriveParamsFromHash,\r\n    calculateQualityScore,\r\n    addNoise,\r\n    calculateComplexity,\r\n    storeHash,\r\n    lerp,\r\n} from '../core/parametric-engine';\r\nimport { createSVG } from '../core/svg-builder';\r\nimport { lighten, darken, mixColors } from '../core/color-utils';\r\n\r\n// ============================================\r\n// PARAMETER GENERATION\r\n// ============================================\r\n\r\nfunction generateMotionLinesParams(hashParams: HashParams, rng: () => number): MotionLinesParams {\r\n    const derived = deriveParamsFromHash(hashParams.hashHex);\r\n    const base = generateBaseParams(rng);\r\n\r\n    const taperOptions: Array<'left' | 'right' | 'both' | 'none'> = ['left', 'right', 'both', 'none'];\r\n\r\n    return {\r\n        ...base,\r\n        lineCount: Math.max(3, Math.min(8, Math.round(derived.elementCount / 2))),\r\n        lineThickness: Math.max(2, Math.min(10, derived.strokeWidth)),\r\n        lineWaveAmplitude: derived.curveAmplitude * 0.3,\r\n        lineSpacing: Math.max(6, Math.min(20, derived.spacingFactor * 10)),\r\n        velocityEffect: derived.organicAmount,\r\n        staggerOffset: derived.jitterAmount * 2,\r\n        taperDirection: taperOptions[derived.styleVariant % 4],\r\n        curveTension: derived.curveTension,\r\n    };\r\n}\r\n\r\n// ============================================\r\n// LINE PATH GENERATION\r\n// ============================================\r\n\r\n/**\r\n * Generate a single motion line with wave and taper using beziers\r\n */\r\nfunction generateLinePath(\r\n    params: MotionLinesParams,\r\n    index: number,\r\n    totalLines: number,\r\n    viewSize: number,\r\n    rng: () => number\r\n): string {\r\n    const padding = viewSize * 0.15;\r\n    const availableHeight = viewSize - padding * 2;\r\n    const lineSpacing = availableHeight / (totalLines + 1);\r\n\r\n    // Calculate Y position for this line\r\n    const baseY = padding + lineSpacing * (index + 1);\r\n\r\n    // Stagger offset for motion feel\r\n    const staggerX = params.staggerOffset * (index % 2 === 0 ? 1 : -1) * (index / totalLines);\r\n\r\n    // Line start and end points\r\n    const startX = padding + staggerX;\r\n    const endX = viewSize - padding + staggerX;\r\n    const lineLength = endX - startX;\r\n\r\n    // Thickness with velocity effect (faster = thinner at edges)\r\n    const baseThickness = params.lineThickness;\r\n    const velocityTaper = params.velocityEffect * 0.5;\r\n\r\n    // Wave parameters\r\n    const waveAmp = params.lineWaveAmplitude;\r\n    const wavePhase = (index / totalLines) * Math.PI;\r\n\r\n    // Generate control points for the line\r\n    const segments = 4;\r\n    const points: Point[] = [];\r\n\r\n    for (let i = 0; i <= segments; i++) {\r\n        const t = i / segments;\r\n        const x = lerp(startX, endX, t);\r\n        const waveY = Math.sin(t * Math.PI * 2 + wavePhase) * waveAmp;\r\n        const y = baseY + waveY;\r\n        points.push({ x, y });\r\n    }\r\n\r\n    // Build the line shape with bezier curves\r\n    return createTaperedLinePath(points, baseThickness, params.taperDirection, params.curveTension, velocityTaper);\r\n}\r\n\r\n/**\r\n * Create a tapered line shape using cubic beziers\r\n */\r\nfunction createTaperedLinePath(\r\n    centerPoints: Point[],\r\n    thickness: number,\r\n    taperDirection: 'left' | 'right' | 'both' | 'none',\r\n    tension: number,\r\n    velocityTaper: number\r\n): string {\r\n    if (centerPoints.length < 2) return '';\r\n\r\n    const topPoints: Point[] = [];\r\n    const bottomPoints: Point[] = [];\r\n\r\n    for (let i = 0; i < centerPoints.length; i++) {\r\n        const t = i / (centerPoints.length - 1);\r\n        const p = centerPoints[i];\r\n\r\n        // Calculate thickness at this point\r\n        let thicknessMultiplier = 1;\r\n\r\n        if (taperDirection === 'left' || taperDirection === 'both') {\r\n            thicknessMultiplier *= 0.3 + t * 0.7;\r\n        }\r\n        if (taperDirection === 'right' || taperDirection === 'both') {\r\n            thicknessMultiplier *= 0.3 + (1 - t) * 0.7;\r\n        }\r\n\r\n        // Apply velocity taper at edges\r\n        const edgeDist = Math.min(t, 1 - t);\r\n        thicknessMultiplier *= 1 - velocityTaper * (1 - edgeDist * 4);\r\n\r\n        const halfThickness = (thickness * thicknessMultiplier) / 2;\r\n\r\n        topPoints.push({ x: p.x, y: p.y - halfThickness });\r\n        bottomPoints.push({ x: p.x, y: p.y + halfThickness });\r\n    }\r\n\r\n    // Build path: top edge forward, then bottom edge backward\r\n    let path = `M ${topPoints[0].x.toFixed(2)} ${topPoints[0].y.toFixed(2)}`;\r\n\r\n    // Top edge with smooth beziers\r\n    for (let i = 0; i < topPoints.length - 1; i++) {\r\n        const p0 = topPoints[Math.max(0, i - 1)];\r\n        const p1 = topPoints[i];\r\n        const p2 = topPoints[i + 1];\r\n        const p3 = topPoints[Math.min(topPoints.length - 1, i + 2)];\r\n\r\n        const cp1x = p1.x + (p2.x - p0.x) * tension / 3;\r\n        const cp1y = p1.y + (p2.y - p0.y) * tension / 3;\r\n        const cp2x = p2.x - (p3.x - p1.x) * tension / 3;\r\n        const cp2y = p2.y - (p3.y - p1.y) * tension / 3;\r\n\r\n        path += ` C ${cp1x.toFixed(2)} ${cp1y.toFixed(2)}, ${cp2x.toFixed(2)} ${cp2y.toFixed(2)}, ${p2.x.toFixed(2)} ${p2.y.toFixed(2)}`;\r\n    }\r\n\r\n    // Smooth cap at right end\r\n    const lastTop = topPoints[topPoints.length - 1];\r\n    const lastBottom = bottomPoints[bottomPoints.length - 1];\r\n    path += ` Q ${lastTop.x.toFixed(2)} ${(lastTop.y + lastBottom.y) / 2}, ${lastBottom.x.toFixed(2)} ${lastBottom.y.toFixed(2)}`;\r\n\r\n    // Bottom edge backward with smooth beziers\r\n    for (let i = bottomPoints.length - 1; i > 0; i--) {\r\n        const p0 = bottomPoints[Math.min(bottomPoints.length - 1, i + 1)];\r\n        const p1 = bottomPoints[i];\r\n        const p2 = bottomPoints[i - 1];\r\n        const p3 = bottomPoints[Math.max(0, i - 2)];\r\n\r\n        const cp1x = p1.x + (p2.x - p0.x) * tension / 3;\r\n        const cp1y = p1.y + (p2.y - p0.y) * tension / 3;\r\n        const cp2x = p2.x - (p3.x - p1.x) * tension / 3;\r\n        const cp2y = p2.y - (p3.y - p1.y) * tension / 3;\r\n\r\n        path += ` C ${cp1x.toFixed(2)} ${cp1y.toFixed(2)}, ${cp2x.toFixed(2)} ${cp2y.toFixed(2)}, ${p2.x.toFixed(2)} ${p2.y.toFixed(2)}`;\r\n    }\r\n\r\n    // Smooth cap at left end\r\n    const firstTop = topPoints[0];\r\n    const firstBottom = bottomPoints[0];\r\n    path += ` Q ${firstBottom.x.toFixed(2)} ${(firstTop.y + firstBottom.y) / 2}, ${firstTop.x.toFixed(2)} ${firstTop.y.toFixed(2)}`;\r\n\r\n    path += ' Z';\r\n\r\n    return path;\r\n}\r\n\r\n// ============================================\r\n// MAIN GENERATOR\r\n// ============================================\r\n\r\nfunction generateSingleMotionLines(\r\n    params: LogoGenerationParams,\r\n    hashParams: HashParams,\r\n    variant: number\r\n): { logo: GeneratedLogo; quality: QualityMetrics } {\r\n    const { brandName, primaryColor, accentColor } = params;\r\n\r\n    const size = 100;\r\n    const rng = createSeededRandom(hashParams.hashHex);\r\n    const algoParams = generateMotionLinesParams(hashParams, rng);\r\n    const svg = createSVG(size);\r\n    const uniqueId = generateLogoId('motion-lines', variant);\r\n\r\n    // Add gradient for depth\r\n    const gradientId = `${uniqueId}-grad`;\r\n    svg.addGradient(gradientId, {\r\n        type: 'linear',\r\n        angle: 0,\r\n        stops: [\r\n            { offset: 0, color: lighten(primaryColor, 10) },\r\n            { offset: 0.5, color: primaryColor },\r\n            { offset: 1, color: accentColor || darken(primaryColor, 15) },\r\n        ],\r\n    });\r\n\r\n    // Generate and render lines\r\n    for (let i = 0; i < algoParams.lineCount; i++) {\r\n        const linePath = generateLinePath(algoParams, i, algoParams.lineCount, size, rng);\r\n        const lineGradId = `${uniqueId}-line-${i}`;\r\n        const t = i / (algoParams.lineCount - 1);\r\n\r\n        svg.addGradient(lineGradId, {\r\n            type: 'linear',\r\n            angle: 0,\r\n            stops: [\r\n                { offset: 0, color: mixColors(primaryColor, accentColor || primaryColor, t * 0.5) },\r\n                { offset: 1, color: mixColors(primaryColor, accentColor || darken(primaryColor, 20), t) },\r\n            ],\r\n        });\r\n\r\n        svg.path(linePath, { fill: `url(#${lineGradId})` });\r\n    }\r\n\r\n    const svgString = svg.build();\r\n    const derivedParams = deriveParamsFromHash(hashParams.hashHex);\r\n    const quality = calculateQualityScore(svgString, derivedParams);\r\n    const hash = generateLogoHash(brandName, 'motion-lines', variant, algoParams);\r\n\r\n    const logo: GeneratedLogo = {\r\n        id: uniqueId,\r\n        hash,\r\n        algorithm: 'motion-lines',\r\n        variant: variant + 1,\r\n        svg: svgString,\r\n        viewBox: `0 0 ${size} ${size}`,\r\n        params: algoParams,\r\n        quality,\r\n        meta: {\r\n            brandName,\r\n            generatedAt: Date.now(),\r\n            seed: hashParams.hashHex,\r\n            hashParams,\r\n            geometry: {\r\n                usesGoldenRatio: false,\r\n                gridBased: true,\r\n                bezierCurves: true,\r\n                symmetry: 'horizontal',\r\n                pathCount: algoParams.lineCount,\r\n                complexity: calculateComplexity(svgString),\r\n            },\r\n            colors: {\r\n                primary: primaryColor,\r\n                accent: accentColor,\r\n                palette: [primaryColor, accentColor || darken(primaryColor, 15)],\r\n            },\r\n        },\r\n    };\r\n\r\n    return { logo, quality };\r\n}\r\n\r\nexport function generateMotionLines(params: LogoGenerationParams): GeneratedLogo[] {\r\n    const { brandName, variations = 3, minQualityScore = 80, category = 'technology' } = params;\r\n\r\n    const logos: GeneratedLogo[] = [];\r\n    const candidatesPerVariation = 5;\r\n\r\n    for (let v = 0; v < variations; v++) {\r\n        let bestCandidate: GeneratedLogo | null = null;\r\n        let bestScore = 0;\r\n\r\n        for (let c = 0; c < candidatesPerVariation; c++) {\r\n            const hashParams = generateHashParamsSync(brandName, category);\r\n            const { logo, quality } = generateSingleMotionLines(params, hashParams, v);\r\n\r\n            if (quality.score > bestScore) {\r\n                bestScore = quality.score;\r\n                bestCandidate = logo;\r\n            }\r\n\r\n            if (quality.score >= minQualityScore) break;\r\n        }\r\n\r\n        if (bestCandidate) {\r\n            storeHash({\r\n                hash: bestCandidate.hash,\r\n                brandName,\r\n                algorithm: 'motion-lines',\r\n                variant: v,\r\n                createdAt: Date.now(),\r\n                qualityScore: bestScore,\r\n            });\r\n            logos.push(bestCandidate);\r\n        }\r\n    }\r\n\r\n    return logos;\r\n}\r\n\r\nexport function generateSingleMotionLinesPreview(\r\n    primaryColor: string,\r\n    accentColor?: string,\r\n    seed: string = 'preview'\r\n): string {\r\n    const hashParams = generateHashParamsSync(seed, 'technology');\r\n    const rng = createSeededRandom(hashParams.hashHex);\r\n    const params = generateMotionLinesParams(hashParams, rng);\r\n    const size = 100;\r\n    const svg = createSVG(size);\r\n\r\n    svg.addGradient('main', {\r\n        type: 'linear',\r\n        angle: 0,\r\n        stops: [\r\n            { offset: 0, color: primaryColor },\r\n            { offset: 1, color: accentColor || darken(primaryColor, 15) },\r\n        ],\r\n    });\r\n\r\n    for (let i = 0; i < params.lineCount; i++) {\r\n        const linePath = generateLinePath(params, i, params.lineCount, size, rng);\r\n        svg.path(linePath, { fill: 'url(#main)' });\r\n    }\r\n\r\n    return svg.build();\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\generators\\mountain-peak.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'lighten' is defined but never used.","line":28,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":28,"endColumn":17}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Mountain Peak Generator (Outdoor/Adventure-style)\r\n *\r\n * Creates mountain silhouette shapes\r\n * Adventure and outdoor aesthetic\r\n * Inspired by outdoor and adventure brands\r\n */\r\n\r\nimport {\r\n    GeneratedLogo,\r\n    LogoGenerationParams,\r\n    MountainPeakParams,\r\n    QualityMetrics,\r\n    HashParams,\r\n} from '../types';\r\nimport {\r\n    createSeededRandom,\r\n    generateBaseParams,\r\n    generateLogoHash,\r\n    generateLogoId,\r\n    generateHashParamsSync,\r\n    deriveParamsFromHash,\r\n    calculateQualityScore,\r\n    calculateComplexity,\r\n    storeHash,\r\n} from '../core/parametric-engine';\r\nimport { createSVG } from '../core/svg-builder';\r\nimport { lighten, darken } from '../core/color-utils';\r\n\r\n// ============================================\r\n// PARAMETER GENERATION\r\n// ============================================\r\n\r\nfunction generateMountainPeakParams(hashParams: HashParams, rng: () => number): MountainPeakParams {\r\n    const derived = deriveParamsFromHash(hashParams.hashHex);\r\n    const base = generateBaseParams(rng);\r\n\r\n    const ridges: Array<'smooth' | 'jagged' | 'stepped'> = ['smooth', 'jagged', 'stepped'];\r\n\r\n    return {\r\n        ...base,\r\n        peakCount: Math.max(1, Math.min(3, Math.floor(derived.elementCount * 0.2 + 1))),\r\n        snowLine: derived.curveTension * 0.4 + 0.2,\r\n        ridgeStyle: ridges[Math.floor(derived.styleVariant % 3)],\r\n        baseWidth: derived.scaleFactor * 0.3 + 0.7,\r\n        peakSharpness: derived.perspectiveStrength,\r\n        layerCount: Math.max(1, Math.min(3, Math.floor(derived.layerCount * 0.5 + 1))),\r\n        sunBehind: derived.organicAmount > 0.6,\r\n        treeLine: derived.taperRatio > 0.5,\r\n        fogEffect: derived.bulgeAmount > 0.4,\r\n        mainPeakHeight: derived.armLength * 0.3 + 0.7,\r\n    };\r\n}\r\n\r\n// ============================================\r\n// PATH GENERATION\r\n// ============================================\r\n\r\nfunction generateMountainPath(\r\n    params: MountainPeakParams,\r\n    cx: number,\r\n    cy: number,\r\n    peakIndex: number,\r\n    scale: number = 1\r\n): string {\r\n    const { peakCount, ridgeStyle, baseWidth, peakSharpness, mainPeakHeight } = params;\r\n\r\n    const width = 50 * scale * baseWidth;\r\n    const height = 45 * scale * (peakIndex === 0 ? mainPeakHeight : mainPeakHeight * 0.75);\r\n\r\n    const offset = (peakIndex - (peakCount - 1) / 2) * width * 0.6;\r\n\r\n    const left = cx - width / 2 + offset;\r\n    const right = cx + width / 2 + offset;\r\n    const baseY = cy + height * 0.4;\r\n    const peakY = cy - height * 0.6;\r\n    const peakX = cx + offset;\r\n\r\n    let path = `M ${left.toFixed(2)} ${baseY.toFixed(2)}`;\r\n\r\n    if (ridgeStyle === 'smooth') {\r\n        // Smooth bezier mountain\r\n        const leftCP = { x: left + width * 0.2, y: baseY - height * 0.3 };\r\n        const peakLeftCP = { x: peakX - width * 0.15, y: peakY + height * 0.1 };\r\n\r\n        path += ` C ${leftCP.x.toFixed(2)} ${leftCP.y.toFixed(2)},`;\r\n        path += ` ${peakLeftCP.x.toFixed(2)} ${peakLeftCP.y.toFixed(2)},`;\r\n        path += ` ${peakX.toFixed(2)} ${peakY.toFixed(2)}`;\r\n\r\n        const peakRightCP = { x: peakX + width * 0.15, y: peakY + height * 0.1 };\r\n        const rightCP = { x: right - width * 0.2, y: baseY - height * 0.3 };\r\n\r\n        path += ` C ${peakRightCP.x.toFixed(2)} ${peakRightCP.y.toFixed(2)},`;\r\n        path += ` ${rightCP.x.toFixed(2)} ${rightCP.y.toFixed(2)},`;\r\n        path += ` ${right.toFixed(2)} ${baseY.toFixed(2)}`;\r\n\r\n    } else if (ridgeStyle === 'jagged') {\r\n        // Jagged peaks with small ridges\r\n        const segments = 4;\r\n        const segWidth = (peakX - left) / segments;\r\n\r\n        for (let i = 1; i <= segments; i++) {\r\n            const x = left + i * segWidth;\r\n            const progress = i / segments;\r\n            const baseHeight = baseY - (baseY - peakY) * progress;\r\n            const jag = (i % 2 === 0 ? 3 : -2) * peakSharpness;\r\n\r\n            path += ` L ${x.toFixed(2)} ${(baseHeight + jag).toFixed(2)}`;\r\n        }\r\n\r\n        path += ` L ${peakX.toFixed(2)} ${peakY.toFixed(2)}`;\r\n\r\n        for (let i = 1; i <= segments; i++) {\r\n            const x = peakX + i * segWidth;\r\n            const progress = i / segments;\r\n            const baseHeight = peakY + (baseY - peakY) * progress;\r\n            const jag = (i % 2 === 0 ? -3 : 2) * peakSharpness;\r\n\r\n            path += ` L ${x.toFixed(2)} ${(baseHeight + jag).toFixed(2)}`;\r\n        }\r\n\r\n    } else {\r\n        // Stepped/terraced\r\n        const steps = 3;\r\n        const stepWidth = (peakX - left) / steps;\r\n        const stepHeight = (baseY - peakY) / steps;\r\n\r\n        for (let i = 1; i <= steps; i++) {\r\n            const x = left + i * stepWidth;\r\n            const y = baseY - i * stepHeight;\r\n            path += ` L ${(x - stepWidth * 0.3).toFixed(2)} ${(y + stepHeight).toFixed(2)}`;\r\n            path += ` L ${(x - stepWidth * 0.3).toFixed(2)} ${y.toFixed(2)}`;\r\n        }\r\n\r\n        path += ` L ${peakX.toFixed(2)} ${peakY.toFixed(2)}`;\r\n\r\n        for (let i = 1; i <= steps; i++) {\r\n            const x = peakX + i * stepWidth;\r\n            const y = peakY + i * stepHeight;\r\n            path += ` L ${(x - stepWidth * 0.7).toFixed(2)} ${y.toFixed(2)}`;\r\n            path += ` L ${(x - stepWidth * 0.7).toFixed(2)} ${(y + stepHeight * 0.2).toFixed(2)}`;\r\n        }\r\n    }\r\n\r\n    path += ` L ${right.toFixed(2)} ${baseY.toFixed(2)}`;\r\n    path += ' Z';\r\n\r\n    return path;\r\n}\r\n\r\nfunction generateSnowCapPath(\r\n    params: MountainPeakParams,\r\n    cx: number,\r\n    cy: number,\r\n    peakIndex: number,\r\n    scale: number = 1\r\n): string {\r\n    const { peakCount, snowLine, baseWidth, mainPeakHeight } = params;\r\n\r\n    const width = 50 * scale * baseWidth;\r\n    const height = 45 * scale * (peakIndex === 0 ? mainPeakHeight : mainPeakHeight * 0.75);\r\n\r\n    const offset = (peakIndex - (peakCount - 1) / 2) * width * 0.6;\r\n\r\n    const peakX = cx + offset;\r\n    const peakY = cy - height * 0.6;\r\n    const snowY = peakY + height * snowLine;\r\n\r\n    const snowWidth = width * (0.3 + snowLine * 0.3);\r\n\r\n    return `\r\n        M ${peakX.toFixed(2)} ${peakY.toFixed(2)}\r\n        C ${(peakX - snowWidth * 0.3).toFixed(2)} ${(peakY + height * 0.08).toFixed(2)},\r\n          ${(peakX - snowWidth * 0.5).toFixed(2)} ${(snowY - height * 0.05).toFixed(2)},\r\n          ${(peakX - snowWidth * 0.5).toFixed(2)} ${snowY.toFixed(2)}\r\n        C ${(peakX - snowWidth * 0.3).toFixed(2)} ${(snowY + 2).toFixed(2)},\r\n          ${(peakX + snowWidth * 0.3).toFixed(2)} ${(snowY + 2).toFixed(2)},\r\n          ${(peakX + snowWidth * 0.5).toFixed(2)} ${snowY.toFixed(2)}\r\n        C ${(peakX + snowWidth * 0.5).toFixed(2)} ${(snowY - height * 0.05).toFixed(2)},\r\n          ${(peakX + snowWidth * 0.3).toFixed(2)} ${(peakY + height * 0.08).toFixed(2)},\r\n          ${peakX.toFixed(2)} ${peakY.toFixed(2)}\r\n        Z\r\n    `.replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\nfunction generateSunPath(\r\n    cx: number,\r\n    cy: number,\r\n    radius: number\r\n): string {\r\n    const k = 0.5522847498;\r\n    return `\r\n        M ${cx.toFixed(2)} ${(cy - radius).toFixed(2)}\r\n        C ${(cx + radius * k).toFixed(2)} ${(cy - radius).toFixed(2)},\r\n          ${(cx + radius).toFixed(2)} ${(cy - radius * k).toFixed(2)},\r\n          ${(cx + radius).toFixed(2)} ${cy.toFixed(2)}\r\n        C ${(cx + radius).toFixed(2)} ${(cy + radius * k).toFixed(2)},\r\n          ${(cx + radius * k).toFixed(2)} ${(cy + radius).toFixed(2)},\r\n          ${cx.toFixed(2)} ${(cy + radius).toFixed(2)}\r\n        C ${(cx - radius * k).toFixed(2)} ${(cy + radius).toFixed(2)},\r\n          ${(cx - radius).toFixed(2)} ${(cy + radius * k).toFixed(2)},\r\n          ${(cx - radius).toFixed(2)} ${cy.toFixed(2)}\r\n        C ${(cx - radius).toFixed(2)} ${(cy - radius * k).toFixed(2)},\r\n          ${(cx - radius * k).toFixed(2)} ${(cy - radius).toFixed(2)},\r\n          ${cx.toFixed(2)} ${(cy - radius).toFixed(2)}\r\n        Z\r\n    `.replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\n// ============================================\r\n// MAIN GENERATOR\r\n// ============================================\r\n\r\nfunction generateSingleMountainPeak(\r\n    params: LogoGenerationParams,\r\n    hashParams: HashParams,\r\n    variant: number\r\n): { logo: GeneratedLogo; quality: QualityMetrics } {\r\n    const { brandName, primaryColor, accentColor } = params;\r\n\r\n    const size = 100;\r\n    const cx = size / 2;\r\n    const cy = size / 2;\r\n\r\n    const rng = createSeededRandom(hashParams.hashHex);\r\n    const algoParams = generateMountainPeakParams(hashParams, rng);\r\n    const svg = createSVG(size);\r\n    const uniqueId = generateLogoId('mountain-peak', variant);\r\n\r\n    // Main gradient\r\n    const gradientId = `${uniqueId}-grad`;\r\n    svg.addGradient(gradientId, {\r\n        type: 'linear',\r\n        angle: 180,\r\n        stops: [\r\n            { offset: 0, color: primaryColor },\r\n            { offset: 0.6, color: darken(primaryColor, 15) },\r\n            { offset: 1, color: darken(primaryColor, 25) },\r\n        ],\r\n    });\r\n\r\n    // Sun behind mountains\r\n    if (algoParams.sunBehind) {\r\n        const sunPath = generateSunPath(cx, cy - 15, 18);\r\n        svg.path(sunPath, { fill: accentColor || '#FFD93D' });\r\n    }\r\n\r\n    // Background mountains (if multiple layers)\r\n    if (algoParams.layerCount > 1) {\r\n        for (let l = algoParams.layerCount - 1; l > 0; l--) {\r\n            const bgPath = generateMountainPath(algoParams, cx, cy + l * 8, 0, 0.9 - l * 0.1);\r\n            svg.path(bgPath, { fill: darken(primaryColor, 20 + l * 10), fillOpacity: (0.6 - l * 0.15).toString() });\r\n        }\r\n    }\r\n\r\n    // Main mountains\r\n    for (let i = algoParams.peakCount - 1; i >= 0; i--) {\r\n        const mountainPath = generateMountainPath(algoParams, cx, cy, i);\r\n        const opacity = i === 0 ? 1 : 0.8;\r\n        svg.path(mountainPath, { fill: `url(#${gradientId})`, fillOpacity: opacity.toString() });\r\n\r\n        // Snow caps\r\n        if (algoParams.snowLine > 0.1) {\r\n            const snowPath = generateSnowCapPath(algoParams, cx, cy, i);\r\n            svg.path(snowPath, { fill: '#FFFFFF', fillOpacity: '0.95' });\r\n        }\r\n    }\r\n\r\n    // Fog effect\r\n    if (algoParams.fogEffect) {\r\n        const fogGradId = `${uniqueId}-fog`;\r\n        svg.addGradient(fogGradId, {\r\n            type: 'linear',\r\n            angle: 180,\r\n            stops: [\r\n                { offset: 0, color: '#FFFFFF', opacity: 0 },\r\n                { offset: 0.7, color: '#FFFFFF', opacity: 0.3 },\r\n                { offset: 1, color: '#FFFFFF', opacity: 0.5 },\r\n            ],\r\n        });\r\n\r\n        const fogPath = `\r\n            M ${(cx - 40).toFixed(2)} ${(cy + 20).toFixed(2)}\r\n            L ${(cx + 40).toFixed(2)} ${(cy + 20).toFixed(2)}\r\n            L ${(cx + 40).toFixed(2)} ${(cy + 35).toFixed(2)}\r\n            L ${(cx - 40).toFixed(2)} ${(cy + 35).toFixed(2)}\r\n            Z\r\n        `.replace(/\\s+/g, ' ').trim();\r\n        svg.path(fogPath, { fill: `url(#${fogGradId})` });\r\n    }\r\n\r\n    const svgString = svg.build();\r\n    const derivedParams = deriveParamsFromHash(hashParams.hashHex);\r\n    const quality = calculateQualityScore(svgString, derivedParams);\r\n    const hash = generateLogoHash(brandName, 'mountain-peak', variant, algoParams);\r\n\r\n    const logo: GeneratedLogo = {\r\n        id: uniqueId,\r\n        hash,\r\n        algorithm: 'mountain-peak',\r\n        variant: variant + 1,\r\n        svg: svgString,\r\n        viewBox: `0 0 ${size} ${size}`,\r\n        params: algoParams,\r\n        quality,\r\n        meta: {\r\n            brandName,\r\n            generatedAt: Date.now(),\r\n            seed: hashParams.hashHex,\r\n            hashParams,\r\n            geometry: {\r\n                usesGoldenRatio: false,\r\n                gridBased: false,\r\n                bezierCurves: algoParams.ridgeStyle === 'smooth',\r\n                symmetry: 'none',\r\n                pathCount: algoParams.peakCount * (algoParams.snowLine > 0.1 ? 2 : 1) + algoParams.layerCount - 1,\r\n                complexity: calculateComplexity(svgString),\r\n            },\r\n            colors: {\r\n                primary: primaryColor,\r\n                accent: accentColor,\r\n                palette: [primaryColor, darken(primaryColor, 20), '#FFFFFF'],\r\n            },\r\n        },\r\n    };\r\n\r\n    return { logo, quality };\r\n}\r\n\r\nexport function generateMountainPeak(params: LogoGenerationParams): GeneratedLogo[] {\r\n    const { brandName, variations = 3, minQualityScore = 85, category = 'creative' } = params;\r\n\r\n    const logos: GeneratedLogo[] = [];\r\n    const candidatesPerVariation = 5;\r\n\r\n    for (let v = 0; v < variations; v++) {\r\n        let bestCandidate: GeneratedLogo | null = null;\r\n        let bestScore = 0;\r\n\r\n        for (let c = 0; c < candidatesPerVariation; c++) {\r\n            const hashParams = generateHashParamsSync(brandName, category);\r\n            const { logo, quality } = generateSingleMountainPeak(params, hashParams, v);\r\n\r\n            if (quality.score > bestScore) {\r\n                bestScore = quality.score;\r\n                bestCandidate = logo;\r\n            }\r\n\r\n            if (quality.score >= minQualityScore) break;\r\n        }\r\n\r\n        if (bestCandidate) {\r\n            storeHash({\r\n                hash: bestCandidate.hash,\r\n                brandName,\r\n                algorithm: 'mountain-peak',\r\n                variant: v,\r\n                createdAt: Date.now(),\r\n                qualityScore: bestScore,\r\n            });\r\n            logos.push(bestCandidate);\r\n        }\r\n    }\r\n\r\n    return logos;\r\n}\r\n\r\nexport function generateSingleMountainPeakPreview(\r\n    primaryColor: string,\r\n    accentColor?: string,\r\n    seed: string = 'preview'\r\n): string {\r\n    const hashParams = generateHashParamsSync(seed, 'creative');\r\n    const rng = createSeededRandom(hashParams.hashHex);\r\n    const params = generateMountainPeakParams(hashParams, rng);\r\n    const size = 100;\r\n    const svg = createSVG(size);\r\n\r\n    svg.addGradient('main', {\r\n        type: 'linear',\r\n        angle: 180,\r\n        stops: [\r\n            { offset: 0, color: primaryColor },\r\n            { offset: 1, color: darken(primaryColor, 20) },\r\n        ],\r\n    });\r\n\r\n    const path = generateMountainPath(params, size / 2, size / 2, 0);\r\n    svg.path(path, { fill: 'url(#main)' });\r\n\r\n    return svg.build();\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\generators\\orbital-paths.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\generators\\orbital-rings.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\generators\\perfect-triangle.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":269,"column":89,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":269,"endColumn":92,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9347,9350],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9347,9350],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Perfect Triangle Generator (Vercel-style)\r\n *\r\n * Creates a single perfect geometric triangle\r\n * Clean, minimal, mathematically precise\r\n * Uses bezier paths (no polygon primitives)\r\n */\r\n\r\nimport {\r\n    GeneratedLogo,\r\n    LogoGenerationParams,\r\n    PerfectTriangleParams,\r\n    QualityMetrics,\r\n    HashParams,\r\n    Point,\r\n} from '../types';\r\nimport {\r\n    createSeededRandom,\r\n    generateBaseParams,\r\n    generateLogoHash,\r\n    generateLogoId,\r\n    generateHashParamsSync,\r\n    deriveParamsFromHash,\r\n    calculateQualityScore,\r\n    calculateComplexity,\r\n    storeHash,\r\n    PHI,\r\n} from '../core/parametric-engine';\r\nimport { createSVG } from '../core/svg-builder';\r\nimport { lighten, darken } from '../core/color-utils';\r\n\r\n// ============================================\r\n// PARAMETER GENERATION\r\n// ============================================\r\n\r\nfunction generatePerfectTriangleParams(hashParams: HashParams, rng: () => number): PerfectTriangleParams {\r\n    const derived = deriveParamsFromHash(hashParams.hashHex);\r\n    const base = generateBaseParams(rng);\r\n\r\n    const triangleTypes: Array<'equilateral' | 'isoceles' | 'right'> = ['equilateral', 'isoceles', 'right'];\r\n    const fillStyles: Array<'solid' | 'gradient' | 'outline'> = ['solid', 'gradient', 'outline'];\r\n\r\n    return {\r\n        ...base,\r\n        triangleType: triangleTypes[derived.styleVariant % 3],\r\n        triangleSize: Math.max(60, Math.min(90, 75 + derived.scaleFactor * 10)),\r\n        rotation: derived.rotationOffset,\r\n        fillStyle: fillStyles[Math.floor(derived.colorPlacement / 3) % 3],\r\n        outlineWidth: Math.max(2, Math.min(10, derived.strokeWidth)),\r\n        innerCutout: derived.cutDepth > 0.5,\r\n        cutoutScale: Math.max(0.3, Math.min(0.7, derived.cutDepth)),\r\n    };\r\n}\r\n\r\n// ============================================\r\n// TRIANGLE PATH GENERATION\r\n// ============================================\r\n\r\n/**\r\n * Calculate triangle vertices based on type\r\n */\r\nfunction calculateTriangleVertices(\r\n    params: PerfectTriangleParams,\r\n    cx: number,\r\n    cy: number,\r\n    size: number\r\n): Point[] {\r\n    const halfSize = size / 2;\r\n    let vertices: Point[];\r\n\r\n    switch (params.triangleType) {\r\n        case 'equilateral': {\r\n            // Perfect equilateral triangle\r\n            const height = halfSize * Math.sqrt(3);\r\n            vertices = [\r\n                { x: cx, y: cy - height * 0.6 },           // Top\r\n                { x: cx - halfSize, y: cy + height * 0.4 }, // Bottom left\r\n                { x: cx + halfSize, y: cy + height * 0.4 }, // Bottom right\r\n            ];\r\n            break;\r\n        }\r\n        case 'isoceles': {\r\n            // Isoceles with golden ratio proportions\r\n            const baseWidth = halfSize * PHI;\r\n            const height = halfSize * 1.2;\r\n            vertices = [\r\n                { x: cx, y: cy - height * 0.5 },            // Top\r\n                { x: cx - baseWidth / 2, y: cy + height * 0.5 }, // Bottom left\r\n                { x: cx + baseWidth / 2, y: cy + height * 0.5 }, // Bottom right\r\n            ];\r\n            break;\r\n        }\r\n        case 'right': {\r\n            // Right triangle\r\n            vertices = [\r\n                { x: cx - halfSize * 0.4, y: cy - halfSize * 0.5 }, // Top\r\n                { x: cx - halfSize * 0.4, y: cy + halfSize * 0.5 }, // Bottom left\r\n                { x: cx + halfSize * 0.6, y: cy + halfSize * 0.5 }, // Bottom right\r\n            ];\r\n            break;\r\n        }\r\n        default:\r\n            vertices = [\r\n                { x: cx, y: cy - halfSize },\r\n                { x: cx - halfSize, y: cy + halfSize },\r\n                { x: cx + halfSize, y: cy + halfSize },\r\n            ];\r\n    }\r\n\r\n    // Apply rotation\r\n    const angleRad = (params.rotation * Math.PI) / 180;\r\n    return vertices.map(v => ({\r\n        x: cx + (v.x - cx) * Math.cos(angleRad) - (v.y - cy) * Math.sin(angleRad),\r\n        y: cy + (v.x - cx) * Math.sin(angleRad) + (v.y - cy) * Math.cos(angleRad),\r\n    }));\r\n}\r\n\r\n/**\r\n * Create triangle path using bezier curves (with subtle curve on edges for premium feel)\r\n */\r\nfunction createTrianglePath(\r\n    vertices: Point[],\r\n    curvature: number = 0.02 // Subtle curve for organic feel\r\n): string {\r\n    const [p1, p2, p3] = vertices;\r\n\r\n    // Calculate midpoints with slight curve offset\r\n    const mid12 = {\r\n        x: (p1.x + p2.x) / 2,\r\n        y: (p1.y + p2.y) / 2,\r\n    };\r\n    const mid23 = {\r\n        x: (p2.x + p3.x) / 2,\r\n        y: (p2.y + p3.y) / 2,\r\n    };\r\n    const mid31 = {\r\n        x: (p3.x + p1.x) / 2,\r\n        y: (p3.y + p1.y) / 2,\r\n    };\r\n\r\n    // Centroid for curve direction\r\n    const centroid = {\r\n        x: (p1.x + p2.x + p3.x) / 3,\r\n        y: (p1.y + p2.y + p3.y) / 3,\r\n    };\r\n\r\n    // Calculate control points (slight inward curve for organic feel)\r\n    const curve12 = {\r\n        x: mid12.x + (centroid.x - mid12.x) * curvature,\r\n        y: mid12.y + (centroid.y - mid12.y) * curvature,\r\n    };\r\n    const curve23 = {\r\n        x: mid23.x + (centroid.x - mid23.x) * curvature,\r\n        y: mid23.y + (centroid.y - mid23.y) * curvature,\r\n    };\r\n    const curve31 = {\r\n        x: mid31.x + (centroid.x - mid31.x) * curvature,\r\n        y: mid31.y + (centroid.y - mid31.y) * curvature,\r\n    };\r\n\r\n    return `\r\n        M ${p1.x.toFixed(2)} ${p1.y.toFixed(2)}\r\n        Q ${curve12.x.toFixed(2)} ${curve12.y.toFixed(2)}, ${p2.x.toFixed(2)} ${p2.y.toFixed(2)}\r\n        Q ${curve23.x.toFixed(2)} ${curve23.y.toFixed(2)}, ${p3.x.toFixed(2)} ${p3.y.toFixed(2)}\r\n        Q ${curve31.x.toFixed(2)} ${curve31.y.toFixed(2)}, ${p1.x.toFixed(2)} ${p1.y.toFixed(2)}\r\n        Z\r\n    `.replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\n/**\r\n * Create inner cutout triangle (scaled down from original)\r\n */\r\nfunction createCutoutPath(vertices: Point[], scale: number): string {\r\n    const centroid = {\r\n        x: (vertices[0].x + vertices[1].x + vertices[2].x) / 3,\r\n        y: (vertices[0].y + vertices[1].y + vertices[2].y) / 3,\r\n    };\r\n\r\n    const scaledVertices = vertices.map(v => ({\r\n        x: centroid.x + (v.x - centroid.x) * scale,\r\n        y: centroid.y + (v.y - centroid.y) * scale,\r\n    }));\r\n\r\n    return createTrianglePath(scaledVertices, 0.02);\r\n}\r\n\r\n// ============================================\r\n// MAIN GENERATOR\r\n// ============================================\r\n\r\nfunction generateSinglePerfectTriangle(\r\n    params: LogoGenerationParams,\r\n    hashParams: HashParams,\r\n    variant: number\r\n): { logo: GeneratedLogo; quality: QualityMetrics } {\r\n    const { brandName, primaryColor, accentColor } = params;\r\n\r\n    const size = 100;\r\n    const cx = size / 2;\r\n    const cy = size / 2;\r\n\r\n    const rng = createSeededRandom(hashParams.hashHex);\r\n    const algoParams = generatePerfectTriangleParams(hashParams, rng);\r\n    const svg = createSVG(size);\r\n    const uniqueId = generateLogoId('perfect-triangle', variant);\r\n\r\n    // Calculate triangle size in pixels\r\n    const triangleSize = (algoParams.triangleSize / 100) * size;\r\n    const vertices = calculateTriangleVertices(algoParams, cx, cy, triangleSize);\r\n\r\n    // Create gradient\r\n    const gradientId = `${uniqueId}-grad`;\r\n    svg.addGradient(gradientId, {\r\n        type: 'linear',\r\n        angle: algoParams.rotation + 90,\r\n        stops: [\r\n            { offset: 0, color: lighten(primaryColor, 10) },\r\n            { offset: 1, color: accentColor || darken(primaryColor, 15) },\r\n        ],\r\n    });\r\n\r\n    // Create the triangle path\r\n    const trianglePath = createTrianglePath(vertices);\r\n\r\n    if (algoParams.fillStyle === 'outline') {\r\n        // Create outline by drawing outer and inner triangles\r\n        const innerScale = 1 - (algoParams.outlineWidth / triangleSize) * 2;\r\n        const innerPath = createCutoutPath(vertices, innerScale);\r\n\r\n        // Combine paths for outline effect (outer minus inner)\r\n        svg.path(trianglePath, { fill: `url(#${gradientId})` });\r\n        svg.path(innerPath, { fill: '#ffffff' }); // White cutout (or could use mask)\r\n    } else {\r\n        // Solid or gradient fill\r\n        svg.path(trianglePath, {\r\n            fill: algoParams.fillStyle === 'gradient' ? `url(#${gradientId})` : primaryColor,\r\n        });\r\n\r\n        // Add inner cutout if enabled\r\n        if (algoParams.innerCutout) {\r\n            const cutoutPath = createCutoutPath(vertices, algoParams.cutoutScale);\r\n            svg.path(cutoutPath, { fill: '#ffffff' });\r\n        }\r\n    }\r\n\r\n    const svgString = svg.build();\r\n    const derivedParams = deriveParamsFromHash(hashParams.hashHex);\r\n    const quality = calculateQualityScore(svgString, derivedParams);\r\n    const hash = generateLogoHash(brandName, 'perfect-triangle', variant, algoParams);\r\n\r\n    const logo: GeneratedLogo = {\r\n        id: uniqueId,\r\n        hash,\r\n        algorithm: 'perfect-triangle',\r\n        variant: variant + 1,\r\n        svg: svgString,\r\n        viewBox: `0 0 ${size} ${size}`,\r\n        params: algoParams,\r\n        quality,\r\n        meta: {\r\n            brandName,\r\n            generatedAt: Date.now(),\r\n            seed: hashParams.hashHex,\r\n            hashParams,\r\n            geometry: {\r\n                usesGoldenRatio: algoParams.triangleType === 'isoceles',\r\n                gridBased: false,\r\n                bezierCurves: true,\r\n                symmetry: algoParams.triangleType === 'equilateral' ? 'rotational-3' as any : 'none',\r\n                pathCount: algoParams.innerCutout || algoParams.fillStyle === 'outline' ? 2 : 1,\r\n                complexity: calculateComplexity(svgString),\r\n            },\r\n            colors: {\r\n                primary: primaryColor,\r\n                accent: accentColor,\r\n                palette: [primaryColor, accentColor || darken(primaryColor, 15)],\r\n            },\r\n        },\r\n    };\r\n\r\n    return { logo, quality };\r\n}\r\n\r\nexport function generatePerfectTriangle(params: LogoGenerationParams): GeneratedLogo[] {\r\n    const { brandName, variations = 3, minQualityScore = 80, category = 'technology' } = params;\r\n\r\n    const logos: GeneratedLogo[] = [];\r\n    const candidatesPerVariation = 5;\r\n\r\n    for (let v = 0; v < variations; v++) {\r\n        let bestCandidate: GeneratedLogo | null = null;\r\n        let bestScore = 0;\r\n\r\n        for (let c = 0; c < candidatesPerVariation; c++) {\r\n            const hashParams = generateHashParamsSync(brandName, category);\r\n            const { logo, quality } = generateSinglePerfectTriangle(params, hashParams, v);\r\n\r\n            if (quality.score > bestScore) {\r\n                bestScore = quality.score;\r\n                bestCandidate = logo;\r\n            }\r\n\r\n            if (quality.score >= minQualityScore) break;\r\n        }\r\n\r\n        if (bestCandidate) {\r\n            storeHash({\r\n                hash: bestCandidate.hash,\r\n                brandName,\r\n                algorithm: 'perfect-triangle',\r\n                variant: v,\r\n                createdAt: Date.now(),\r\n                qualityScore: bestScore,\r\n            });\r\n            logos.push(bestCandidate);\r\n        }\r\n    }\r\n\r\n    return logos;\r\n}\r\n\r\nexport function generateSinglePerfectTrianglePreview(\r\n    primaryColor: string,\r\n    accentColor?: string,\r\n    seed: string = 'preview'\r\n): string {\r\n    const hashParams = generateHashParamsSync(seed, 'technology');\r\n    const rng = createSeededRandom(hashParams.hashHex);\r\n    const params = generatePerfectTriangleParams(hashParams, rng);\r\n    const size = 100;\r\n    const svg = createSVG(size);\r\n\r\n    const triangleSize = (params.triangleSize / 100) * size;\r\n    const vertices = calculateTriangleVertices(params, size / 2, size / 2, triangleSize);\r\n\r\n    svg.addGradient('main', {\r\n        type: 'linear',\r\n        angle: params.rotation + 90,\r\n        stops: [\r\n            { offset: 0, color: primaryColor },\r\n            { offset: 1, color: accentColor || darken(primaryColor, 15) },\r\n        ],\r\n    });\r\n\r\n    svg.path(createTrianglePath(vertices), { fill: 'url(#main)' });\r\n\r\n    return svg.build();\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\generators\\shield-badge.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'innerPadding' is assigned a value but never used.","line":116,"column":27,"nodeType":null,"messageId":"unusedVar","endLine":116,"endColumn":39}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Shield Badge Generator (Security Apps-style)\r\n *\r\n * Creates protective shield shapes with inner patterns\r\n * Classic to modern shield forms with crests and divisions\r\n * Inspired by security and trust-focused brands\r\n */\r\n\r\nimport {\r\n    GeneratedLogo,\r\n    LogoGenerationParams,\r\n    ShieldBadgeParams,\r\n    QualityMetrics,\r\n    HashParams,\r\n} from '../types';\r\nimport {\r\n    createSeededRandom,\r\n    generateBaseParams,\r\n    generateLogoHash,\r\n    generateLogoId,\r\n    generateHashParamsSync,\r\n    deriveParamsFromHash,\r\n    calculateQualityScore,\r\n    calculateComplexity,\r\n    storeHash,\r\n} from '../core/parametric-engine';\r\nimport { createSVG } from '../core/svg-builder';\r\nimport { lighten, darken } from '../core/color-utils';\r\n\r\n// ============================================\r\n// PARAMETER GENERATION\r\n// ============================================\r\n\r\nfunction generateShieldBadgeParams(hashParams: HashParams, rng: () => number): ShieldBadgeParams {\r\n    const derived = deriveParamsFromHash(hashParams.hashHex);\r\n    const base = generateBaseParams(rng);\r\n\r\n    const shapes: Array<'classic' | 'modern' | 'rounded' | 'pointed'> = ['classic', 'modern', 'rounded', 'pointed'];\r\n    const patterns: Array<'none' | 'cross' | 'star' | 'chevron'> = ['none', 'cross', 'star', 'chevron'];\r\n    const crests: Array<'flat' | 'curved' | 'pointed'> = ['flat', 'curved', 'pointed'];\r\n    const divisions: Array<'none' | 'quarters' | 'horizontal' | 'vertical'> = ['none', 'quarters', 'horizontal', 'vertical'];\r\n\r\n    return {\r\n        ...base,\r\n        shieldShape: shapes[Math.floor(derived.styleVariant % 4)],\r\n        innerPattern: patterns[Math.floor((derived.styleVariant + derived.elementCount) % 4)],\r\n        borderWidth: derived.strokeWidth * 0.5 + 2,\r\n        crestStyle: crests[Math.floor(derived.colorPlacement % 3)],\r\n        innerPadding: derived.spacingFactor * 5 + 5,\r\n        divisionStyle: divisions[Math.floor(derived.layerCount % 4)],\r\n        accentBand: derived.organicAmount > 0.5,\r\n        bandPosition: derived.taperRatio * 0.4 + 0.3,\r\n        embossEffect: derived.perspectiveStrength,\r\n        cornerDetail: derived.bulgeAmount > 0.3,\r\n    };\r\n}\r\n\r\n// ============================================\r\n// PATH GENERATION\r\n// ============================================\r\n\r\nfunction generateShieldPath(\r\n    params: ShieldBadgeParams,\r\n    cx: number,\r\n    cy: number,\r\n    scale: number = 1\r\n): string {\r\n    const { shieldShape, crestStyle } = params;\r\n    const width = 36 * scale;\r\n    const height = 44 * scale;\r\n\r\n    const left = cx - width / 2;\r\n    const right = cx + width / 2;\r\n    const top = cy - height / 2;\r\n    const bottom = cy + height / 2;\r\n\r\n    // Top edge control\r\n    const topCurve = crestStyle === 'curved' ? -4 * scale : crestStyle === 'pointed' ? -8 * scale : 0;\r\n\r\n    // Bottom point\r\n    const bottomPointY = bottom + (shieldShape === 'pointed' ? 6 * scale : 0);\r\n    const bottomCurve = shieldShape === 'rounded' ? 8 * scale : shieldShape === 'modern' ? 4 * scale : 2 * scale;\r\n\r\n    // Side curves based on shape\r\n    const sideCurve = shieldShape === 'classic' ? 4 * scale : shieldShape === 'rounded' ? 8 * scale : 2 * scale;\r\n\r\n    return `\r\n        M ${cx.toFixed(2)} ${(top + topCurve).toFixed(2)}\r\n        C ${(cx - width * 0.3).toFixed(2)} ${top.toFixed(2)},\r\n          ${left.toFixed(2)} ${top.toFixed(2)},\r\n          ${left.toFixed(2)} ${(top + height * 0.1).toFixed(2)}\r\n        C ${(left - sideCurve).toFixed(2)} ${(cy - height * 0.1).toFixed(2)},\r\n          ${(left - sideCurve * 0.5).toFixed(2)} ${(cy + height * 0.2).toFixed(2)},\r\n          ${(left + width * 0.1).toFixed(2)} ${(bottom - bottomCurve).toFixed(2)}\r\n        C ${(left + width * 0.2).toFixed(2)} ${bottom.toFixed(2)},\r\n          ${(cx - width * 0.1).toFixed(2)} ${bottomPointY.toFixed(2)},\r\n          ${cx.toFixed(2)} ${(bottomPointY + bottomCurve * 0.5).toFixed(2)}\r\n        C ${(cx + width * 0.1).toFixed(2)} ${bottomPointY.toFixed(2)},\r\n          ${(right - width * 0.2).toFixed(2)} ${bottom.toFixed(2)},\r\n          ${(right - width * 0.1).toFixed(2)} ${(bottom - bottomCurve).toFixed(2)}\r\n        C ${(right + sideCurve * 0.5).toFixed(2)} ${(cy + height * 0.2).toFixed(2)},\r\n          ${(right + sideCurve).toFixed(2)} ${(cy - height * 0.1).toFixed(2)},\r\n          ${right.toFixed(2)} ${(top + height * 0.1).toFixed(2)}\r\n        C ${right.toFixed(2)} ${top.toFixed(2)},\r\n          ${(cx + width * 0.3).toFixed(2)} ${top.toFixed(2)},\r\n          ${cx.toFixed(2)} ${(top + topCurve).toFixed(2)}\r\n        Z\r\n    `.replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\nfunction generateInnerPattern(\r\n    params: ShieldBadgeParams,\r\n    cx: number,\r\n    cy: number\r\n): string {\r\n    const { innerPattern, innerPadding } = params;\r\n    const size = 12;\r\n\r\n    switch (innerPattern) {\r\n        case 'cross':\r\n            const crossWidth = 3;\r\n            return `\r\n                M ${(cx - crossWidth / 2).toFixed(2)} ${(cy - size / 2).toFixed(2)}\r\n                C ${(cx - crossWidth / 2).toFixed(2)} ${(cy - size / 2).toFixed(2)},\r\n                  ${(cx + crossWidth / 2).toFixed(2)} ${(cy - size / 2).toFixed(2)},\r\n                  ${(cx + crossWidth / 2).toFixed(2)} ${(cy - size / 2).toFixed(2)}\r\n                L ${(cx + crossWidth / 2).toFixed(2)} ${(cy - crossWidth / 2).toFixed(2)}\r\n                L ${(cx + size / 2).toFixed(2)} ${(cy - crossWidth / 2).toFixed(2)}\r\n                L ${(cx + size / 2).toFixed(2)} ${(cy + crossWidth / 2).toFixed(2)}\r\n                L ${(cx + crossWidth / 2).toFixed(2)} ${(cy + crossWidth / 2).toFixed(2)}\r\n                L ${(cx + crossWidth / 2).toFixed(2)} ${(cy + size / 2).toFixed(2)}\r\n                L ${(cx - crossWidth / 2).toFixed(2)} ${(cy + size / 2).toFixed(2)}\r\n                L ${(cx - crossWidth / 2).toFixed(2)} ${(cy + crossWidth / 2).toFixed(2)}\r\n                L ${(cx - size / 2).toFixed(2)} ${(cy + crossWidth / 2).toFixed(2)}\r\n                L ${(cx - size / 2).toFixed(2)} ${(cy - crossWidth / 2).toFixed(2)}\r\n                L ${(cx - crossWidth / 2).toFixed(2)} ${(cy - crossWidth / 2).toFixed(2)}\r\n                Z\r\n            `.replace(/\\s+/g, ' ').trim();\r\n\r\n        case 'chevron':\r\n            return `\r\n                M ${cx.toFixed(2)} ${(cy - size / 2).toFixed(2)}\r\n                L ${(cx + size / 2).toFixed(2)} ${cy.toFixed(2)}\r\n                L ${cx.toFixed(2)} ${(cy + size / 2).toFixed(2)}\r\n                L ${(cx - size / 2).toFixed(2)} ${cy.toFixed(2)}\r\n                Z\r\n            `.replace(/\\s+/g, ' ').trim();\r\n\r\n        case 'star':\r\n            const points = 5;\r\n            const outerR = size / 2;\r\n            const innerR = outerR * 0.4;\r\n            let starPath = '';\r\n            for (let i = 0; i < points * 2; i++) {\r\n                const angle = (i * Math.PI) / points - Math.PI / 2;\r\n                const r = i % 2 === 0 ? outerR : innerR;\r\n                const x = cx + Math.cos(angle) * r;\r\n                const y = cy + Math.sin(angle) * r;\r\n                starPath += i === 0 ? `M ${x.toFixed(2)} ${y.toFixed(2)}` : ` L ${x.toFixed(2)} ${y.toFixed(2)}`;\r\n            }\r\n            return starPath + ' Z';\r\n\r\n        default:\r\n            return '';\r\n    }\r\n}\r\n\r\n// ============================================\r\n// MAIN GENERATOR\r\n// ============================================\r\n\r\nfunction generateSingleShieldBadge(\r\n    params: LogoGenerationParams,\r\n    hashParams: HashParams,\r\n    variant: number\r\n): { logo: GeneratedLogo; quality: QualityMetrics } {\r\n    const { brandName, primaryColor, accentColor } = params;\r\n\r\n    const size = 100;\r\n    const cx = size / 2;\r\n    const cy = size / 2;\r\n\r\n    const rng = createSeededRandom(hashParams.hashHex);\r\n    const algoParams = generateShieldBadgeParams(hashParams, rng);\r\n    const svg = createSVG(size);\r\n    const uniqueId = generateLogoId('shield-badge', variant);\r\n\r\n    // Main gradient\r\n    const gradientId = `${uniqueId}-grad`;\r\n    svg.addGradient(gradientId, {\r\n        type: 'linear',\r\n        angle: 180,\r\n        stops: [\r\n            { offset: 0, color: lighten(primaryColor, 15) },\r\n            { offset: 0.5, color: primaryColor },\r\n            { offset: 1, color: darken(primaryColor, 15) },\r\n        ],\r\n    });\r\n\r\n    // Shield outline\r\n    const shieldPath = generateShieldPath(algoParams, cx, cy);\r\n    svg.path(shieldPath, { fill: `url(#${gradientId})` });\r\n\r\n    // Inner shield (border effect)\r\n    if (algoParams.borderWidth > 2) {\r\n        const innerShieldPath = generateShieldPath(algoParams, cx, cy, 0.85);\r\n        svg.path(innerShieldPath, { fill: darken(primaryColor, 10) });\r\n    }\r\n\r\n    // Inner pattern\r\n    const patternPath = generateInnerPattern(algoParams, cx, cy + 2);\r\n    if (patternPath) {\r\n        svg.path(patternPath, { fill: accentColor || lighten(primaryColor, 30) });\r\n    }\r\n\r\n    const svgString = svg.build();\r\n    const derivedParams = deriveParamsFromHash(hashParams.hashHex);\r\n    const quality = calculateQualityScore(svgString, derivedParams);\r\n    const hash = generateLogoHash(brandName, 'shield-badge', variant, algoParams);\r\n\r\n    const logo: GeneratedLogo = {\r\n        id: uniqueId,\r\n        hash,\r\n        algorithm: 'shield-badge',\r\n        variant: variant + 1,\r\n        svg: svgString,\r\n        viewBox: `0 0 ${size} ${size}`,\r\n        params: algoParams,\r\n        quality,\r\n        meta: {\r\n            brandName,\r\n            generatedAt: Date.now(),\r\n            seed: hashParams.hashHex,\r\n            hashParams,\r\n            geometry: {\r\n                usesGoldenRatio: false,\r\n                gridBased: false,\r\n                bezierCurves: true,\r\n                symmetry: 'vertical',\r\n                pathCount: algoParams.innerPattern !== 'none' ? 3 : 2,\r\n                complexity: calculateComplexity(svgString),\r\n            },\r\n            colors: {\r\n                primary: primaryColor,\r\n                accent: accentColor,\r\n                palette: [primaryColor, accentColor || darken(primaryColor, 15)],\r\n            },\r\n        },\r\n    };\r\n\r\n    return { logo, quality };\r\n}\r\n\r\nexport function generateShieldBadge(params: LogoGenerationParams): GeneratedLogo[] {\r\n    const { brandName, variations = 3, minQualityScore = 85, category = 'technology' } = params;\r\n\r\n    const logos: GeneratedLogo[] = [];\r\n    const candidatesPerVariation = 5;\r\n\r\n    for (let v = 0; v < variations; v++) {\r\n        let bestCandidate: GeneratedLogo | null = null;\r\n        let bestScore = 0;\r\n\r\n        for (let c = 0; c < candidatesPerVariation; c++) {\r\n            const hashParams = generateHashParamsSync(brandName, category);\r\n            const { logo, quality } = generateSingleShieldBadge(params, hashParams, v);\r\n\r\n            if (quality.score > bestScore) {\r\n                bestScore = quality.score;\r\n                bestCandidate = logo;\r\n            }\r\n\r\n            if (quality.score >= minQualityScore) break;\r\n        }\r\n\r\n        if (bestCandidate) {\r\n            storeHash({\r\n                hash: bestCandidate.hash,\r\n                brandName,\r\n                algorithm: 'shield-badge',\r\n                variant: v,\r\n                createdAt: Date.now(),\r\n                qualityScore: bestScore,\r\n            });\r\n            logos.push(bestCandidate);\r\n        }\r\n    }\r\n\r\n    return logos;\r\n}\r\n\r\nexport function generateSingleShieldBadgePreview(\r\n    primaryColor: string,\r\n    accentColor?: string,\r\n    seed: string = 'preview'\r\n): string {\r\n    const hashParams = generateHashParamsSync(seed, 'technology');\r\n    const rng = createSeededRandom(hashParams.hashHex);\r\n    const params = generateShieldBadgeParams(hashParams, rng);\r\n    const size = 100;\r\n    const svg = createSVG(size);\r\n\r\n    svg.addGradient('main', {\r\n        type: 'linear',\r\n        angle: 180,\r\n        stops: [\r\n            { offset: 0, color: lighten(primaryColor, 10) },\r\n            { offset: 1, color: darken(primaryColor, 15) },\r\n        ],\r\n    });\r\n\r\n    const path = generateShieldPath(params, size / 2, size / 2);\r\n    svg.path(path, { fill: 'url(#main)' });\r\n\r\n    return svg.build();\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\generators\\sound-waves.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'PHI' is defined but never used.","line":25,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":25,"endColumn":8},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'lerp' is defined but never used.","line":26,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":26,"endColumn":9},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'phaseOffset' is assigned a value but never used.","line":73,"column":64,"nodeType":null,"messageId":"unusedVar","endLine":73,"endColumn":75}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Sound Waves Generator (Spotify-style)\r\n *\r\n * Creates flowing audio waveforms with decay and amplitude\r\n * Vertical wave bars emanating from center with organic movement\r\n * Inspired by Spotify's iconic sound wave patterns\r\n */\r\n\r\nimport {\r\n    GeneratedLogo,\r\n    LogoGenerationParams,\r\n    SoundWavesParams,\r\n    QualityMetrics,\r\n    HashParams,\r\n} from '../types';\r\nimport {\r\n    createSeededRandom,\r\n    generateBaseParams,\r\n    generateLogoHash,\r\n    generateLogoId,\r\n    generateHashParamsSync,\r\n    deriveParamsFromHash,\r\n    calculateQualityScore,\r\n    addNoise,\r\n    PHI,\r\n    lerp,\r\n    calculateComplexity,\r\n    storeHash,\r\n} from '../core/parametric-engine';\r\nimport { createSVG } from '../core/svg-builder';\r\nimport { lighten, darken, mixColors } from '../core/color-utils';\r\n\r\n// ============================================\r\n// PARAMETER GENERATION\r\n// ============================================\r\n\r\nfunction generateSoundWavesParams(hashParams: HashParams, rng: () => number): SoundWavesParams {\r\n    const derived = deriveParamsFromHash(hashParams.hashHex);\r\n    const base = generateBaseParams(rng);\r\n\r\n    const waveStyles: Array<'sine' | 'sawtooth' | 'square' | 'organic'> = ['sine', 'sawtooth', 'square', 'organic'];\r\n    const symmetries: Array<'bilateral' | 'radial' | 'none'> = ['bilateral', 'radial', 'none'];\r\n\r\n    return {\r\n        ...base,\r\n        waveCount: Math.max(3, Math.min(8, Math.round(derived.elementCount * 0.4 + 3))),\r\n        amplitude: derived.curveAmplitude * 0.6 + 10,\r\n        frequency: derived.scaleFactor * 1.5 + 0.5,\r\n        decay: 0.7 + derived.taperRatio * 0.3,\r\n        spacing: derived.spacingFactor * 8 + 8,\r\n        strokeTaper: derived.taperRatio,\r\n        phaseOffset: derived.rotationOffset,\r\n        waveStyle: waveStyles[Math.floor(derived.styleVariant % 4)],\r\n        symmetry: symmetries[Math.floor(derived.styleVariant % 3)],\r\n        peakRounding: derived.curveTension,\r\n    };\r\n}\r\n\r\n// ============================================\r\n// WAVE PATH GENERATION\r\n// ============================================\r\n\r\n/**\r\n * Generate a single wave bar path using bezier curves\r\n */\r\nfunction generateWavePath(\r\n    params: SoundWavesParams,\r\n    index: number,\r\n    cx: number,\r\n    cy: number,\r\n    rng: () => number\r\n): string {\r\n    const { waveCount, amplitude, decay, spacing, strokeTaper, phaseOffset, waveStyle, peakRounding } = params;\r\n\r\n    // Calculate position and height for this bar\r\n    const offset = (index - (waveCount - 1) / 2) * spacing;\r\n    const x = cx + offset;\r\n\r\n    // Height based on position (center is tallest)\r\n    const distFromCenter = Math.abs(index - (waveCount - 1) / 2);\r\n    const heightFactor = Math.pow(decay, distFromCenter);\r\n    const height = amplitude * heightFactor;\r\n\r\n    // Add organic variation\r\n    const wobble = waveStyle === 'organic' ? addNoise(0, 0.15, rng, height * 0.2) : 0;\r\n    const finalHeight = height + wobble;\r\n\r\n    // Bar width with taper\r\n    const barWidth = 4 + (1 - strokeTaper) * 4;\r\n    const topWidth = barWidth * (0.5 + strokeTaper * 0.5);\r\n\r\n    // Top and bottom Y positions\r\n    const topY = cy - finalHeight / 2;\r\n    const bottomY = cy + finalHeight / 2;\r\n\r\n    // Rounding factor for tops\r\n    const roundness = peakRounding * 2;\r\n\r\n    // Generate bezier path for rounded bar\r\n    const halfWidthTop = topWidth / 2;\r\n    const halfWidthBottom = barWidth / 2;\r\n\r\n    return `\r\n        M ${(x - halfWidthBottom).toFixed(2)} ${bottomY.toFixed(2)}\r\n        C ${(x - halfWidthBottom).toFixed(2)} ${(bottomY - roundness).toFixed(2)},\r\n          ${(x - halfWidthTop).toFixed(2)} ${(topY + roundness * 2).toFixed(2)},\r\n          ${(x - halfWidthTop).toFixed(2)} ${(topY + roundness).toFixed(2)}\r\n        C ${(x - halfWidthTop).toFixed(2)} ${topY.toFixed(2)},\r\n          ${(x - roundness / 2).toFixed(2)} ${(topY - roundness / 2).toFixed(2)},\r\n          ${x.toFixed(2)} ${(topY - roundness / 2).toFixed(2)}\r\n        C ${(x + roundness / 2).toFixed(2)} ${(topY - roundness / 2).toFixed(2)},\r\n          ${(x + halfWidthTop).toFixed(2)} ${topY.toFixed(2)},\r\n          ${(x + halfWidthTop).toFixed(2)} ${(topY + roundness).toFixed(2)}\r\n        C ${(x + halfWidthTop).toFixed(2)} ${(topY + roundness * 2).toFixed(2)},\r\n          ${(x + halfWidthBottom).toFixed(2)} ${(bottomY - roundness).toFixed(2)},\r\n          ${(x + halfWidthBottom).toFixed(2)} ${bottomY.toFixed(2)}\r\n        C ${(x + halfWidthBottom).toFixed(2)} ${(bottomY + roundness / 2).toFixed(2)},\r\n          ${(x + roundness / 2).toFixed(2)} ${(bottomY + roundness / 2).toFixed(2)},\r\n          ${x.toFixed(2)} ${(bottomY + roundness / 2).toFixed(2)}\r\n        C ${(x - roundness / 2).toFixed(2)} ${(bottomY + roundness / 2).toFixed(2)},\r\n          ${(x - halfWidthBottom).toFixed(2)} ${(bottomY + roundness / 2).toFixed(2)},\r\n          ${(x - halfWidthBottom).toFixed(2)} ${bottomY.toFixed(2)}\r\n        Z\r\n    `.replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\n// ============================================\r\n// MAIN GENERATOR\r\n// ============================================\r\n\r\nfunction generateSingleSoundWaves(\r\n    params: LogoGenerationParams,\r\n    hashParams: HashParams,\r\n    variant: number\r\n): { logo: GeneratedLogo; quality: QualityMetrics } {\r\n    const { brandName, primaryColor, accentColor } = params;\r\n\r\n    const size = 100;\r\n    const cx = size / 2;\r\n    const cy = size / 2;\r\n\r\n    const rng = createSeededRandom(hashParams.hashHex);\r\n    const algoParams = generateSoundWavesParams(hashParams, rng);\r\n    const svg = createSVG(size);\r\n    const uniqueId = generateLogoId('sound-waves', variant);\r\n\r\n    // Add gradient\r\n    const gradientId = `${uniqueId}-grad`;\r\n    svg.addGradient(gradientId, {\r\n        type: 'linear',\r\n        angle: 90,\r\n        stops: [\r\n            { offset: 0, color: lighten(primaryColor, 10) },\r\n            { offset: 0.5, color: primaryColor },\r\n            { offset: 1, color: accentColor || darken(primaryColor, 15) },\r\n        ],\r\n    });\r\n\r\n    // Generate all wave bars\r\n    for (let i = 0; i < algoParams.waveCount; i++) {\r\n        const path = generateWavePath(algoParams, i, cx, cy, rng);\r\n\r\n        // Individual bar gradient based on position\r\n        const barGradId = `${uniqueId}-bar-${i}`;\r\n        const positionFactor = i / (algoParams.waveCount - 1);\r\n\r\n        svg.addGradient(barGradId, {\r\n            type: 'linear',\r\n            angle: 180,\r\n            stops: [\r\n                { offset: 0, color: lighten(primaryColor, 20) },\r\n                { offset: 1, color: mixColors(primaryColor, accentColor || darken(primaryColor, 20), positionFactor) },\r\n            ],\r\n        });\r\n\r\n        svg.path(path, { fill: `url(#${barGradId})` });\r\n    }\r\n\r\n    const svgString = svg.build();\r\n    const derivedParams = deriveParamsFromHash(hashParams.hashHex);\r\n    const quality = calculateQualityScore(svgString, derivedParams);\r\n    const hash = generateLogoHash(brandName, 'sound-waves', variant, algoParams);\r\n\r\n    const logo: GeneratedLogo = {\r\n        id: uniqueId,\r\n        hash,\r\n        algorithm: 'sound-waves',\r\n        variant: variant + 1,\r\n        svg: svgString,\r\n        viewBox: `0 0 ${size} ${size}`,\r\n        params: algoParams,\r\n        quality,\r\n        meta: {\r\n            brandName,\r\n            generatedAt: Date.now(),\r\n            seed: hashParams.hashHex,\r\n            hashParams,\r\n            geometry: {\r\n                usesGoldenRatio: false,\r\n                gridBased: true,\r\n                bezierCurves: true,\r\n                symmetry: algoParams.symmetry === 'bilateral' ? 'horizontal' : 'none',\r\n                pathCount: algoParams.waveCount,\r\n                complexity: calculateComplexity(svgString),\r\n            },\r\n            colors: {\r\n                primary: primaryColor,\r\n                accent: accentColor,\r\n                palette: [primaryColor, accentColor || darken(primaryColor, 15)],\r\n            },\r\n        },\r\n    };\r\n\r\n    return { logo, quality };\r\n}\r\n\r\n/**\r\n * Generate sound waves logos with quality filtering\r\n */\r\nexport function generateSoundWaves(params: LogoGenerationParams): GeneratedLogo[] {\r\n    const {\r\n        brandName,\r\n        variations = 3,\r\n        minQualityScore = 85,\r\n        category = 'technology',\r\n    } = params;\r\n\r\n    const logos: GeneratedLogo[] = [];\r\n    const candidatesPerVariation = 5;\r\n\r\n    for (let v = 0; v < variations; v++) {\r\n        let bestCandidate: GeneratedLogo | null = null;\r\n        let bestScore = 0;\r\n\r\n        for (let c = 0; c < candidatesPerVariation; c++) {\r\n            const hashParams = generateHashParamsSync(brandName, category);\r\n            const { logo, quality } = generateSingleSoundWaves(params, hashParams, v);\r\n\r\n            if (quality.score > bestScore) {\r\n                bestScore = quality.score;\r\n                bestCandidate = logo;\r\n            }\r\n\r\n            if (quality.score >= minQualityScore) break;\r\n        }\r\n\r\n        if (bestCandidate) {\r\n            storeHash({\r\n                hash: bestCandidate.hash,\r\n                brandName,\r\n                algorithm: 'sound-waves',\r\n                variant: v,\r\n                createdAt: Date.now(),\r\n                qualityScore: bestScore,\r\n            });\r\n            logos.push(bestCandidate);\r\n        }\r\n    }\r\n\r\n    return logos;\r\n}\r\n\r\n/**\r\n * Generate a single sound waves preview\r\n */\r\nexport function generateSingleSoundWavesPreview(\r\n    primaryColor: string,\r\n    accentColor?: string,\r\n    seed: string = 'preview'\r\n): string {\r\n    const hashParams = generateHashParamsSync(seed, 'technology');\r\n    const rng = createSeededRandom(hashParams.hashHex);\r\n    const params = generateSoundWavesParams(hashParams, rng);\r\n    const size = 100;\r\n    const cx = size / 2;\r\n    const cy = size / 2;\r\n    const svg = createSVG(size);\r\n\r\n    svg.addGradient('main', {\r\n        type: 'linear',\r\n        angle: 90,\r\n        stops: [\r\n            { offset: 0, color: lighten(primaryColor, 10) },\r\n            { offset: 1, color: accentColor || darken(primaryColor, 15) },\r\n        ],\r\n    });\r\n\r\n    for (let i = 0; i < params.waveCount; i++) {\r\n        const path = generateWavePath(params, i, cx, cy, rng);\r\n        svg.path(path, { fill: 'url(#main)' });\r\n    }\r\n\r\n    return svg.build();\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\generators\\star-mark.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'prevX' is assigned a value but never used.","line":86,"column":19,"nodeType":null,"messageId":"unusedVar","endLine":86,"endColumn":24},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'prevY' is assigned a value but never used.","line":87,"column":19,"nodeType":null,"messageId":"unusedVar","endLine":87,"endColumn":24}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Star Mark Generator (Rating/Awards-style)\r\n *\r\n * Creates various star shapes from classic to modern\r\n * Multiple point counts and ray styles\r\n * Inspired by rating systems and award badges\r\n */\r\n\r\nimport {\r\n    GeneratedLogo,\r\n    LogoGenerationParams,\r\n    StarMarkParams,\r\n    QualityMetrics,\r\n    HashParams,\r\n} from '../types';\r\nimport {\r\n    createSeededRandom,\r\n    generateBaseParams,\r\n    generateLogoHash,\r\n    generateLogoId,\r\n    generateHashParamsSync,\r\n    deriveParamsFromHash,\r\n    calculateQualityScore,\r\n    calculateComplexity,\r\n    storeHash,\r\n} from '../core/parametric-engine';\r\nimport { createSVG } from '../core/svg-builder';\r\nimport { lighten, darken } from '../core/color-utils';\r\n\r\n// ============================================\r\n// PARAMETER GENERATION\r\n// ============================================\r\n\r\nfunction generateStarMarkParams(hashParams: HashParams, rng: () => number): StarMarkParams {\r\n    const derived = deriveParamsFromHash(hashParams.hashHex);\r\n    const base = generateBaseParams(rng);\r\n\r\n    const rays: Array<'pointed' | 'rounded' | 'beveled' | 'split'> = ['pointed', 'rounded', 'beveled', 'split'];\r\n\r\n    return {\r\n        ...base,\r\n        pointCount: Math.max(4, Math.min(8, Math.floor(derived.elementCount * 0.4 + 4))),\r\n        innerRadius: derived.centerRadius * 0.4 + 0.3,\r\n        rotationOffset: derived.rotationOffset,\r\n        rayStyle: rays[Math.floor(derived.styleVariant % 4)],\r\n        outerRadius: derived.scaleFactor * 8 + 32,\r\n        pointSharpness: derived.curveTension,\r\n        innerStar: derived.layerCount > 2,\r\n        innerScale: derived.taperRatio * 0.3 + 0.3,\r\n        glowRays: derived.organicAmount > 0.6,\r\n        dimensionalEffect: derived.perspectiveStrength > 0.5,\r\n    };\r\n}\r\n\r\n// ============================================\r\n// PATH GENERATION\r\n// ============================================\r\n\r\nfunction generateStarPath(\r\n    params: StarMarkParams,\r\n    cx: number,\r\n    cy: number,\r\n    scale: number = 1\r\n): string {\r\n    const { pointCount, innerRadius, outerRadius, rotationOffset, rayStyle, pointSharpness } = params;\r\n\r\n    const outer = outerRadius * scale;\r\n    const inner = outer * innerRadius;\r\n    const angleStep = Math.PI / pointCount;\r\n    const rotation = (rotationOffset * Math.PI) / 180 - Math.PI / 2;\r\n\r\n    let path = '';\r\n\r\n    for (let i = 0; i < pointCount * 2; i++) {\r\n        const angle = rotation + i * angleStep;\r\n        const isOuter = i % 2 === 0;\r\n        const r = isOuter ? outer : inner;\r\n        const x = cx + r * Math.cos(angle);\r\n        const y = cy + r * Math.sin(angle);\r\n\r\n        if (i === 0) {\r\n            path += `M ${x.toFixed(2)} ${y.toFixed(2)}`;\r\n        } else if (rayStyle === 'rounded') {\r\n            const prevAngle = rotation + (i - 1) * angleStep;\r\n            const prevR = (i - 1) % 2 === 0 ? outer : inner;\r\n            const prevX = cx + prevR * Math.cos(prevAngle);\r\n            const prevY = cy + prevR * Math.sin(prevAngle);\r\n\r\n            const midAngle = (prevAngle + angle) / 2;\r\n            const midR = (prevR + r) / 2 + (isOuter ? 2 : -2) * pointSharpness;\r\n            const midX = cx + midR * Math.cos(midAngle);\r\n            const midY = cy + midR * Math.sin(midAngle);\r\n\r\n            path += ` Q ${midX.toFixed(2)} ${midY.toFixed(2)}, ${x.toFixed(2)} ${y.toFixed(2)}`;\r\n        } else if (rayStyle === 'beveled' && isOuter) {\r\n            // Add bevel before outer points\r\n            const bevelAngle1 = angle - angleStep * 0.15;\r\n            const bevelAngle2 = angle + angleStep * 0.15;\r\n            const bevelR = outer * 0.92;\r\n\r\n            const bevelX1 = cx + bevelR * Math.cos(bevelAngle1);\r\n            const bevelY1 = cy + bevelR * Math.sin(bevelAngle1);\r\n            const bevelX2 = cx + bevelR * Math.cos(bevelAngle2);\r\n            const bevelY2 = cy + bevelR * Math.sin(bevelAngle2);\r\n\r\n            path += ` L ${bevelX1.toFixed(2)} ${bevelY1.toFixed(2)}`;\r\n            path += ` L ${x.toFixed(2)} ${y.toFixed(2)}`;\r\n            path += ` L ${bevelX2.toFixed(2)} ${bevelY2.toFixed(2)}`;\r\n        } else if (rayStyle === 'split' && isOuter) {\r\n            // Split ray effect\r\n            const splitGap = outer * 0.08;\r\n            const splitAngle1 = angle - 0.05;\r\n            const splitAngle2 = angle + 0.05;\r\n\r\n            const splitX1 = cx + outer * Math.cos(splitAngle1);\r\n            const splitY1 = cy + outer * Math.sin(splitAngle1);\r\n            const splitX2 = cx + outer * Math.cos(splitAngle2);\r\n            const splitY2 = cy + outer * Math.sin(splitAngle2);\r\n\r\n            const gapX = cx + (outer - splitGap) * Math.cos(angle);\r\n            const gapY = cy + (outer - splitGap) * Math.sin(angle);\r\n\r\n            path += ` L ${splitX1.toFixed(2)} ${splitY1.toFixed(2)}`;\r\n            path += ` L ${gapX.toFixed(2)} ${gapY.toFixed(2)}`;\r\n            path += ` L ${splitX2.toFixed(2)} ${splitY2.toFixed(2)}`;\r\n        } else {\r\n            path += ` L ${x.toFixed(2)} ${y.toFixed(2)}`;\r\n        }\r\n    }\r\n\r\n    path += ' Z';\r\n    return path;\r\n}\r\n\r\nfunction generateGlowRayPath(\r\n    cx: number,\r\n    cy: number,\r\n    innerR: number,\r\n    outerR: number,\r\n    angle: number\r\n): string {\r\n    const innerX = cx + innerR * Math.cos(angle);\r\n    const innerY = cy + innerR * Math.sin(angle);\r\n    const outerX = cx + outerR * Math.cos(angle);\r\n    const outerY = cy + outerR * Math.sin(angle);\r\n\r\n    const perpAngle = angle + Math.PI / 2;\r\n    const spread = 2;\r\n\r\n    const startX1 = innerX + spread * Math.cos(perpAngle);\r\n    const startY1 = innerY + spread * Math.sin(perpAngle);\r\n    const startX2 = innerX - spread * Math.cos(perpAngle);\r\n    const startY2 = innerY - spread * Math.sin(perpAngle);\r\n\r\n    return `\r\n        M ${startX1.toFixed(2)} ${startY1.toFixed(2)}\r\n        L ${outerX.toFixed(2)} ${outerY.toFixed(2)}\r\n        L ${startX2.toFixed(2)} ${startY2.toFixed(2)}\r\n        Z\r\n    `.replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\n// ============================================\r\n// MAIN GENERATOR\r\n// ============================================\r\n\r\nfunction generateSingleStarMark(\r\n    params: LogoGenerationParams,\r\n    hashParams: HashParams,\r\n    variant: number\r\n): { logo: GeneratedLogo; quality: QualityMetrics } {\r\n    const { brandName, primaryColor, accentColor } = params;\r\n\r\n    const size = 100;\r\n    const cx = size / 2;\r\n    const cy = size / 2;\r\n\r\n    const rng = createSeededRandom(hashParams.hashHex);\r\n    const algoParams = generateStarMarkParams(hashParams, rng);\r\n    const svg = createSVG(size);\r\n    const uniqueId = generateLogoId('star-mark', variant);\r\n\r\n    // Main gradient\r\n    const gradientId = `${uniqueId}-grad`;\r\n    svg.addGradient(gradientId, {\r\n        type: 'radial',\r\n        stops: [\r\n            { offset: 0, color: lighten(primaryColor, 25) },\r\n            { offset: 0.5, color: primaryColor },\r\n            { offset: 1, color: darken(primaryColor, 15) },\r\n        ],\r\n    });\r\n\r\n    // Glow rays (behind main star)\r\n    if (algoParams.glowRays) {\r\n        const glowGradId = `${uniqueId}-glow`;\r\n        svg.addGradient(glowGradId, {\r\n            type: 'linear',\r\n            angle: 0,\r\n            stops: [\r\n                { offset: 0, color: accentColor || lighten(primaryColor, 40), opacity: 0.6 },\r\n                { offset: 1, color: primaryColor, opacity: 0 },\r\n            ],\r\n        });\r\n\r\n        for (let i = 0; i < algoParams.pointCount; i++) {\r\n            const angle = (i / algoParams.pointCount) * Math.PI * 2 + (algoParams.rotationOffset * Math.PI) / 180 - Math.PI / 2;\r\n            const rayPath = generateGlowRayPath(cx, cy, algoParams.outerRadius, algoParams.outerRadius + 8, angle);\r\n            svg.path(rayPath, { fill: `url(#${glowGradId})` });\r\n        }\r\n    }\r\n\r\n    // Dimensional effect (shadow layer)\r\n    if (algoParams.dimensionalEffect) {\r\n        const shadowPath = generateStarPath(algoParams, cx + 2, cy + 2);\r\n        svg.path(shadowPath, { fill: darken(primaryColor, 30), fillOpacity: '0.3' });\r\n    }\r\n\r\n    // Main star\r\n    const starPath = generateStarPath(algoParams, cx, cy);\r\n    svg.path(starPath, { fill: `url(#${gradientId})` });\r\n\r\n    // Inner star\r\n    if (algoParams.innerStar) {\r\n        const innerStarPath = generateStarPath(algoParams, cx, cy, algoParams.innerScale);\r\n        svg.path(innerStarPath, { fill: accentColor || lighten(primaryColor, 35) });\r\n    }\r\n\r\n    const svgString = svg.build();\r\n    const derivedParams = deriveParamsFromHash(hashParams.hashHex);\r\n    const quality = calculateQualityScore(svgString, derivedParams);\r\n    const hash = generateLogoHash(brandName, 'star-mark', variant, algoParams);\r\n\r\n    const logo: GeneratedLogo = {\r\n        id: uniqueId,\r\n        hash,\r\n        algorithm: 'star-mark',\r\n        variant: variant + 1,\r\n        svg: svgString,\r\n        viewBox: `0 0 ${size} ${size}`,\r\n        params: algoParams,\r\n        quality,\r\n        meta: {\r\n            brandName,\r\n            generatedAt: Date.now(),\r\n            seed: hashParams.hashHex,\r\n            hashParams,\r\n            geometry: {\r\n                usesGoldenRatio: false,\r\n                gridBased: false,\r\n                bezierCurves: algoParams.rayStyle === 'rounded',\r\n                symmetry: 'rotational',\r\n                pathCount: 1 + (algoParams.innerStar ? 1 : 0) + (algoParams.glowRays ? algoParams.pointCount : 0),\r\n                complexity: calculateComplexity(svgString),\r\n            },\r\n            colors: {\r\n                primary: primaryColor,\r\n                accent: accentColor,\r\n                palette: [primaryColor, accentColor || lighten(primaryColor, 35)],\r\n            },\r\n        },\r\n    };\r\n\r\n    return { logo, quality };\r\n}\r\n\r\nexport function generateStarMark(params: LogoGenerationParams): GeneratedLogo[] {\r\n    const { brandName, variations = 3, minQualityScore = 85, category = 'creative' } = params;\r\n\r\n    const logos: GeneratedLogo[] = [];\r\n    const candidatesPerVariation = 5;\r\n\r\n    for (let v = 0; v < variations; v++) {\r\n        let bestCandidate: GeneratedLogo | null = null;\r\n        let bestScore = 0;\r\n\r\n        for (let c = 0; c < candidatesPerVariation; c++) {\r\n            const hashParams = generateHashParamsSync(brandName, category);\r\n            const { logo, quality } = generateSingleStarMark(params, hashParams, v);\r\n\r\n            if (quality.score > bestScore) {\r\n                bestScore = quality.score;\r\n                bestCandidate = logo;\r\n            }\r\n\r\n            if (quality.score >= minQualityScore) break;\r\n        }\r\n\r\n        if (bestCandidate) {\r\n            storeHash({\r\n                hash: bestCandidate.hash,\r\n                brandName,\r\n                algorithm: 'star-mark',\r\n                variant: v,\r\n                createdAt: Date.now(),\r\n                qualityScore: bestScore,\r\n            });\r\n            logos.push(bestCandidate);\r\n        }\r\n    }\r\n\r\n    return logos;\r\n}\r\n\r\nexport function generateSingleStarMarkPreview(\r\n    primaryColor: string,\r\n    accentColor?: string,\r\n    seed: string = 'preview'\r\n): string {\r\n    const hashParams = generateHashParamsSync(seed, 'creative');\r\n    const rng = createSeededRandom(hashParams.hashHex);\r\n    const params = generateStarMarkParams(hashParams, rng);\r\n    const size = 100;\r\n    const svg = createSVG(size);\r\n\r\n    svg.addGradient('main', {\r\n        type: 'radial',\r\n        stops: [\r\n            { offset: 0, color: lighten(primaryColor, 20) },\r\n            { offset: 1, color: darken(primaryColor, 10) },\r\n        ],\r\n    });\r\n\r\n    const path = generateStarPath(params, size / 2, size / 2);\r\n    svg.path(path, { fill: 'url(#main)' });\r\n\r\n    return svg.build();\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\generators\\starburst.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'meetsQualityThreshold' is defined but never used.","line":25,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":25,"endColumn":26},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'PHI' is defined but never used.","line":27,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":27,"endColumn":8},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'lerp' is defined but never used.","line":28,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":28,"endColumn":9}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Starburst Generator (Claude/Anthropic-style)\r\n *\r\n * Creates premium radial logos with curved organic arms emanating from center\r\n * Rotational symmetry with 6-16 spokes, bezier curves only\r\n * Inspired by Claude/Anthropic's distinctive starburst mark\r\n */\r\n\r\nimport {\r\n    GeneratedLogo,\r\n    LogoGenerationParams,\r\n    StarburstParams,\r\n    Point,\r\n    QualityMetrics,\r\n    HashParams,\r\n} from '../types';\r\nimport {\r\n    createSeededRandom,\r\n    generateBaseParams,\r\n    generateLogoHash,\r\n    generateLogoId,\r\n    generateHashParamsSync,\r\n    deriveParamsFromHash,\r\n    calculateQualityScore,\r\n    meetsQualityThreshold,\r\n    addNoise,\r\n    PHI,\r\n    lerp,\r\n    calculateComplexity,\r\n    storeHash,\r\n    createBezierCircle,\r\n} from '../core/parametric-engine';\r\nimport { createSVG } from '../core/svg-builder';\r\nimport { lighten, darken, mixColors } from '../core/color-utils';\r\n\r\n// ============================================\r\n// PARAMETER GENERATION\r\n// ============================================\r\n\r\nfunction generateStarburstParams(hashParams: HashParams, rng: () => number): StarburstParams {\r\n    const derived = deriveParamsFromHash(hashParams.hashHex);\r\n    const base = generateBaseParams(rng);\r\n\r\n    return {\r\n        ...base,\r\n        armCount: Math.max(6, Math.min(16, derived.elementCount)),\r\n        armLength: derived.armLength,\r\n        armWidth: derived.armWidth,\r\n        armCurvature: derived.curveTension,\r\n        armTaper: derived.taperRatio,\r\n        centerRadius: derived.centerRadius,\r\n        rotationalSymmetry: derived.symmetryType.includes('rotational') || derived.symmetryType === 'radial',\r\n        spiralAmount: derived.spiralAmount,\r\n        armBulge: derived.bulgeAmount,\r\n        organicWobble: derived.organicAmount,\r\n        curveTension: derived.curveTension,\r\n        rotationOffset: derived.rotationOffset,\r\n    };\r\n}\r\n\r\n// ============================================\r\n// ARM PATH GENERATION\r\n// ============================================\r\n\r\ninterface ArmPath {\r\n    d: string;\r\n    index: number;\r\n    angle: number;\r\n}\r\n\r\n/**\r\n * Generate a single curved arm using bezier paths\r\n * Creates organic, flowing shapes with smooth tapering\r\n */\r\nfunction generateArmPath(\r\n    params: StarburstParams,\r\n    index: number,\r\n    totalArms: number,\r\n    cx: number,\r\n    cy: number,\r\n    rng: () => number\r\n): ArmPath {\r\n    // Calculate base angle for this arm with optional spiral\r\n    const baseAngle = (index / totalArms) * Math.PI * 2;\r\n    const rotationRad = (params.rotationOffset * Math.PI) / 180;\r\n    const spiralOffset = params.spiralAmount * (index / totalArms) * Math.PI * 0.5;\r\n    const wobble = params.organicWobble > 0 ? addNoise(0, params.organicWobble, rng, 0.15) : 0;\r\n    const angle = baseAngle + rotationRad + spiralOffset + wobble;\r\n\r\n    // Arm dimensions with organic variation\r\n    const lengthVariation = params.rotationalSymmetry ? 0 : addNoise(0, params.sizeVariance, rng, 5);\r\n    const length = params.armLength + lengthVariation;\r\n    const startWidth = params.armWidth;\r\n    const endWidth = startWidth * (1 - params.armTaper);\r\n\r\n    // Calculate arm geometry\r\n    const cos = Math.cos(angle);\r\n    const sin = Math.sin(angle);\r\n\r\n    // Start point (at center radius)\r\n    const startDist = params.centerRadius;\r\n    const startX = cx + cos * startDist;\r\n    const startY = cy + sin * startDist;\r\n\r\n    // End point\r\n    const endX = cx + cos * (startDist + length);\r\n    const endY = cy + sin * (startDist + length);\r\n\r\n    // Control point for organic curvature\r\n    const perpAngle = angle + Math.PI / 2;\r\n    const curveDirection = index % 2 === 0 ? 1 : -1;\r\n    const curveOffset = length * params.armCurvature * curveDirection * 0.3;\r\n\r\n    // Create the arm path with smooth bezier curves\r\n    const path = createOrganicArmPath(\r\n        { x: startX, y: startY },\r\n        { x: endX, y: endY },\r\n        angle,\r\n        startWidth,\r\n        endWidth,\r\n        curveOffset,\r\n        params.armBulge,\r\n        params.curveTension,\r\n        perpAngle\r\n    );\r\n\r\n    return { d: path, index, angle };\r\n}\r\n\r\n/**\r\n * Create a curved tapered arm shape using cubic beziers\r\n */\r\nfunction createOrganicArmPath(\r\n    start: Point,\r\n    end: Point,\r\n    angle: number,\r\n    startWidth: number,\r\n    endWidth: number,\r\n    curveOffset: number,\r\n    bulgeAmount: number,\r\n    tension: number,\r\n    perpAngle: number\r\n): string {\r\n    const perpCos = Math.cos(perpAngle);\r\n    const perpSin = Math.sin(perpAngle);\r\n\r\n    // Calculate edge points at start\r\n    const startLeft: Point = {\r\n        x: start.x + perpCos * startWidth / 2,\r\n        y: start.y + perpSin * startWidth / 2,\r\n    };\r\n    const startRight: Point = {\r\n        x: start.x - perpCos * startWidth / 2,\r\n        y: start.y - perpSin * startWidth / 2,\r\n    };\r\n\r\n    // Calculate edge points at end (tapered)\r\n    const endLeft: Point = {\r\n        x: end.x + perpCos * endWidth / 2,\r\n        y: end.y + perpSin * endWidth / 2,\r\n    };\r\n    const endRight: Point = {\r\n        x: end.x - perpCos * endWidth / 2,\r\n        y: end.y - perpSin * endWidth / 2,\r\n    };\r\n\r\n    // Midpoint with curve offset for organic feel\r\n    const midX = (start.x + end.x) / 2 + perpCos * curveOffset;\r\n    const midY = (start.y + end.y) / 2 + perpSin * curveOffset;\r\n\r\n    // Bulge width at midpoint creates organic swell\r\n    const midWidth = Math.max(startWidth, endWidth) * (1 + bulgeAmount);\r\n\r\n    const midLeft: Point = {\r\n        x: midX + perpCos * midWidth / 2,\r\n        y: midY + perpSin * midWidth / 2,\r\n    };\r\n    const midRight: Point = {\r\n        x: midX - perpCos * midWidth / 2,\r\n        y: midY - perpSin * midWidth / 2,\r\n    };\r\n\r\n    // Build path with smooth cubic bezier curves\r\n    const t = tension;\r\n\r\n    // Control points for left edge (going outward)\r\n    const cp1lx = startLeft.x + (midLeft.x - startLeft.x) * t;\r\n    const cp1ly = startLeft.y + (midLeft.y - startLeft.y) * t;\r\n    const cp2lx = midLeft.x - (midLeft.x - startLeft.x) * (1 - t) * 0.5;\r\n    const cp2ly = midLeft.y - (midLeft.y - startLeft.y) * (1 - t) * 0.5;\r\n\r\n    const cp3lx = midLeft.x + (endLeft.x - midLeft.x) * t;\r\n    const cp3ly = midLeft.y + (endLeft.y - midLeft.y) * t;\r\n    const cp4lx = endLeft.x - (endLeft.x - midLeft.x) * (1 - t) * 0.5;\r\n    const cp4ly = endLeft.y - (endLeft.y - midLeft.y) * (1 - t) * 0.5;\r\n\r\n    // Control points for right edge (going back)\r\n    const cp1rx = endRight.x - (endRight.x - midRight.x) * t;\r\n    const cp1ry = endRight.y - (endRight.y - midRight.y) * t;\r\n    const cp2rx = midRight.x + (endRight.x - midRight.x) * (1 - t) * 0.5;\r\n    const cp2ry = midRight.y + (endRight.y - midRight.y) * (1 - t) * 0.5;\r\n\r\n    const cp3rx = midRight.x - (midRight.x - startRight.x) * t;\r\n    const cp3ry = midRight.y - (midRight.y - startRight.y) * t;\r\n    const cp4rx = startRight.x + (midRight.x - startRight.x) * (1 - t) * 0.5;\r\n    const cp4ry = startRight.y + (midRight.y - startRight.y) * (1 - t) * 0.5;\r\n\r\n    // Construct the full bezier path\r\n    return `\r\n        M ${startLeft.x.toFixed(2)} ${startLeft.y.toFixed(2)}\r\n        C ${cp1lx.toFixed(2)} ${cp1ly.toFixed(2)}, ${cp2lx.toFixed(2)} ${cp2ly.toFixed(2)}, ${midLeft.x.toFixed(2)} ${midLeft.y.toFixed(2)}\r\n        C ${cp3lx.toFixed(2)} ${cp3ly.toFixed(2)}, ${cp4lx.toFixed(2)} ${cp4ly.toFixed(2)}, ${endLeft.x.toFixed(2)} ${endLeft.y.toFixed(2)}\r\n        Q ${end.x.toFixed(2)} ${end.y.toFixed(2)}, ${endRight.x.toFixed(2)} ${endRight.y.toFixed(2)}\r\n        C ${cp1rx.toFixed(2)} ${cp1ry.toFixed(2)}, ${cp2rx.toFixed(2)} ${cp2ry.toFixed(2)}, ${midRight.x.toFixed(2)} ${midRight.y.toFixed(2)}\r\n        C ${cp3rx.toFixed(2)} ${cp3ry.toFixed(2)}, ${cp4rx.toFixed(2)} ${cp4ry.toFixed(2)}, ${startRight.x.toFixed(2)} ${startRight.y.toFixed(2)}\r\n        Q ${start.x.toFixed(2)} ${start.y.toFixed(2)}, ${startLeft.x.toFixed(2)} ${startLeft.y.toFixed(2)}\r\n        Z\r\n    `.replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\n/**\r\n * Generate center shape using bezier circle\r\n */\r\nfunction generateCenterPath(params: StarburstParams, cx: number, cy: number): string {\r\n    if (params.centerRadius < 2) return '';\r\n    return createBezierCircle(cx, cy, params.centerRadius);\r\n}\r\n\r\n// ============================================\r\n// MAIN GENERATOR\r\n// ============================================\r\n\r\n/**\r\n * Generate a single starburst logo candidate\r\n */\r\nfunction generateSingleStarburst(\r\n    params: LogoGenerationParams,\r\n    hashParams: HashParams,\r\n    variant: number\r\n): { logo: GeneratedLogo; quality: QualityMetrics } {\r\n    const {\r\n        brandName,\r\n        primaryColor,\r\n        accentColor,\r\n    } = params;\r\n\r\n    const size = 100;\r\n    const cx = size / 2;\r\n    const cy = size / 2;\r\n\r\n    const rng = createSeededRandom(hashParams.hashHex);\r\n    const algoParams = generateStarburstParams(hashParams, rng);\r\n    const svg = createSVG(size);\r\n    const uniqueId = generateLogoId('starburst', variant);\r\n\r\n    // Add radial gradient for depth\r\n    const gradientId = `${uniqueId}-grad`;\r\n    svg.addGradient(gradientId, {\r\n        type: 'radial',\r\n        stops: [\r\n            { offset: 0, color: lighten(primaryColor, 15) },\r\n            { offset: 0.5, color: primaryColor },\r\n            { offset: 1, color: accentColor || darken(primaryColor, 10) },\r\n        ],\r\n    });\r\n\r\n    // Generate all arms\r\n    const arms: ArmPath[] = [];\r\n    for (let i = 0; i < algoParams.armCount; i++) {\r\n        arms.push(generateArmPath(algoParams, i, algoParams.armCount, cx, cy, rng));\r\n    }\r\n\r\n    // Render arms with individual gradients based on angle\r\n    arms.forEach(arm => {\r\n        const armGradId = `${uniqueId}-arm-${arm.index}`;\r\n        const angleNorm = (arm.angle % (Math.PI * 2)) / (Math.PI * 2);\r\n\r\n        svg.addGradient(armGradId, {\r\n            type: 'linear',\r\n            angle: (arm.angle * 180) / Math.PI,\r\n            stops: [\r\n                { offset: 0, color: lighten(primaryColor, 10) },\r\n                { offset: 1, color: mixColors(primaryColor, accentColor || darken(primaryColor, 20), angleNorm) },\r\n            ],\r\n        });\r\n\r\n        svg.path(arm.d, {\r\n            fill: `url(#${armGradId})`,\r\n        });\r\n    });\r\n\r\n    // Render center circle\r\n    const centerPath = generateCenterPath(algoParams, cx, cy);\r\n    if (centerPath) {\r\n        svg.path(centerPath, {\r\n            fill: `url(#${gradientId})`,\r\n        });\r\n    }\r\n\r\n    const svgString = svg.build();\r\n    const derivedParams = deriveParamsFromHash(hashParams.hashHex);\r\n    const quality = calculateQualityScore(svgString, derivedParams);\r\n    const hash = generateLogoHash(brandName, 'starburst', variant, algoParams);\r\n\r\n    const logo: GeneratedLogo = {\r\n        id: uniqueId,\r\n        hash,\r\n        algorithm: 'starburst',\r\n        variant: variant + 1,\r\n        svg: svgString,\r\n        viewBox: `0 0 ${size} ${size}`,\r\n        params: algoParams,\r\n        quality,\r\n        meta: {\r\n            brandName,\r\n            generatedAt: Date.now(),\r\n            seed: hashParams.hashHex,\r\n            hashParams,\r\n            geometry: {\r\n                usesGoldenRatio: algoParams.armTaper > 0.55 && algoParams.armTaper < 0.68,\r\n                gridBased: false,\r\n                bezierCurves: true,\r\n                symmetry: algoParams.rotationalSymmetry ? 'radial' : 'none',\r\n                pathCount: algoParams.armCount + (algoParams.centerRadius > 2 ? 1 : 0),\r\n                complexity: calculateComplexity(svgString),\r\n            },\r\n            colors: {\r\n                primary: primaryColor,\r\n                accent: accentColor,\r\n                palette: [primaryColor, accentColor || darken(primaryColor, 15)],\r\n            },\r\n        },\r\n    };\r\n\r\n    return { logo, quality };\r\n}\r\n\r\n/**\r\n * Generate starburst logos with quality filtering\r\n * Generates 5 candidates internally, returns best that meets threshold\r\n */\r\nexport function generateStarburst(params: LogoGenerationParams): GeneratedLogo[] {\r\n    const {\r\n        brandName,\r\n        variations = 3,\r\n        minQualityScore = 80,\r\n        category = 'technology',\r\n    } = params;\r\n\r\n    const logos: GeneratedLogo[] = [];\r\n    const candidatesPerVariation = 5;\r\n\r\n    for (let v = 0; v < variations; v++) {\r\n        let bestCandidate: GeneratedLogo | null = null;\r\n        let bestScore = 0;\r\n\r\n        // Generate multiple candidates and pick the best\r\n        for (let c = 0; c < candidatesPerVariation; c++) {\r\n            const hashParams = generateHashParamsSync(brandName, category);\r\n            const { logo, quality } = generateSingleStarburst(params, hashParams, v);\r\n\r\n            if (quality.score > bestScore) {\r\n                bestScore = quality.score;\r\n                bestCandidate = logo;\r\n            }\r\n\r\n            // If we found one that meets threshold, use it\r\n            if (quality.score >= minQualityScore) {\r\n                break;\r\n            }\r\n        }\r\n\r\n        if (bestCandidate) {\r\n            storeHash({\r\n                hash: bestCandidate.hash,\r\n                brandName,\r\n                algorithm: 'starburst',\r\n                variant: v,\r\n                createdAt: Date.now(),\r\n                qualityScore: bestScore,\r\n            });\r\n            logos.push(bestCandidate);\r\n        }\r\n    }\r\n\r\n    return logos;\r\n}\r\n\r\n/**\r\n * Generate a single starburst for quick preview\r\n */\r\nexport function generateSingleStarburstPreview(\r\n    primaryColor: string,\r\n    accentColor?: string,\r\n    customParams?: Partial<StarburstParams>,\r\n    seed: string = 'preview'\r\n): string {\r\n    const hashParams = generateHashParamsSync(seed, 'technology');\r\n    const rng = createSeededRandom(hashParams.hashHex);\r\n    const params = { ...generateStarburstParams(hashParams, rng), ...customParams };\r\n    const size = 100;\r\n    const cx = size / 2;\r\n    const cy = size / 2;\r\n    const svg = createSVG(size);\r\n\r\n    svg.addGradient('main', {\r\n        type: 'radial',\r\n        stops: [\r\n            { offset: 0, color: lighten(primaryColor, 10) },\r\n            { offset: 1, color: accentColor || darken(primaryColor, 15) },\r\n        ],\r\n    });\r\n\r\n    for (let i = 0; i < params.armCount; i++) {\r\n        const arm = generateArmPath(params, i, params.armCount, cx, cy, rng);\r\n        svg.path(arm.d, { fill: 'url(#main)' });\r\n    }\r\n\r\n    const centerPath = generateCenterPath(params, cx, cy);\r\n    if (centerPath) {\r\n        svg.path(centerPath, { fill: 'url(#main)' });\r\n    }\r\n\r\n    return svg.build();\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\generators\\wave-flow.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'waveLen' is assigned a value but never used.","line":70,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":70,"endColumn":18}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Wave Flow Generator (Water/Fluid-style)\r\n *\r\n * Creates flowing wave patterns\r\n * Ocean and fluid dynamics aesthetic\r\n * Inspired by water and marine brands\r\n */\r\n\r\nimport {\r\n    GeneratedLogo,\r\n    LogoGenerationParams,\r\n    WaveFlowParams,\r\n    QualityMetrics,\r\n    HashParams,\r\n} from '../types';\r\nimport {\r\n    createSeededRandom,\r\n    generateBaseParams,\r\n    generateLogoHash,\r\n    generateLogoId,\r\n    generateHashParamsSync,\r\n    deriveParamsFromHash,\r\n    calculateQualityScore,\r\n    calculateComplexity,\r\n    storeHash,\r\n} from '../core/parametric-engine';\r\nimport { createSVG } from '../core/svg-builder';\r\nimport { lighten, darken } from '../core/color-utils';\r\n\r\n// ============================================\r\n// PARAMETER GENERATION\r\n// ============================================\r\n\r\nfunction generateWaveFlowParams(hashParams: HashParams, rng: () => number): WaveFlowParams {\r\n    const derived = deriveParamsFromHash(hashParams.hashHex);\r\n    const base = generateBaseParams(rng);\r\n\r\n    const directions: Array<'horizontal' | 'vertical' | 'diagonal'> = ['horizontal', 'vertical', 'diagonal'];\r\n\r\n    return {\r\n        ...base,\r\n        waveCount: Math.max(2, Math.min(5, Math.floor(derived.elementCount * 0.3 + 2))),\r\n        amplitude: derived.curveTension * 12 + 6,\r\n        flowDirection: directions[Math.floor(derived.styleVariant % 3)],\r\n        foamAmount: derived.organicAmount * 0.5,\r\n        wavelength: derived.scaleFactor * 20 + 30,\r\n        phaseShift: derived.rotationOffset * 0.02,\r\n        layerOpacity: derived.taperRatio * 0.3 + 0.5,\r\n        crestStyle: derived.perspectiveStrength > 0.5 ? 'sharp' : 'smooth',\r\n        droplets: Math.floor(derived.colorPlacement * 4),\r\n        gradient: derived.layerCount > 2,\r\n    };\r\n}\r\n\r\n// ============================================\r\n// PATH GENERATION\r\n// ============================================\r\n\r\nfunction generateWavePath(\r\n    params: WaveFlowParams,\r\n    cx: number,\r\n    cy: number,\r\n    waveIndex: number,\r\n    scale: number = 1\r\n): string {\r\n    const { amplitude, wavelength, phaseShift, crestStyle, waveCount } = params;\r\n\r\n    const width = 80 * scale;\r\n    const amp = amplitude * scale * (1 - waveIndex * 0.15);\r\n    const waveLen = wavelength * scale;\r\n\r\n    const left = cx - width / 2;\r\n    const right = cx + width / 2;\r\n    const baseY = cy + (waveIndex - waveCount / 2) * 12;\r\n\r\n    const phase = phaseShift * waveIndex * Math.PI;\r\n    const segments = 4;\r\n    const segmentWidth = width / segments;\r\n\r\n    let path = `M ${left.toFixed(2)} ${baseY.toFixed(2)}`;\r\n\r\n    for (let i = 0; i < segments; i++) {\r\n        const x1 = left + i * segmentWidth;\r\n        const x2 = left + (i + 0.5) * segmentWidth;\r\n        const x3 = left + (i + 1) * segmentWidth;\r\n\r\n        const y1 = baseY + Math.sin(phase + (i / segments) * Math.PI * 2) * amp;\r\n        const y2 = baseY + Math.sin(phase + ((i + 0.5) / segments) * Math.PI * 2) * amp * (crestStyle === 'sharp' ? 1.2 : 1);\r\n        const y3 = baseY + Math.sin(phase + ((i + 1) / segments) * Math.PI * 2) * amp;\r\n\r\n        const cp1x = x1 + segmentWidth * 0.3;\r\n        const cp1y = y1 + (y2 - y1) * 0.5;\r\n        const cp2x = x2 - segmentWidth * 0.1;\r\n        const cp2y = y2;\r\n\r\n        path += ` C ${cp1x.toFixed(2)} ${cp1y.toFixed(2)}, ${cp2x.toFixed(2)} ${cp2y.toFixed(2)}, ${x2.toFixed(2)} ${y2.toFixed(2)}`;\r\n\r\n        const cp3x = x2 + segmentWidth * 0.1;\r\n        const cp3y = y2;\r\n        const cp4x = x3 - segmentWidth * 0.3;\r\n        const cp4y = y3 + (y2 - y3) * 0.5;\r\n\r\n        path += ` C ${cp3x.toFixed(2)} ${cp3y.toFixed(2)}, ${cp4x.toFixed(2)} ${cp4y.toFixed(2)}, ${x3.toFixed(2)} ${y3.toFixed(2)}`;\r\n    }\r\n\r\n    // Close the wave shape\r\n    path += ` L ${right.toFixed(2)} ${(baseY + 15).toFixed(2)}`;\r\n    path += ` L ${left.toFixed(2)} ${(baseY + 15).toFixed(2)}`;\r\n    path += ' Z';\r\n\r\n    return path;\r\n}\r\n\r\nfunction generateDropletPath(\r\n    cx: number,\r\n    cy: number,\r\n    size: number = 3\r\n): string {\r\n    return `\r\n        M ${cx.toFixed(2)} ${(cy - size * 1.5).toFixed(2)}\r\n        C ${(cx + size * 0.6).toFixed(2)} ${(cy - size * 0.5).toFixed(2)},\r\n          ${(cx + size * 0.6).toFixed(2)} ${(cy + size * 0.3).toFixed(2)},\r\n          ${cx.toFixed(2)} ${(cy + size).toFixed(2)}\r\n        C ${(cx - size * 0.6).toFixed(2)} ${(cy + size * 0.3).toFixed(2)},\r\n          ${(cx - size * 0.6).toFixed(2)} ${(cy - size * 0.5).toFixed(2)},\r\n          ${cx.toFixed(2)} ${(cy - size * 1.5).toFixed(2)}\r\n        Z\r\n    `.replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\n// ============================================\r\n// MAIN GENERATOR\r\n// ============================================\r\n\r\nfunction generateSingleWaveFlow(\r\n    params: LogoGenerationParams,\r\n    hashParams: HashParams,\r\n    variant: number\r\n): { logo: GeneratedLogo; quality: QualityMetrics } {\r\n    const { brandName, primaryColor, accentColor } = params;\r\n\r\n    const size = 100;\r\n    const cx = size / 2;\r\n    const cy = size / 2;\r\n\r\n    const rng = createSeededRandom(hashParams.hashHex);\r\n    const algoParams = generateWaveFlowParams(hashParams, rng);\r\n    const svg = createSVG(size);\r\n    const uniqueId = generateLogoId('wave-flow', variant);\r\n\r\n    // Create gradients for each wave layer\r\n    for (let i = 0; i < algoParams.waveCount; i++) {\r\n        const gradientId = `${uniqueId}-grad-${i}`;\r\n        const lightness = 20 - i * 8;\r\n        svg.addGradient(gradientId, {\r\n            type: 'linear',\r\n            angle: 180,\r\n            stops: [\r\n                { offset: 0, color: lighten(primaryColor, lightness + 10) },\r\n                { offset: 1, color: lighten(primaryColor, lightness - 5) },\r\n            ],\r\n        });\r\n    }\r\n\r\n    // Generate waves from back to front\r\n    for (let i = algoParams.waveCount - 1; i >= 0; i--) {\r\n        const wavePath = generateWavePath(algoParams, cx, cy, i);\r\n        const opacity = algoParams.layerOpacity + (1 - algoParams.layerOpacity) * ((algoParams.waveCount - i) / algoParams.waveCount);\r\n\r\n        svg.path(wavePath, {\r\n            fill: `url(#${uniqueId}-grad-${i})`,\r\n            fillOpacity: opacity.toString(),\r\n        });\r\n    }\r\n\r\n    // Foam highlights\r\n    if (algoParams.foamAmount > 0.2) {\r\n        const foamPath = generateWavePath(algoParams, cx, cy - 2, 0, 0.95);\r\n        svg.path(foamPath, {\r\n            fill: 'none',\r\n            stroke: lighten(primaryColor, 40),\r\n            strokeWidth: '1.5',\r\n            strokeOpacity: (algoParams.foamAmount * 0.8).toString(),\r\n        });\r\n    }\r\n\r\n    // Droplets\r\n    const dropletCount = algoParams.droplets ?? 0;\r\n    if (dropletCount > 0) {\r\n        const dropletPositions = [\r\n            { x: cx - 20, y: cy - 20 },\r\n            { x: cx + 15, y: cy - 25 },\r\n            { x: cx + 25, y: cy - 15 },\r\n            { x: cx - 10, y: cy - 28 },\r\n        ];\r\n\r\n        for (let i = 0; i < Math.min(dropletCount, 4); i++) {\r\n            const pos = dropletPositions[i];\r\n            const dropletPath = generateDropletPath(pos.x, pos.y, 2.5 - i * 0.3);\r\n            svg.path(dropletPath, { fill: accentColor || lighten(primaryColor, 35) });\r\n        }\r\n    }\r\n\r\n    const svgString = svg.build();\r\n    const derivedParams = deriveParamsFromHash(hashParams.hashHex);\r\n    const quality = calculateQualityScore(svgString, derivedParams);\r\n    const hash = generateLogoHash(brandName, 'wave-flow', variant, algoParams);\r\n\r\n    const logo: GeneratedLogo = {\r\n        id: uniqueId,\r\n        hash,\r\n        algorithm: 'wave-flow',\r\n        variant: variant + 1,\r\n        svg: svgString,\r\n        viewBox: `0 0 ${size} ${size}`,\r\n        params: algoParams,\r\n        quality,\r\n        meta: {\r\n            brandName,\r\n            generatedAt: Date.now(),\r\n            seed: hashParams.hashHex,\r\n            hashParams,\r\n            geometry: {\r\n                usesGoldenRatio: false,\r\n                gridBased: false,\r\n                bezierCurves: true,\r\n                symmetry: 'none',\r\n                pathCount: algoParams.waveCount + (algoParams.droplets ?? 0) + (algoParams.foamAmount > 0.2 ? 1 : 0),\r\n                complexity: calculateComplexity(svgString),\r\n            },\r\n            colors: {\r\n                primary: primaryColor,\r\n                accent: accentColor,\r\n                palette: [primaryColor, lighten(primaryColor, 20), accentColor || lighten(primaryColor, 35)],\r\n            },\r\n        },\r\n    };\r\n\r\n    return { logo, quality };\r\n}\r\n\r\nexport function generateWaveFlow(params: LogoGenerationParams): GeneratedLogo[] {\r\n    const { brandName, variations = 3, minQualityScore = 85, category = 'creative' } = params;\r\n\r\n    const logos: GeneratedLogo[] = [];\r\n    const candidatesPerVariation = 5;\r\n\r\n    for (let v = 0; v < variations; v++) {\r\n        let bestCandidate: GeneratedLogo | null = null;\r\n        let bestScore = 0;\r\n\r\n        for (let c = 0; c < candidatesPerVariation; c++) {\r\n            const hashParams = generateHashParamsSync(brandName, category);\r\n            const { logo, quality } = generateSingleWaveFlow(params, hashParams, v);\r\n\r\n            if (quality.score > bestScore) {\r\n                bestScore = quality.score;\r\n                bestCandidate = logo;\r\n            }\r\n\r\n            if (quality.score >= minQualityScore) break;\r\n        }\r\n\r\n        if (bestCandidate) {\r\n            storeHash({\r\n                hash: bestCandidate.hash,\r\n                brandName,\r\n                algorithm: 'wave-flow',\r\n                variant: v,\r\n                createdAt: Date.now(),\r\n                qualityScore: bestScore,\r\n            });\r\n            logos.push(bestCandidate);\r\n        }\r\n    }\r\n\r\n    return logos;\r\n}\r\n\r\nexport function generateSingleWaveFlowPreview(\r\n    primaryColor: string,\r\n    accentColor?: string,\r\n    seed: string = 'preview'\r\n): string {\r\n    const hashParams = generateHashParamsSync(seed, 'creative');\r\n    const rng = createSeededRandom(hashParams.hashHex);\r\n    const params = generateWaveFlowParams(hashParams, rng);\r\n    const size = 100;\r\n    const svg = createSVG(size);\r\n\r\n    svg.addGradient('main', {\r\n        type: 'linear',\r\n        angle: 180,\r\n        stops: [\r\n            { offset: 0, color: lighten(primaryColor, 15) },\r\n            { offset: 1, color: darken(primaryColor, 5) },\r\n        ],\r\n    });\r\n\r\n    const path = generateWavePath(params, size / 2, size / 2, 0);\r\n    svg.path(path, { fill: 'url(#main)' });\r\n\r\n    return svg.build();\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\renderers\\export-utils.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":156,"column":54,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":156,"endColumn":57,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4113,4116],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4113,4116],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":166,"column":30,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":166,"endColumn":33,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4438,4441],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4438,4441],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Logo Export Utilities\r\n * \r\n * Functions for exporting logos to various formats and sizes\r\n */\r\n\r\nimport { GeneratedLogo } from '../types';\r\n\r\n// ============================================\r\n// SVG EXPORT\r\n// ============================================\r\n\r\n/**\r\n * Get optimized SVG string for export\r\n */\r\nexport function optimizeSvg(svg: string): string {\r\n    return svg\r\n        // Remove unnecessary whitespace\r\n        .replace(/\\s+/g, ' ')\r\n        // Remove comments\r\n        .replace(/<!--.*?-->/g, '')\r\n        // Trim attribute values\r\n        .replace(/\"\\s+/g, '\"')\r\n        .replace(/\\s+\"/g, '\"')\r\n        .trim();\r\n}\r\n\r\n/**\r\n * Create a downloadable SVG file\r\n */\r\nexport function downloadSvg(logo: GeneratedLogo, filename?: string): void {\r\n    const svgContent = optimizeSvg(logo.svg);\r\n    const blob = new Blob([svgContent], { type: 'image/svg+xml' });\r\n    const url = URL.createObjectURL(blob);\r\n\r\n    const link = document.createElement('a');\r\n    link.href = url;\r\n    link.download = filename || `${logo.algorithm}-v${logo.variant}.svg`;\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    document.body.removeChild(link);\r\n\r\n    URL.revokeObjectURL(url);\r\n}\r\n\r\n/**\r\n * Get SVG as data URL\r\n */\r\nexport function svgToDataUrl(svg: string): string {\r\n    const optimized = optimizeSvg(svg);\r\n    const encoded = encodeURIComponent(optimized);\r\n    return `data:image/svg+xml,${encoded}`;\r\n}\r\n\r\n// ============================================\r\n// PNG EXPORT\r\n// ============================================\r\n\r\n/**\r\n * Convert SVG to PNG at specified size\r\n */\r\nexport async function svgToPng(\r\n    svg: string,\r\n    size: number = 512\r\n): Promise<Blob> {\r\n    return new Promise((resolve, reject) => {\r\n        const img = new Image();\r\n        const canvas = document.createElement('canvas');\r\n        const ctx = canvas.getContext('2d');\r\n\r\n        if (!ctx) {\r\n            reject(new Error('Canvas context not available'));\r\n            return;\r\n        }\r\n\r\n        canvas.width = size;\r\n        canvas.height = size;\r\n\r\n        const svgUrl = svgToDataUrl(svg);\r\n\r\n        img.onload = () => {\r\n            // Clear canvas (transparent background)\r\n            ctx.clearRect(0, 0, size, size);\r\n\r\n            // Draw SVG\r\n            ctx.drawImage(img, 0, 0, size, size);\r\n\r\n            canvas.toBlob(\r\n                (blob) => {\r\n                    if (blob) {\r\n                        resolve(blob);\r\n                    } else {\r\n                        reject(new Error('Failed to create PNG blob'));\r\n                    }\r\n                },\r\n                'image/png',\r\n                1.0\r\n            );\r\n        };\r\n\r\n        img.onerror = () => {\r\n            reject(new Error('Failed to load SVG image'));\r\n        };\r\n\r\n        img.src = svgUrl;\r\n    });\r\n}\r\n\r\n/**\r\n * Download logo as PNG at specified size\r\n */\r\nexport async function downloadPng(\r\n    logo: GeneratedLogo,\r\n    size: number = 512,\r\n    filename?: string\r\n): Promise<void> {\r\n    const blob = await svgToPng(logo.svg, size);\r\n    const url = URL.createObjectURL(blob);\r\n\r\n    const link = document.createElement('a');\r\n    link.href = url;\r\n    link.download = filename || `${logo.algorithm}-v${logo.variant}-${size}px.png`;\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    document.body.removeChild(link);\r\n\r\n    URL.revokeObjectURL(url);\r\n}\r\n\r\n/**\r\n * Generate PNGs at multiple sizes\r\n */\r\nexport async function generateMultipleSizes(\r\n    logo: GeneratedLogo,\r\n    sizes: number[] = [32, 64, 128, 256, 512, 1024]\r\n): Promise<Map<number, Blob>> {\r\n    const results = new Map<number, Blob>();\r\n\r\n    for (const size of sizes) {\r\n        const blob = await svgToPng(logo.svg, size);\r\n        results.set(size, blob);\r\n    }\r\n\r\n    return results;\r\n}\r\n\r\n/**\r\n * Download all sizes as a zip file (requires JSZip)\r\n */\r\nexport async function downloadAllSizes(\r\n    logo: GeneratedLogo,\r\n    brandName: string,\r\n    sizes: number[] = [32, 64, 128, 256, 512, 1024]\r\n): Promise<void> {\r\n    // Check if JSZip is available\r\n    if (typeof window !== 'undefined' && !(window as any).JSZip) {\r\n        console.warn('JSZip not available. Downloading individual files.');\r\n\r\n        // Fallback: download each size individually\r\n        for (const size of sizes) {\r\n            await downloadPng(logo, size, `${brandName}-${size}px.png`);\r\n        }\r\n        return;\r\n    }\r\n\r\n    const JSZip = (window as any).JSZip;\r\n    const zip = new JSZip();\r\n\r\n    // Add SVG\r\n    zip.file(`${brandName}-logo.svg`, optimizeSvg(logo.svg));\r\n\r\n    // Add PNGs at each size\r\n    for (const size of sizes) {\r\n        const blob = await svgToPng(logo.svg, size);\r\n        zip.file(`${brandName}-${size}px.png`, blob);\r\n    }\r\n\r\n    // Generate and download zip\r\n    const content = await zip.generateAsync({ type: 'blob' });\r\n    const url = URL.createObjectURL(content);\r\n\r\n    const link = document.createElement('a');\r\n    link.href = url;\r\n    link.download = `${brandName}-logo-package.zip`;\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    document.body.removeChild(link);\r\n\r\n    URL.revokeObjectURL(url);\r\n}\r\n\r\n// ============================================\r\n// FAVICON EXPORT\r\n// ============================================\r\n\r\n/**\r\n * Generate favicon-specific sizes\r\n */\r\nexport async function generateFavicons(\r\n    logo: GeneratedLogo\r\n): Promise<{\r\n    ico16: Blob;\r\n    ico32: Blob;\r\n    png180: Blob;  // Apple touch icon\r\n    png192: Blob;  // Android\r\n    png512: Blob;  // PWA\r\n}> {\r\n    const [ico16, ico32, png180, png192, png512] = await Promise.all([\r\n        svgToPng(logo.svg, 16),\r\n        svgToPng(logo.svg, 32),\r\n        svgToPng(logo.svg, 180),\r\n        svgToPng(logo.svg, 192),\r\n        svgToPng(logo.svg, 512),\r\n    ]);\r\n\r\n    return { ico16, ico32, png180, png192, png512 };\r\n}\r\n\r\n// ============================================\r\n// SOCIAL MEDIA EXPORT\r\n// ============================================\r\n\r\n/**\r\n * Generate social media avatar sizes\r\n */\r\nexport async function generateSocialAvatars(\r\n    logo: GeneratedLogo\r\n): Promise<{\r\n    twitter: Blob;     // 400x400\r\n    facebook: Blob;    // 170x170\r\n    instagram: Blob;   // 320x320\r\n    linkedin: Blob;    // 300x300\r\n    youtube: Blob;     // 800x800\r\n}> {\r\n    const [twitter, facebook, instagram, linkedin, youtube] = await Promise.all([\r\n        svgToPng(logo.svg, 400),\r\n        svgToPng(logo.svg, 170),\r\n        svgToPng(logo.svg, 320),\r\n        svgToPng(logo.svg, 300),\r\n        svgToPng(logo.svg, 800),\r\n    ]);\r\n\r\n    return { twitter, facebook, instagram, linkedin, youtube };\r\n}\r\n\r\n// ============================================\r\n// CLIPBOARD EXPORT\r\n// ============================================\r\n\r\n/**\r\n * Copy SVG to clipboard\r\n */\r\nexport async function copySvgToClipboard(logo: GeneratedLogo): Promise<void> {\r\n    await navigator.clipboard.writeText(logo.svg);\r\n}\r\n\r\n/**\r\n * Copy PNG to clipboard (if supported)\r\n */\r\nexport async function copyPngToClipboard(\r\n    logo: GeneratedLogo,\r\n    size: number = 512\r\n): Promise<void> {\r\n    const blob = await svgToPng(logo.svg, size);\r\n\r\n    try {\r\n        await navigator.clipboard.write([\r\n            new ClipboardItem({\r\n                'image/png': blob,\r\n            }),\r\n        ]);\r\n    } catch (error) {\r\n        console.error('Clipboard write failed:', error);\r\n        throw new Error('Clipboard access not available');\r\n    }\r\n}\r\n\r\n// ============================================\r\n// BATCH EXPORT\r\n// ============================================\r\n\r\nexport interface ExportConfig {\r\n    format: 'svg' | 'png' | 'both';\r\n    sizes?: number[];\r\n    brandName: string;\r\n}\r\n\r\n/**\r\n * Export multiple logos with configuration\r\n */\r\nexport async function batchExport(\r\n    logos: GeneratedLogo[],\r\n    config: ExportConfig\r\n): Promise<void> {\r\n    for (let i = 0; i < logos.length; i++) {\r\n        const logo = logos[i];\r\n        const baseName = `${config.brandName}-${logo.algorithm}-v${logo.variant}`;\r\n\r\n        if (config.format === 'svg' || config.format === 'both') {\r\n            downloadSvg(logo, `${baseName}.svg`);\r\n        }\r\n\r\n        if (config.format === 'png' || config.format === 'both') {\r\n            const sizes = config.sizes || [512];\r\n            for (const size of sizes) {\r\n                await downloadPng(logo, size, `${baseName}-${size}px.png`);\r\n            }\r\n        }\r\n\r\n        // Small delay between downloads to prevent browser blocking\r\n        await new Promise(resolve => setTimeout(resolve, 100));\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\renderers\\stored-logo-export.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'secondaryColor' is assigned a value but never used.","line":92,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":92,"endColumn":25},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'match' is defined but never used.","line":112,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":112,"endColumn":15},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'color' is defined but never used.","line":112,"column":17,"nodeType":null,"messageId":"unusedVar","endLine":112,"endColumn":22},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'offset' is defined but never used.","line":112,"column":24,"nodeType":null,"messageId":"unusedVar","endLine":112,"endColumn":30},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'darkenColor' is defined but never used.","line":216,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":216,"endColumn":21},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'logoWidth' is assigned a value but never used.","line":241,"column":16,"nodeType":null,"messageId":"unusedVar","endLine":241,"endColumn":25},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'logoHeight' is assigned a value but never used.","line":241,"column":27,"nodeType":null,"messageId":"unusedVar","endLine":241,"endColumn":37}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Stored Logo Export Utilities\r\n *\r\n * CRITICAL: All exports must use the stored SVG from brand.generatedLogos[selectedLogoIndex].svg\r\n * Never regenerate logos - this ensures exports match the preview exactly.\r\n */\r\n\r\nimport { BrandIdentity, GeneratedLogo } from '@/lib/data';\r\nimport { generateComposedLogoSVG, SVGVariant } from '@/components/export/ExportSVG';\r\n\r\n// ============================================\r\n// CORE EXPORT FUNCTIONS\r\n// ============================================\r\n\r\n/**\r\n * Get the exact stored logo SVG - this is the ONLY function that should be used for exports\r\n *\r\n * Priority:\r\n * 1. Use stored SVG from generatedLogos[selectedLogoIndex] (premium logos)\r\n * 2. Fall back to legacy generateComposedLogoSVG only for old brands without generatedLogos\r\n */\r\nexport function getStoredLogoSVG(\r\n    brand: BrandIdentity,\r\n    variant: SVGVariant = 'color'\r\n): string {\r\n    // Check for premium generated logos first\r\n    if (brand.generatedLogos && brand.generatedLogos.length > 0) {\r\n        const selectedIndex = brand.selectedLogoIndex ?? 0;\r\n        const selectedLogo = brand.generatedLogos[selectedIndex];\r\n\r\n        if (selectedLogo?.svg) {\r\n            // For color variant, return the exact stored SVG\r\n            if (variant === 'color') {\r\n                return selectedLogo.svg;\r\n            }\r\n\r\n            // For black/white variants, modify the stored SVG colors\r\n            return recolorSVG(selectedLogo.svg, variant);\r\n        }\r\n    }\r\n\r\n    // Fallback to legacy generation ONLY for old brands without generatedLogos\r\n    return generateComposedLogoSVG(brand, variant);\r\n}\r\n\r\n/**\r\n * Get logo by specific ID (for tracking exact logo selection)\r\n */\r\nexport function getLogoById(brand: BrandIdentity, logoId: string): GeneratedLogo | null {\r\n    return brand.generatedLogos?.find(l => l.id === logoId) ?? null;\r\n}\r\n\r\n/**\r\n * Get the currently selected logo object\r\n */\r\nexport function getSelectedLogo(brand: BrandIdentity): GeneratedLogo | null {\r\n    if (!brand.generatedLogos?.length) return null;\r\n    const selectedIndex = brand.selectedLogoIndex ?? 0;\r\n    return brand.generatedLogos[selectedIndex] ?? null;\r\n}\r\n\r\n/**\r\n * Export SVG by logo ID (ensures exact logo is exported)\r\n */\r\nexport function exportSVGById(\r\n    brand: BrandIdentity,\r\n    logoId: string,\r\n    variant: SVGVariant = 'color'\r\n): string {\r\n    const logo = getLogoById(brand, logoId);\r\n\r\n    if (!logo) {\r\n        throw new Error(`Logo with ID ${logoId} not found`);\r\n    }\r\n\r\n    if (variant === 'color') {\r\n        return logo.svg;\r\n    }\r\n\r\n    return recolorSVG(logo.svg, variant);\r\n}\r\n\r\n// ============================================\r\n// COLOR MANIPULATION\r\n// ============================================\r\n\r\n/**\r\n * Recolor an SVG to black or white while preserving structure\r\n */\r\nexport function recolorSVG(svg: string, variant: 'black' | 'white'): string {\r\n    const targetColor = variant === 'black' ? '#000000' : '#FFFFFF';\r\n    const secondaryColor = variant === 'black' ? '#333333' : '#CCCCCC';\r\n\r\n    let recolored = svg;\r\n\r\n    // Replace fill colors (hex, rgb, named colors)\r\n    // Preserve 'none' and 'transparent'\r\n    recolored = recolored.replace(\r\n        /fill=\"(?!none|transparent|url)([^\"]+)\"/gi,\r\n        `fill=\"${targetColor}\"`\r\n    );\r\n\r\n    // Replace stroke colors\r\n    recolored = recolored.replace(\r\n        /stroke=\"(?!none|transparent|url)([^\"]+)\"/gi,\r\n        `stroke=\"${targetColor}\"`\r\n    );\r\n\r\n    // Handle stop-color in gradients\r\n    recolored = recolored.replace(\r\n        /stop-color=\"(?!none|transparent)([^\"]+)\"/gi,\r\n        (match, color, offset) => {\r\n            // Alternate between primary and secondary for gradient effect\r\n            return `stop-color=\"${targetColor}\"`;\r\n        }\r\n    );\r\n\r\n    // Handle inline styles\r\n    recolored = recolored.replace(\r\n        /fill:\\s*(?!none|transparent|url)[^;\"}]+/gi,\r\n        `fill: ${targetColor}`\r\n    );\r\n\r\n    recolored = recolored.replace(\r\n        /stroke:\\s*(?!none|transparent|url)[^;\"}]+/gi,\r\n        `stroke: ${targetColor}`\r\n    );\r\n\r\n    return recolored;\r\n}\r\n\r\n// ============================================\r\n// DARK/LIGHT VARIANTS\r\n// ============================================\r\n\r\n/**\r\n * Generate dark and light mode variants of the logo\r\n */\r\nexport function generateDarkLightVariants(brand: BrandIdentity): {\r\n    light: string;\r\n    dark: string;\r\n} {\r\n    const storedSvg = getStoredLogoSVG(brand, 'color');\r\n\r\n    return {\r\n        light: storedSvg,\r\n        dark: invertColorsForDarkMode(storedSvg, brand)\r\n    };\r\n}\r\n\r\n/**\r\n * Invert/adjust colors for dark mode background\r\n */\r\nexport function invertColorsForDarkMode(svg: string, brand: BrandIdentity): string {\r\n    // Get theme colors for intelligent inversion\r\n    const lightPrimary = brand.theme.tokens.light.primary;\r\n    const darkPrimary = brand.theme.tokens.dark?.primary || lightenColor(lightPrimary, 20);\r\n\r\n    let darkSvg = svg;\r\n\r\n    // Replace light mode primary with dark mode primary\r\n    darkSvg = darkSvg.replace(\r\n        new RegExp(escapeRegex(lightPrimary), 'gi'),\r\n        darkPrimary\r\n    );\r\n\r\n    // Handle white backgrounds - make them transparent or dark\r\n    darkSvg = darkSvg.replace(\r\n        /fill=\"#[fF]{6}\"/g,\r\n        'fill=\"transparent\"'\r\n    );\r\n    darkSvg = darkSvg.replace(\r\n        /fill=\"white\"/gi,\r\n        'fill=\"transparent\"'\r\n    );\r\n    darkSvg = darkSvg.replace(\r\n        /fill=\"rgb\\(255,\\s*255,\\s*255\\)\"/gi,\r\n        'fill=\"transparent\"'\r\n    );\r\n\r\n    // Lighten dark colors that might not be visible\r\n    darkSvg = darkSvg.replace(\r\n        /fill=\"#([0-3][0-9a-fA-F]{5})\"/g,\r\n        (match, hex) => `fill=\"${lightenColor('#' + hex, 40)}\"`\r\n    );\r\n\r\n    return darkSvg;\r\n}\r\n\r\n// ============================================\r\n// HELPER FUNCTIONS\r\n// ============================================\r\n\r\n/**\r\n * Escape special regex characters\r\n */\r\nfunction escapeRegex(str: string): string {\r\n    return str.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\r\n}\r\n\r\n/**\r\n * Lighten a hex color by a percentage\r\n */\r\nfunction lightenColor(hex: string, percent: number): string {\r\n    const num = parseInt(hex.replace('#', ''), 16);\r\n    const amt = Math.round(2.55 * percent);\r\n    const R = Math.min(255, (num >> 16) + amt);\r\n    const G = Math.min(255, ((num >> 8) & 0x00FF) + amt);\r\n    const B = Math.min(255, (num & 0x0000FF) + amt);\r\n    return '#' + (0x1000000 + R * 0x10000 + G * 0x100 + B).toString(16).slice(1);\r\n}\r\n\r\n/**\r\n * Darken a hex color by a percentage\r\n */\r\nfunction darkenColor(hex: string, percent: number): string {\r\n    const num = parseInt(hex.replace('#', ''), 16);\r\n    const amt = Math.round(2.55 * percent);\r\n    const R = Math.max(0, (num >> 16) - amt);\r\n    const G = Math.max(0, ((num >> 8) & 0x00FF) - amt);\r\n    const B = Math.max(0, (num & 0x0000FF) - amt);\r\n    return '#' + (0x1000000 + R * 0x10000 + G * 0x100 + B).toString(16).slice(1);\r\n}\r\n\r\n// ============================================\r\n// WORDMARK GENERATION\r\n// ============================================\r\n\r\n/**\r\n * Generate wordmark SVG using stored logo + brand name\r\n */\r\nexport function generateStoredWordmarkSVG(\r\n    brand: BrandIdentity,\r\n    variant: SVGVariant = 'color'\r\n): string {\r\n    const logoSvg = getStoredLogoSVG(brand, variant);\r\n\r\n    // Extract viewBox from logo\r\n    const viewBoxMatch = logoSvg.match(/viewBox=\"([^\"]+)\"/);\r\n    const logoViewBox = viewBoxMatch ? viewBoxMatch[1] : '0 0 100 100';\r\n    const [, , logoWidth, logoHeight] = logoViewBox.split(' ').map(Number);\r\n\r\n    // Calculate dimensions\r\n    const iconSize = 40;\r\n    const textX = iconSize + 16;\r\n    const fontSize = 24;\r\n    const textWidth = brand.name.length * fontSize * 0.6; // Approximate\r\n    const totalWidth = textX + textWidth + 16;\r\n    const totalHeight = Math.max(iconSize, 40);\r\n\r\n    // Determine text color\r\n    let textColor: string;\r\n    switch (variant) {\r\n        case 'black':\r\n            textColor = '#000000';\r\n            break;\r\n        case 'white':\r\n            textColor = '#FFFFFF';\r\n            break;\r\n        default:\r\n            textColor = brand.theme.tokens.light.text;\r\n            break;\r\n    }\r\n\r\n    // Extract just the inner content of the logo SVG (without the outer svg tags)\r\n    const innerContent = logoSvg\r\n        .replace(/<\\?xml[^?]*\\?>/g, '')\r\n        .replace(/<svg[^>]*>/g, '')\r\n        .replace(/<\\/svg>/g, '')\r\n        .trim();\r\n\r\n    return `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 ${totalWidth} ${totalHeight}\" fill=\"none\">\r\n    <!-- Logo Icon -->\r\n    <svg x=\"0\" y=\"${(totalHeight - iconSize) / 2}\" width=\"${iconSize}\" height=\"${iconSize}\" viewBox=\"${logoViewBox}\">\r\n        ${innerContent}\r\n    </svg>\r\n    <!-- Brand Name -->\r\n    <text x=\"${textX}\" y=\"${totalHeight / 2 + fontSize / 3}\" font-family=\"${brand.font.headingName || brand.font.heading}, system-ui, sans-serif\" font-size=\"${fontSize}\" font-weight=\"700\" fill=\"${textColor}\">\r\n        ${brand.name}\r\n    </text>\r\n</svg>`;\r\n}\r\n\r\n// ============================================\r\n// FAVICON GENERATION\r\n// ============================================\r\n\r\n/**\r\n * Generate favicon SVG from stored logo (simplified for small sizes)\r\n */\r\nexport function generateStoredFaviconSVG(brand: BrandIdentity): string {\r\n    return getStoredLogoSVG(brand, 'color');\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\renderers\\svg-renderer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\logo-engine\\types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\meta\\ComponentPlayground.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":11,"column":20,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":11,"endColumn":23,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[295,298],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[295,298],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":20,"column":30,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":33,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[565,568],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[565,568],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":22,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":22,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[687,690],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[687,690],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'componentName' is defined but never used.","line":28,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":28,"endColumn":18},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":34,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":34,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[971,974],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[971,974],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":35,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":35,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1009,1012],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1009,1012],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":45,"column":52,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":45,"endColumn":55,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1355,1358],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1355,1358],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":46,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":46,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1390,1393],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1390,1393],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":116,"column":49,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":116,"endColumn":52,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5079,5082],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5079,5082],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":8,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport React, { useState } from 'react';\r\nimport { Check, Copy, RefreshCw } from \"lucide-react\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\ninterface PropConfig {\r\n    name: string;\r\n    type: 'select' | 'boolean' | 'text';\r\n    options?: string[]; // For select\r\n    defaultValue?: any;\r\n}\r\n\r\ninterface ComponentPlaygroundProps {\r\n    title: string;\r\n    description?: string;\r\n    componentName: string; // e.g. \"Button\"\r\n    propConfig: PropConfig[];\r\n    // Function that takes current props and returns the React Node\r\n    renderComponent: (props: any) => React.ReactNode;\r\n    // Function that takes current props and returns the code string\r\n    generateCode: (props: any) => string;\r\n}\r\n\r\nexport function ComponentPlayground({\r\n    title,\r\n    description,\r\n    componentName,\r\n    propConfig,\r\n    renderComponent,\r\n    generateCode\r\n}: ComponentPlaygroundProps) {\r\n    // Initialize state with default values\r\n    const [props, setProps] = useState<any>(() => {\r\n        const defaults: any = {};\r\n        propConfig.forEach(config => {\r\n            defaults[config.name] = config.defaultValue;\r\n        });\r\n        return defaults;\r\n    });\r\n\r\n    const [isCopied, setIsCopied] = useState(false);\r\n    const [activeTab, setActiveTab] = useState<'preview' | 'code'>('preview');\r\n\r\n    const handlePropChange = (name: string, value: any) => {\r\n        setProps((prev: any) => ({ ...prev, [name]: value }));\r\n    };\r\n\r\n    const copyToClipboard = () => {\r\n        const code = generateCode(props);\r\n        navigator.clipboard.writeText(code);\r\n        setIsCopied(true);\r\n        setTimeout(() => setIsCopied(false), 2000);\r\n    };\r\n\r\n    return (\r\n        <div className=\"border border-stone-200 rounded-xl overflow-hidden bg-white shadow-sm\">\r\n            {/* Header */}\r\n            <div className=\"px-6 py-4 border-b border-stone-100 bg-stone-50/50 flex justify-between items-center\">\r\n                <div>\r\n                    <h3 className=\"text-sm font-bold text-stone-900\">{title}</h3>\r\n                    {description && <p className=\"text-xs text-stone-500 mt-1\">{description}</p>}\r\n                </div>\r\n                {/* Tabs */}\r\n                <div className=\"flex bg-stone-100 p-1 rounded-lg\">\r\n                    <button\r\n                        onClick={() => setActiveTab('preview')}\r\n                        className={cn(\r\n                            \"px-3 py-1 text-xs font-medium rounded-md transition-all\",\r\n                            activeTab === 'preview' ? \"bg-white text-stone-900 shadow-sm\" : \"text-stone-500 hover:text-stone-900\"\r\n                        )}\r\n                    >\r\n                        Preview\r\n                    </button>\r\n                    <button\r\n                        onClick={() => setActiveTab('code')}\r\n                        className={cn(\r\n                            \"px-3 py-1 text-xs font-medium rounded-md transition-all\",\r\n                            activeTab === 'code' ? \"bg-white text-stone-900 shadow-sm\" : \"text-stone-500 hover:text-stone-900\"\r\n                        )}\r\n                    >\r\n                        Code\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 divide-y lg:divide-y-0 lg:divide-x divide-stone-100\">\r\n                {/* Main Preview Area (2 cols) */}\r\n                <div className=\"lg:col-span-2 min-h-[300px] flex items-center justify-center bg-[url('/grid-pattern.svg')] bg-stone-50/30 p-8 relative\">\r\n\r\n                    {activeTab === 'preview' ? (\r\n                        <div className=\"scale-100 transition-all duration-300\">\r\n                            {renderComponent(props)}\r\n                        </div>\r\n                    ) : (\r\n                        <div className=\"w-full h-full bg-stone-900 rounded-lg p-4 overflow-auto relative group\">\r\n                            <pre className=\"text-xs font-mono text-stone-300 whitespace-pre-wrap\">\r\n                                {generateCode(props)}\r\n                            </pre>\r\n                            <button\r\n                                onClick={copyToClipboard}\r\n                                className=\"absolute top-3 right-3 p-2 bg-stone-800 text-stone-400 hover:text-white rounded-md transition-colors opacity-0 group-hover:opacity-100\"\r\n                            >\r\n                                {isCopied ? <Check size={14} className=\"text-green-400\" /> : <Copy size={14} />}\r\n                            </button>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                {/* Controls (1 col) */}\r\n                <div className=\"p-6 bg-white space-y-6\">\r\n                    <div className=\"flex items-center justify-between pb-4 border-b border-stone-100\">\r\n                        <span className=\"text-xs font-bold text-stone-400 uppercase tracking-wider\">Configuration</span>\r\n                        <button\r\n                            onClick={() => {\r\n                                const defaults: any = {};\r\n                                propConfig.forEach(config => defaults[config.name] = config.defaultValue);\r\n                                setProps(defaults);\r\n                            }}\r\n                            className=\"p-1 text-stone-400 hover:text-orange-500 transition-colors\"\r\n                            title=\"Reset to default\"\r\n                        >\r\n                            <RefreshCw size={12} />\r\n                        </button>\r\n                    </div>\r\n\r\n                    <div className=\"space-y-5\">\r\n                        {propConfig.map((config) => (\r\n                            <div key={config.name} className=\"space-y-2\">\r\n                                <label className=\"text-xs font-semibold text-stone-700 block\">\r\n                                    {config.name}\r\n                                </label>\r\n\r\n                                {config.type === 'select' && config.options && (\r\n                                    <div className=\"flex flex-wrap gap-2\">\r\n                                        {config.options.map((option) => (\r\n                                            <button\r\n                                                key={option}\r\n                                                onClick={() => handlePropChange(config.name, option)}\r\n                                                className={cn(\r\n                                                    \"px-3 py-1.5 text-xs rounded-md border transition-all\",\r\n                                                    props[config.name] === option\r\n                                                        ? \"bg-orange-50 border-orange-200 text-orange-700 font-medium\"\r\n                                                        : \"bg-white border-stone-200 text-stone-600 hover:border-stone-300\"\r\n                                                )}\r\n                                            >\r\n                                                {option}\r\n                                            </button>\r\n                                        ))}\r\n                                    </div>\r\n                                )}\r\n\r\n                                {config.type === 'boolean' && (\r\n                                    <label className=\"flex items-center gap-2 cursor-pointer group\">\r\n                                        <div className={cn(\r\n                                            \"w-9 h-5 rounded-full relative transition-colors duration-200\",\r\n                                            props[config.name] ? \"bg-orange-500\" : \"bg-stone-200 group-hover:bg-stone-300\"\r\n                                        )}>\r\n                                            <input\r\n                                                type=\"checkbox\"\r\n                                                checked={props[config.name]}\r\n                                                onChange={(e) => handlePropChange(config.name, e.target.checked)}\r\n                                                className=\"opacity-0 absolute w-full h-full cursor-pointer\"\r\n                                            />\r\n                                            <div className={cn(\r\n                                                \"absolute top-1 left-1 bg-white w-3 h-3 rounded-full shadow-sm transition-transform duration-200\",\r\n                                                props[config.name] ? \"translate-x-4\" : \"translate-x-0\"\r\n                                            )} />\r\n                                        </div>\r\n                                        <span className=\"text-xs text-stone-500 font-medium select-none\">\r\n                                            {props[config.name] ? \"Enabled\" : \"Disabled\"}\r\n                                        </span>\r\n                                    </label>\r\n                                )}\r\n\r\n                                {config.type === 'text' && (\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        value={props[config.name]}\r\n                                        onChange={(e) => handlePropChange(config.name, e.target.value)}\r\n                                        className=\"w-full px-3 py-2 text-xs border border-stone-200 rounded-lg focus:outline-none focus:border-orange-500/50 focus:ring-2 focus:ring-orange-500/10 transition-all\"\r\n                                    />\r\n                                )}\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\meta\\SystemNav.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'usePathname' is defined but never used.","line":5,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":5,"endColumn":21},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'cn' is defined but never used.","line":6,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":6,"endColumn":12}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport React from 'react';\r\nimport Link from 'next/link';\r\nimport { usePathname } from 'next/navigation';\r\nimport { cn } from \"@/lib/utils\";\r\nimport { Box, Layers, LayoutGrid, Type, Palette, Component, MousePointerClick } from \"lucide-react\";\r\n\r\nconst NAV_ITEMS = [\r\n    {\r\n        category: \"Foundation\",\r\n        items: [\r\n            { label: \"Introduction\", href: \"/design-system\", icon: Box },\r\n            { label: \"Colors\", href: \"/design-system#colors\", icon: Palette },\r\n            { label: \"Typography\", href: \"/design-system#typography\", icon: Type },\r\n            { label: \"Layout\", href: \"/design-system#layout\", icon: LayoutGrid },\r\n        ]\r\n    },\r\n    {\r\n        category: \"Components\",\r\n        items: [\r\n            { label: \"Buttons\", href: \"/design-system#buttons\", icon: MousePointerClick },\r\n            { label: \"Inputs\", href: \"/design-system#inputs\", icon: Component },\r\n            { label: \"Badges\", href: \"/design-system#badges\", icon: Layers },\r\n        ]\r\n    }\r\n];\r\n\r\nexport function SystemNav() {\r\n    return (\r\n        <nav className=\"w-64 h-screen fixed left-0 top-0 border-r border-stone-200 bg-stone-50/50 backdrop-blur-xl p-6 hidden lg:block overflow-y-auto\">\r\n            <div className=\"mb-8\">\r\n                <Link href=\"/\" className=\"flex items-center gap-2 group\">\r\n                    <div className=\"w-8 h-8 bg-stone-900 rounded-lg flex items-center justify-center text-white font-bold text-sm group-hover:bg-orange-600 transition-colors\">\r\n                        G\r\n                    </div>\r\n                    <div className=\"flex flex-col\">\r\n                        <span className=\"font-bold text-stone-900 text-sm\">Glyph System</span>\r\n                        <span className=\"text-[10px] text-stone-500 font-mono\">v1.0.0-beta</span>\r\n                    </div>\r\n                </Link>\r\n            </div>\r\n\r\n            <div className=\"space-y-8\">\r\n                {NAV_ITEMS.map((section) => (\r\n                    <div key={section.category}>\r\n                        <h4 className=\"text-xs font-bold text-stone-400 uppercase tracking-wider mb-4 px-2\">\r\n                            {section.category}\r\n                        </h4>\r\n                        <div className=\"space-y-1\">\r\n                            {section.items.map((item) => (\r\n                                <Link\r\n                                    key={item.label}\r\n                                    href={item.href}\r\n                                    className=\"flex items-center gap-3 px-2 py-2 text-sm text-stone-600 hover:text-stone-900 hover:bg-stone-200/50 rounded-lg transition-colors group\"\r\n                                >\r\n                                    <item.icon size={16} className=\"text-stone-400 group-hover:text-stone-600 transition-colors\" />\r\n                                    {item.label}\r\n                                </Link>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n\r\n            <div className=\"absolute bottom-6 left-6 right-6\">\r\n                <div className=\"p-4 bg-stone-900 rounded-xl text-center\">\r\n                    <p className=\"text-xs text-stone-400 mb-2\">Need help?</p>\r\n                    <a href=\"mailto:support@glyph.com\" className=\"text-xs font-bold text-white hover:text-orange-400\">Contact Support</a>\r\n                </div>\r\n            </div>\r\n        </nav>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\preview\\BrowserBrandPreview.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Plus' is defined but never used.","line":4,"column":60,"nodeType":null,"messageId":"unusedVar","endLine":4,"endColumn":64},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'bg' is assigned a value but never used.","line":8,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":13},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'text' is assigned a value but never used.","line":9,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":9,"endColumn":15},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'initial' is assigned a value but never used.","line":10,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":10,"endColumn":18}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\nimport { BrandIdentity } from '@/lib/data';\r\nimport { LogoComposition } from '@/components/logo-engine/LogoComposition';\r\nimport { Lock, RotateCw, ChevronLeft, ChevronRight, Share, Plus } from 'lucide-react';\r\n\r\nexport function BrowserBrandPreview({ brand }: { brand: BrandIdentity }) {\r\n    const primary = brand.theme.tokens.light.primary;\r\n    const bg = brand.theme.tokens.light.bg;\r\n    const text = brand.theme.tokens.light.text;\r\n    const initial = brand.name.charAt(0).toUpperCase();\r\n\r\n    // Content Simulation based on Vibe\r\n    const CONTENT: Record<string, { headline: string; subhead: string; cta: string }> = {\r\n        minimalist: {\r\n            headline: \"Design is the silent ambassador.\",\r\n            subhead: \"We strip away the non-essential to reveal the profound.\",\r\n            cta: \"Explore Collection\"\r\n        },\r\n        tech: {\r\n            headline: \"The future is already here.\",\r\n            subhead: \"Building digital infrastructure for the next generation.\",\r\n            cta: \"Start Building\"\r\n        },\r\n        nature: {\r\n            headline: \"Return to the source.\",\r\n            subhead: \"Sustainable living for a balanced, grounded future.\",\r\n            cta: \"Join Movement\"\r\n        },\r\n        bold: {\r\n            headline: \"Make your presence felt.\",\r\n            subhead: \"For those who refuse to blend into the background.\",\r\n            cta: \"Get Loud\"\r\n        },\r\n        modern: {\r\n            headline: \"Simply better business.\",\r\n            subhead: \"Elevating standards through thoughtful innovation.\",\r\n            cta: \"Get Started\"\r\n        }\r\n    };\r\n\r\n    const copy = CONTENT[brand.vibe] || CONTENT.modern;\r\n\r\n    return (\r\n        <div className=\"w-full h-full flex flex-col overflow-hidden rounded-[2.5rem] bg-stone-50 shadow-2xl ring-8 ring-stone-900/5 group border border-stone-200\">\r\n\r\n            {/* 1. BROWSER CHROME (The Container) */}\r\n            <div className=\"border-b border-stone-200 bg-white/80 backdrop-blur-md relative z-20\">\r\n                {/* Traffic Lights & Actions Row */}\r\n                <div className=\"flex items-center justify-between px-5 py-4\">\r\n                    <div className=\"flex gap-2\">\r\n                        <div className=\"w-3 h-3 rounded-full bg-[#FF5F57] border border-[#E0443E] shadow-sm\" />\r\n                        <div className=\"w-3 h-3 rounded-full bg-[#FEBC2E] border border-[#D89E24] shadow-sm\" />\r\n                        <div className=\"w-3 h-3 rounded-full bg-[#28C840] border border-[#1AAB29] shadow-sm\" />\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Address Bar Row */}\r\n                <div className=\"px-4 pb-4\">\r\n                    <div className=\"flex items-center gap-3 bg-stone-100/50 p-2 rounded-xl border border-stone-200 shadow-[inset_0_1px_2px_rgba(0,0,0,0.06)]\">\r\n                        <div className=\"flex gap-1 opacity-40 px-2\">\r\n                            <ChevronLeft className=\"w-4 h-4\" />\r\n                            <ChevronRight className=\"w-4 h-4\" />\r\n                            <RotateCw className=\"w-3.5 h-3.5 ml-1\" />\r\n                        </div>\r\n\r\n                        <div className=\"flex-1 flex items-center justify-center gap-2 bg-white h-9 rounded-lg border border-stone-200 shadow-sm text-xs font-medium text-stone-600\">\r\n                            <Lock className=\"w-3 h-3 opacity-40 ml-2\" />\r\n                            <span className=\"tracking-tight\">{brand.name.toLowerCase().replace(/\\s/g, '')}.com</span>\r\n                        </div>\r\n\r\n                        <div className=\"px-2 opacity-40\">\r\n                            <Share className=\"w-4 h-4\" />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* 2. VIEWPORT CONTENT */}\r\n            <div className=\"flex-1 flex flex-col relative overflow-hidden bg-white\">\r\n\r\n                {/* HERO SECTION */}\r\n                <div\r\n                    className=\"h-[55%] w-full relative flex items-center justify-center overflow-hidden\"\r\n                    style={{ backgroundColor: primary }}\r\n                >\r\n                    {/* Noise Texture */}\r\n                    <div\r\n                        className=\"absolute inset-0 opacity-[0.15] mix-blend-overlay\"\r\n                        style={{\r\n                            backgroundImage: 'url(\"data:image/svg+xml,%3Csvg viewBox=\\'0 0 400 400\\' xmlns=\\'http://www.w3.org/2000/svg\\'%3E%3Cfilter id=\\'noise\\'%3E%3CfeTurbulence type=\\'fractalNoise\\' baseFrequency=\\'0.8\\' numOctaves=\\'4\\' stitchTiles=\\'stitch\\'/%3E%3C/filter%3E%3Crect width=\\'100%25\\' height=\\'100%25\\' filter=\\'url(%23noise)\\'/%3E%3C/svg%3E\")',\r\n                        }}\r\n                    />\r\n\r\n                    {/* Gradient Overlay for Depth */}\r\n                    <div className=\"absolute inset-0 bg-gradient-to-tr from-black/10 to-white/10 mix-blend-overlay\" />\r\n\r\n                    {/* Main Content */}\r\n                    <div className=\"relative z-10 flex flex-col items-center gap-6 animate-in zoom-in-95 duration-700 fade-in slide-in-from-bottom-4\">\r\n                        {/* Logo Card */}\r\n                        <div className=\"w-32 h-32 bg-white rounded-[2rem] shadow-[0_20px_40px_-12px_rgba(0,0,0,0.2)] flex items-center justify-center relative overflow-hidden group hover:scale-105 transition-transform duration-500 border border-white/50\">\r\n                            <div className=\"w-20 h-20\">\r\n                                <LogoComposition brand={brand} />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"text-center space-y-1\">\r\n                            <h1 className=\"text-3xl font-bold text-white tracking-tight drop-shadow-md\">\r\n                                {brand.name}\r\n                            </h1>\r\n                            <p className=\"text-white/90 text-xs font-bold tracking-widest uppercase\">\r\n                                The {brand.vibe} Platform\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* CONTENT BODY */}\r\n                <div className=\"flex-1 bg-white p-8 flex flex-col items-center py-12 gap-8 text-center\">\r\n                    <div className=\"space-y-3 max-w-sm\">\r\n                        <h2 className=\"text-2xl font-bold text-stone-900 tracking-tight leading-tight\">\r\n                            {copy.headline}\r\n                        </h2>\r\n                        <p className=\"text-stone-500 text-sm leading-relaxed\">\r\n                            {copy.subhead}\r\n                        </p>\r\n                    </div>\r\n\r\n                    <button\r\n                        className=\"px-8 py-3 rounded-full text-sm font-bold tracking-wide transition-all active:scale-95 active:translate-y-[1px] hover:shadow-lg hover:-translate-y-0.5\"\r\n                        style={{ backgroundColor: primary, color: '#FFFFFF' }}\r\n                    >\r\n                        {copy.cta}\r\n                    </button>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n// Helper for 'Favicon' in other views if needed\r\nexport function BrowserFavicon({ brand }: { brand: BrandIdentity }) {\r\n    const primary = brand.theme.tokens.light.primary;\r\n    return (\r\n        <div\r\n            className=\"w-4 h-4 rounded-sm flex items-center justify-center text-[8px] font-bold text-white\"\r\n            style={{ backgroundColor: primary }}\r\n        >\r\n            {brand.name.charAt(0)}\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\preview\\Mockup3DCard.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'text' is assigned a value but never used.","line":15,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":15,"endColumn":15},{"ruleId":"react-hooks/static-components","severity":2,"message":"Error: Cannot create components during render\n\nComponents created during render will reset their state each time they are created. Declare components outside of render.\n\nF:\\work\\Glyph\\components\\preview\\Mockup3DCard.tsx:60:18\n  58 |         return (\n  59 |             <div className=\"relative w-full h-full flex items-center justify-center py-8\">\n> 60 |                 <Card rotate={-15} y={-10} zIndex={10} variant=\"front\" />\n     |                  ^^^^ This component is created during render\n  61 |                 <Card rotate={5} y={15} zIndex={20} variant=\"back\" />\n  62 |             </div>\n  63 |         )\n\nF:\\work\\Glyph\\components\\preview\\Mockup3DCard.tsx:18:18\n  16 |\n  17 |     // The Card Component\n> 18 |     const Card = ({ rotate = 0, y = 0, zIndex = 0, variant = 'front' }: { rotate?: number, y?: number, zIndex?: number, variant?: 'front' | 'back' }) => (\n     |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 19 |         <div\n     | ^^^^^^^^^^^^\n> 20 |             className=\"absolute w-56 h-32 rounded-xl shadow-2xl flex flex-col justify-between overflow-hidden border border-white/10\"\n     ΓÇª\n     | ^^^^^^^^^^^^\n> 54 |         </div>\n     | ^^^^^^^^^^^^\n> 55 |     );\n     | ^^^^^^ The component is created during render here\n  56 |\n  57 |     if (stacked) {\n  58 |         return (","line":60,"column":18,"nodeType":null,"endLine":60,"endColumn":22},{"ruleId":"react-hooks/static-components","severity":2,"message":"Error: Cannot create components during render\n\nComponents created during render will reset their state each time they are created. Declare components outside of render.\n\nF:\\work\\Glyph\\components\\preview\\Mockup3DCard.tsx:61:18\n  59 |             <div className=\"relative w-full h-full flex items-center justify-center py-8\">\n  60 |                 <Card rotate={-15} y={-10} zIndex={10} variant=\"front\" />\n> 61 |                 <Card rotate={5} y={15} zIndex={20} variant=\"back\" />\n     |                  ^^^^ This component is created during render\n  62 |             </div>\n  63 |         )\n  64 |     }\n\nF:\\work\\Glyph\\components\\preview\\Mockup3DCard.tsx:18:18\n  16 |\n  17 |     // The Card Component\n> 18 |     const Card = ({ rotate = 0, y = 0, zIndex = 0, variant = 'front' }: { rotate?: number, y?: number, zIndex?: number, variant?: 'front' | 'back' }) => (\n     |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 19 |         <div\n     | ^^^^^^^^^^^^\n> 20 |             className=\"absolute w-56 h-32 rounded-xl shadow-2xl flex flex-col justify-between overflow-hidden border border-white/10\"\n     ΓÇª\n     | ^^^^^^^^^^^^\n> 54 |         </div>\n     | ^^^^^^^^^^^^\n> 55 |     );\n     | ^^^^^^ The component is created during render here\n  56 |\n  57 |     if (stacked) {\n  58 |         return (","line":61,"column":18,"nodeType":null,"endLine":61,"endColumn":22}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { BrandIdentity } from '@/lib/data';\r\nimport { motion } from 'framer-motion';\r\nimport { LogoComposition } from '@/components/logo-engine/LogoComposition';\r\n\r\ninterface Mockup3DCardProps {\r\n    brand: BrandIdentity;\r\n    stacked?: boolean;\r\n}\r\n\r\nexport function Mockup3DCard({ brand, stacked = false }: Mockup3DCardProps) {\r\n    // Extract colors for easier access\r\n    const primary = brand.theme.tokens.light.primary;\r\n    const surface = brand.theme.tokens.light.surface;\r\n    const bg = brand.theme.tokens.light.bg;\r\n    const text = brand.theme.tokens.light.text;\r\n\r\n    // The Card Component\r\n    const Card = ({ rotate = 0, y = 0, zIndex = 0, variant = 'front' }: { rotate?: number, y?: number, zIndex?: number, variant?: 'front' | 'back' }) => (\r\n        <div\r\n            className=\"absolute w-56 h-32 rounded-xl shadow-2xl flex flex-col justify-between overflow-hidden border border-white/10\"\r\n            style={{\r\n                backgroundColor: variant === 'front' ? primary : bg,\r\n                transform: `rotate(${rotate}deg) translateY(${y}px)`,\r\n                zIndex\r\n            }}\r\n        >\r\n            {variant === 'front' ? (\r\n                // Front Design (Logo + Name)\r\n                <div className=\"relative h-full p-5 flex flex-col justify-between\">\r\n                    {/* Subtle graphical element */}\r\n                    <div className=\"absolute top-0 right-0 w-24 h-24 bg-white/10 rounded-bl-full -mr-4 -mt-4 opacity-50\"></div>\r\n\r\n                    <div className=\"w-8 h-8\">\r\n                        <LogoComposition brand={brand} overrideColors={{ primary: '#FFFFFF' }} />\r\n                    </div>\r\n\r\n                    <div>\r\n                        <p className=\"text-white/80 text-[10px] uppercase tracking-widest font-mono mb-1\">Founder</p>\r\n                        <p className=\"text-white text-lg font-bold tracking-tight\">{brand.name}</p>\r\n                    </div>\r\n                </div>\r\n            ) : (\r\n                // Back Design (Contact Info)\r\n                <div className=\"relative h-full p-5 flex flex-col justify-center items-center text-center\">\r\n                    <div className=\"w-12 h-12 mb-3 opacity-20\">\r\n                        <LogoComposition brand={brand} />\r\n                    </div>\r\n                    <div className=\"space-y-1\">\r\n                        <div className=\"h-1.5 w-20 bg-stone-300 mx-auto rounded-full\" style={{ backgroundColor: surface }} />\r\n                        <div className=\"h-1.5 w-16 bg-stone-200 mx-auto rounded-full\" />\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n\r\n    if (stacked) {\r\n        return (\r\n            <div className=\"relative w-full h-full flex items-center justify-center py-8\">\r\n                <Card rotate={-15} y={-10} zIndex={10} variant=\"front\" />\r\n                <Card rotate={5} y={15} zIndex={20} variant=\"back\" />\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className=\"relative w-full h-full flex items-center justify-center p-8 perspective-[1000px]\">\r\n            {/* Simple single floating card */}\r\n            <motion.div\r\n                initial={{ rotateY: -20, rotateX: 10 }}\r\n                animate={{ rotateY: [-20, 20, -20], rotateX: [10, 5, 10] }}\r\n                transition={{ duration: 10, repeat: Infinity, ease: \"easeInOut\" }}\r\n                className=\"w-64 h-40 rounded-xl shadow-[0_20px_50px_-12px_rgba(0,0,0,0.3)]\"\r\n                style={{\r\n                    backgroundColor: primary,\r\n                    transformStyle: 'preserve-3d'\r\n                }}\r\n            >\r\n                <div className=\"absolute inset-0 p-6 flex flex-col justify-between\">\r\n                    <div className=\"w-10 h-10\">\r\n                        <LogoComposition brand={brand} overrideColors={{ primary: '#FFFFFF' }} />\r\n                    </div>\r\n                    <div className=\"text-white text-2xl font-bold\">{brand.name}</div>\r\n                </div>\r\n\r\n                {/* Realistic Gloss Gradient */}\r\n                <div className=\"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent rounded-xl pointer-events-none\" />\r\n            </motion.div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\preview\\MockupBillboard.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'darkTokens' is assigned a value but never used.","line":16,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":16,"endColumn":21}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React from 'react';\r\nimport { BrandIdentity } from '@/lib/data';\r\nimport { LogoComposition } from '@/components/logo-engine/LogoComposition';\r\nimport { cn } from '@/lib/utils';\r\n\r\ninterface MockupBillboardProps {\r\n    brand: BrandIdentity;\r\n    className?: string;\r\n    variant?: 'metro' | 'highway';\r\n}\r\n\r\nexport const MockupBillboard = ({ brand, className, variant = 'metro' }: MockupBillboardProps) => {\r\n    const tokens = brand.theme.tokens.light;\r\n    const darkTokens = brand.theme.tokens.dark;\r\n\r\n    // Choose colors based on variant for contrast\r\n    const useDark = variant === 'metro';\r\n    const bg = useDark ? tokens.bg : tokens.primary;\r\n    const fg = useDark ? tokens.text : '#ffffff';\r\n    const accent = useDark ? tokens.primary : tokens.accent || '#ffffff';\r\n\r\n    return (\r\n        <div className={cn(\"relative w-full aspect-[2/1] bg-stone-200 rounded-lg overflow-hidden shadow-2xl\", className)}>\r\n            {/* Structural Frame */}\r\n            <div className=\"absolute inset-x-0 bottom-0 h-4 bg-stone-800 z-20\" />\r\n            <div className=\"absolute inset-y-0 left-0 w-2 bg-stone-800 z-20\" />\r\n            <div className=\"absolute inset-y-0 right-0 w-2 bg-stone-800 z-20\" />\r\n            <div className=\"absolute inset-x-0 top-0 h-2 bg-stone-800 z-20\" />\r\n\r\n            {/* Canvas */}\r\n            <div\r\n                className=\"absolute inset-2 bg-white flex flex-col items-center justify-center p-8 overflow-hidden\"\r\n                style={{ backgroundColor: bg }}\r\n            >\r\n                {/* Background Pattern/Texture */}\r\n                <div\r\n                    className=\"absolute inset-0 opacity-10\"\r\n                    style={{\r\n                        backgroundImage: `radial-gradient(${accent} 2px, transparent 2px)`,\r\n                        backgroundSize: '32px 32px'\r\n                    }}\r\n                />\r\n\r\n                {/* Content Layout */}\r\n                <div className=\"relative z-10 w-full h-full flex items-center\">\r\n\r\n                    {variant === 'metro' ? (\r\n                        // Metro: Split layout (Text Left, Logo Right)\r\n                        <div className=\"grid grid-cols-2 gap-12 w-full h-full items-center pl-12\">\r\n                            <div className=\"space-y-6\">\r\n                                <h2\r\n                                    className={cn(\"text-6xl font-black tracking-tighter leading-none\", brand.font.heading)}\r\n                                    style={{ color: fg }}\r\n                                >\r\n                                    THE FUTURE <br /> IS <span style={{ color: accent }}>HERE.</span>\r\n                                </h2>\r\n                                <div className=\"h-2 w-24\" style={{ backgroundColor: accent }} />\r\n                                <p\r\n                                    className={cn(\"text-xl font-medium opacity-80 max-w-sm\", brand.font.body)}\r\n                                    style={{ color: fg }}\r\n                                >\r\n                                    {brand.strategy?.mission || `Experience the new standard of ${brand.vibe}.`}\r\n                                </p>\r\n                            </div>\r\n                            <div className=\"flex items-center justify-center h-full relative\">\r\n                                <div className=\"w-64 h-64 relative filter drop-shadow-2xl\">\r\n                                    <LogoComposition brand={brand} />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    ) : (\r\n                        // Highway: Centered Impact\r\n                        <div className=\"w-full flex justify-between items-center px-20\">\r\n                            <div className=\"flex flex-col gap-4\">\r\n                                <div className=\"w-32 h-32 relative\">\r\n                                    <LogoComposition brand={brand} overrideColors={{ primary: fg }} />\r\n                                </div>\r\n                                <h1\r\n                                    className={cn(\"text-5xl font-bold tracking-tight\", brand.font.heading)}\r\n                                    style={{ color: fg }}\r\n                                >\r\n                                    {brand.name}\r\n                                </h1>\r\n                            </div>\r\n\r\n                            <div className=\"text-right\">\r\n                                <h2\r\n                                    className={cn(\"text-7xl font-black uppercase tracking-tighter\", brand.font.heading)}\r\n                                    style={{ color: fg }}\r\n                                >\r\n                                    BOLDLY <br /> <span style={{ color: accent }}>FORWARD</span>\r\n                                </h2>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                {/* Glare/Reflection Overlay */}\r\n                <div className=\"absolute inset-0 bg-gradient-to-tr from-transparent via-white/10 to-transparent pointer-events-none z-10\" />\r\n                <div className=\"absolute inset-0 bg-gradient-to-b from-black/5 to-transparent pointer-events-none z-10\" />\r\n            </div>\r\n\r\n            {/* Lighting Fixtures (Top) */}\r\n            <div className=\"absolute -top-1 left-1/4 w-8 h-4 bg-stone-900 z-0 rounded-t shadow-sm\" />\r\n            <div className=\"absolute -top-1 right-1/4 w-8 h-4 bg-stone-900 z-0 rounded-t shadow-sm\" />\r\n        </div>\r\n    );\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\preview\\MockupDevice.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'text' is assigned a value but never used.","line":7,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":7,"endColumn":15}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { BrandIdentity } from '@/lib/data';\r\nimport { LogoComposition } from '@/components/logo-engine/LogoComposition';\r\n\r\nexport function MockupDevice({ brand }: { brand: BrandIdentity }) {\r\n    const primary = brand.theme.tokens.light.primary;\r\n    const bg = brand.theme.tokens.light.bg;\r\n    const text = brand.theme.tokens.light.text;\r\n    const surface = brand.theme.tokens.light.surface;\r\n\r\n    return (\r\n        <div className=\"relative mx-auto border-gray-800 bg-gray-800 border-[8px] rounded-[2.5rem] h-[400px] w-[200px] shadow-xl\">\r\n            <div className=\"w-[80px] h-[18px] bg-gray-800 top-0 rounded-b-[1rem] left-1/2 -translate-x-1/2 absolute z-10\"></div>\r\n            <div className=\"h-[26px] w-[2px] bg-gray-800 absolute -start-[10px] top-[72px] rounded-s-lg\"></div>\r\n            <div className=\"h-[26px] w-[2px] bg-gray-800 absolute -start-[10px] top-[108px] rounded-s-lg\"></div>\r\n            <div className=\"h-[38px] w-[2px] bg-gray-800 absolute -end-[10px] top-[90px] rounded-e-lg\"></div>\r\n\r\n            {/* Screen Content */}\r\n            <div className=\"rounded-[2rem] overflow-hidden w-full h-full bg-white flex flex-col relative\">\r\n                {/* Simulated App UI */}\r\n\r\n                {/* 1. App Header */}\r\n                <div className=\"pt-8 pb-4 px-4 flex justify-between items-center\" style={{ backgroundColor: bg }}>\r\n                    <div className=\"w-6 h-6\">\r\n                        <LogoComposition brand={brand} />\r\n                    </div>\r\n                    <div className=\"w-8 h-8 rounded-full bg-gray-200\"></div>\r\n                </div>\r\n\r\n                {/* 2. Hero Card */}\r\n                <div className=\"px-4 pb-4\">\r\n                    <div\r\n                        className=\"w-full aspect-square rounded-2xl p-4 flex flex-col justify-end relative overflow-hidden\"\r\n                        style={{ backgroundColor: primary }}\r\n                    >\r\n                        <div className=\"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full blur-2xl -mr-10 -mt-10\"></div>\r\n                        <div className=\"text-white font-bold text-xl leading-tight opacity-90\">\r\n                            {brand.vibe.charAt(0).toUpperCase() + brand.vibe.slice(1)} <br /> Collection\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* 3. List Items */}\r\n                <div className=\"px-4 space-y-3 flex-1 overflow-hidden\">\r\n                    {[1, 2, 3].map((i) => (\r\n                        <div key={i} className=\"flex gap-3 items-center\">\r\n                            <div className=\"w-12 h-12 rounded-lg shrink-0\" style={{ backgroundColor: surface }}></div>\r\n                            <div className=\"space-y-1 w-full\">\r\n                                <div className=\"h-2 w-2/3 bg-gray-100 rounded\"></div>\r\n                                <div className=\"h-2 w-1/2 bg-gray-50 rounded\"></div>\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n\r\n                {/* 4. Tab Bar (Bottom) */}\r\n                <div className=\"mt-auto h-16 bg-white border-t border-gray-100 flex items-center justify-around px-2 pb-2\">\r\n                    <div className=\"w-6 h-6 rounded bg-gray-100\"></div>\r\n                    <div className=\"w-8 h-8 rounded-full flex items-center justify-center text-white\" style={{ backgroundColor: primary }}>\r\n                        <div className=\"w-4 h-4 bg-white rounded-sm\"></div>\r\n                    </div>\r\n                    <div className=\"w-6 h-6 rounded bg-gray-100\"></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport function MockupBrowser({ brand }: { brand: BrandIdentity }) {\r\n    const primary = brand.theme.tokens.light.primary;\r\n    const bg = brand.theme.tokens.light.bg;\r\n    const text = brand.theme.tokens.light.text;\r\n\r\n    return (\r\n        <div className=\"w-full h-full bg-white rounded-xl shadow-lg border border-stone-200 overflow-hidden flex flex-col\">\r\n            {/* Browser Chrome */}\r\n            <div className=\"h-8 bg-stone-100 border-b border-stone-200 flex items-center px-3 gap-2\">\r\n                <div className=\"flex gap-1.5\">\r\n                    <div className=\"w-2.5 h-2.5 rounded-full bg-red-400\"></div>\r\n                    <div className=\"w-2.5 h-2.5 rounded-full bg-amber-400\"></div>\r\n                    <div className=\"w-2.5 h-2.5 rounded-full bg-green-400\"></div>\r\n                </div>\r\n                <div className=\"flex-1 ml-4 bg-white h-5 rounded flex items-center px-2 text-[8px] text-gray-400 font-mono\">\r\n                    {brand.name.toLowerCase().replace(/\\s/g, '')}.com\r\n                </div>\r\n            </div>\r\n\r\n            {/* Website Content */}\r\n            <div className=\"flex-1 relative flex flex-col\" style={{ backgroundColor: bg }}>\r\n                <div className=\"p-8 flex items-center justify-between\">\r\n                    <div\r\n                        className=\"text-2xl font-bold tracking-tighter\"\r\n                        style={{ color: text }}\r\n                    >\r\n                        {brand.name}\r\n                    </div>\r\n                    <div className=\"flex gap-2 text-[10px] uppercase tracking-wider font-semibold opacity-50\" style={{ color: text }}>\r\n                        <span>Work</span>\r\n                        <span>About</span>\r\n                        <span>Contact</span>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"px-8 pb-8 flex-1 flex gap-8\">\r\n                    <div className=\"w-1/2 space-y-4\">\r\n                        <h1 className=\"text-3xl font-bold leading-[0.9]\" style={{ color: text }}>\r\n                            Design for <br /> <span style={{ color: primary }}>Tomorrow</span>.\r\n                        </h1>\r\n                        <div className=\"h-10 w-32 rounded-full flex items-center justify-center text-xs font-bold text-white transition-transform hover:scale-105\" style={{ backgroundColor: primary }}>\r\n                            Start Now\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"w-1/2 h-full rounded-lg relative overflow-hidden\" style={{ backgroundColor: primary }}>\r\n                        <div className=\"absolute inset-0 opacity-20 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-white to-transparent\"></div>\r\n                        <div className=\"absolute inset-0 m-auto w-20 h-20 opacity-50\">\r\n                            <LogoComposition brand={brand} overrideColors={{ primary: '#FFFFFF' }} />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\preview\\MockupGenerator.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'motion' is defined but never used.","line":7,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":7,"endColumn":16}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport React from 'react';\r\nimport { BrandIdentity } from '@/lib/data';\r\nimport { LogoComposition } from '@/components/logo-engine/LogoComposition';\r\nimport { cn } from '@/lib/utils';\r\nimport { motion } from 'framer-motion';\r\n\r\ninterface MockupProps {\r\n    brand: BrandIdentity;\r\n    className?: string;\r\n}\r\n\r\n// 1. BUSINESS CARD MOCKUP (Floating 3D Stack)\r\nexport const MockupBusinessCard = ({ brand, className }: MockupProps) => {\r\n    return (\r\n        <div className={cn(\"relative perspective-[1000px] w-full h-full flex items-center justify-center\", className)}>\r\n            {/* Shadow Card (Bottom) */}\r\n            <div\r\n                className=\"absolute w-[280px] h-[160px] bg-stone-900 rounded-lg shadow-2xl opacity-20\"\r\n                style={{ transform: 'rotateX(40deg) rotateZ(30deg) translateZ(-40px) translateX(20px) translateY(20px)' }}\r\n            />\r\n\r\n            {/* Main Card (Top) */}\r\n            <div\r\n                className=\"relative w-[280px] h-[160px] bg-white rounded-lg shadow-xl overflow-hidden border border-stone-100\"\r\n                style={{ transform: 'rotateX(40deg) rotateZ(30deg) translateZ(0px)' }}\r\n            >\r\n                {/* Pattern Background */}\r\n                <div\r\n                    className=\"absolute inset-0 opacity-10\"\r\n                    style={{ backgroundColor: brand.theme.tokens.light.primary }}\r\n                />\r\n\r\n                {/* Logo Center */}\r\n                <div className=\"absolute inset-0 flex items-center justify-center\">\r\n                    <div className=\"w-24\">\r\n                        <LogoComposition brand={brand} layout=\"default\" overrideColors={{ primary: brand.theme.tokens.light.primary }} />\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Corner details */}\r\n                <div className=\"absolute bottom-4 left-4 text-[8px] font-mono text-stone-500\">\r\n                    {brand.vibe.toUpperCase()} DESIGN\r\n                </div>\r\n                <div className=\"absolute bottom-4 right-4 text-[8px] font-mono text-stone-500\">\r\n                    EST. 2024\r\n                </div>\r\n            </div>\r\n\r\n            {/* Back Card (Decoration) */}\r\n            <div\r\n                className=\"absolute w-[280px] h-[160px] rounded-lg shadow-lg -z-10\"\r\n                style={{\r\n                    backgroundColor: brand.theme.tokens.light.primary,\r\n                    transform: 'rotateX(40deg) rotateZ(30deg) translateZ(-60px) translateX(-40px) translateY(-40px)'\r\n                }}\r\n            >\r\n                <div className=\"absolute inset-0 flex items-center justify-center opacity-30 mix-blend-multiply\">\r\n                    <LogoComposition brand={brand} layout=\"minimal_grid\" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n// 2. TOTE BAG MOCKUP (Fabric Texture)\r\nexport const MockupToteBag = ({ brand, className }: MockupProps) => {\r\n    return (\r\n        <div className={cn(\"relative w-full h-full flex items-center justify-center bg-stone-50\", className)}>\r\n            {/* The Bag Container - Scaled to fit */}\r\n            <div className=\"relative transform scale-75 md:scale-90 translateY(10%)\">\r\n\r\n                {/* Handles (Behind) */}\r\n                <div className=\"absolute -top-20 left-1/2 -translate-x-1/2 w-32 h-32 rounded-t-full border-[16px] border-[#D6D3D1] -z-10 shadow-sm\" />\r\n\r\n                {/* Bag Body */}\r\n                <div className=\"relative w-[280px] h-[360px] bg-[#EAE8E6] shadow-2xl rounded-b-3xl rounded-t-sm flex items-center justify-center overflow-hidden\">\r\n\r\n                    {/* 1. Base Fabric Texture (SVG Noise) */}\r\n                    <div\r\n                        className=\"absolute inset-0 opacity-[0.15] mix-blend-multiply pointer-events-none\"\r\n                        style={{\r\n                            backgroundImage: 'url(\"data:image/svg+xml,%3Csvg viewBox=\\'0 0 200 200\\' xmlns=\\'http://www.w3.org/2000/svg\\'%3E%3Cfilter id=\\'noiseFilter\\'%3E%3CfeTurbulence type=\\'fractalNoise\\' baseFrequency=\\'0.8\\' numOctaves=\\'3\\' stitchTiles=\\'stitch\\'/%3E%3C/filter%3E%3Crect width=\\'100%25\\' height=\\'100%25\\' filter=\\'url(%23noiseFilter)\\' opacity=\\'0.5\\'/%3E%3C/svg%3E\")',\r\n                        }}\r\n                    />\r\n\r\n                    {/* 2. Wrinkles / Folds (Gradients) */}\r\n                    <div className=\"absolute inset-0 bg-gradient-to-tr from-black/10 via-transparent to-transparent pointer-events-none\" />\r\n                    <div className=\"absolute -bottom-10 -right-10 w-40 h-40 bg-black/5 blur-2xl rounded-full pointer-events-none\" />\r\n                    <div className=\"absolute top-0 w-full h-8 bg-gradient-to-b from-black/5 to-transparent\" />\r\n\r\n                    {/* 3. Printed Logo (Multiply for Ink Effect) */}\r\n                    <div className=\"w-48 opacity-85 mix-blend-multiply filter blur-[0.5px] rotate-[0.5deg]\">\r\n                        <LogoComposition\r\n                            brand={{ ...brand, logoAssemblerLayout: 'stacked' }}\r\n                            layout=\"generative\"\r\n                            overrideColors={{ primary: '#1c1917' }} // Always dark ink on tote\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Handles (Front Overlap Detail - optional for stitching effect) */}\r\n                <div className=\"absolute -top-1 left-[74px] w-4 h-4 bg-[#D6D3D1] rounded-full shadow-sm\" />\r\n                <div className=\"absolute -top-1 right-[74px] w-4 h-4 bg-[#D6D3D1] rounded-full shadow-sm\" />\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n// 3. STOREFRONT SIGNAGE (Glass/Metal Effect)\r\nexport const MockupSignage = ({ brand, className }: MockupProps) => {\r\n    return (\r\n        <div className={cn(\"relative w-full h-full flex items-center justify-center overflow-hidden bg-stone-900\", className)}>\r\n            {/* Wall Texture */}\r\n            <div className=\"absolute inset-0 bg-neutral-900 bg-[radial-gradient(#262626_1px,transparent_1px)] [background-size:16px_16px]\" />\r\n\r\n            {/* Light Source */}\r\n            <div className=\"absolute top-0 w-full h-full bg-gradient-to-b from-white/10 to-transparent pointer-events-none\" />\r\n\r\n            {/* The Sign */}\r\n            <div className=\"relative z-10 p-8 rounded-full border border-white/20 bg-stone-900/80 backdrop-blur-md shadow-[0_0_50px_rgba(255,255,255,0.1)]\">\r\n                {/* Neon Glow Effect */}\r\n                <div\r\n                    className=\"absolute inset-0 rounded-full blur-[40px] opacity-40\"\r\n                    style={{ backgroundColor: brand.theme.tokens.light.primary }}\r\n                />\r\n\r\n                <div className=\"relative w-32 h-32 flex items-center justify-center\">\r\n                    {/* Glowing Logo */}\r\n                    <LogoComposition\r\n                        brand={{ ...brand, logoAssemblerLayout: 'icon_only' }}\r\n                        layout=\"generative\" // Just the symbol for signage usually\r\n                        overrideColors={{ primary: '#FFFFFF' }} // White neon\r\n                    />\r\n                </div>\r\n            </div>\r\n\r\n            {/* Mounting Brackets */}\r\n            <div className=\"absolute top-1/2 left-0 w-1/2 h-[2px] bg-stone-800 -z-10\" />\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\n// 4. SOCIAL MEDIA AVATAR (Circle Crop)\r\nexport const MockupSocial = ({ brand, className }: MockupProps) => {\r\n    return (\r\n        <div className={cn(\"relative w-full h-full flex items-center justify-center bg-white\", className)}>\r\n            <div className=\"relative w-32 h-32 rounded-full overflow-hidden border-4 border-white shadow-lg\">\r\n                <div className=\"absolute inset-0\" style={{ backgroundColor: brand.theme.tokens.light.primary }} />\r\n                <div className=\"absolute inset-0 flex items-center justify-center\">\r\n                    <div className=\"w-16 h-16 text-white\">\r\n                        <LogoComposition\r\n                            brand={{ ...brand, logoAssemblerLayout: 'icon_only' }}\r\n                            layout=\"generative\"\r\n                            overrideColors={{ primary: '#FFFFFF' }}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            {/* Fake Interface Elements */}\r\n            <div className=\"absolute bottom-12 right-12 w-6 h-6 bg-blue-500 rounded-full border-2 border-white flex items-center justify-center shadow-md\">\r\n                <svg className=\"w-3 h-3 text-white\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={3} d=\"M5 13l4 4L19 7\" /></svg>\r\n            </div>\r\n\r\n            <div className=\"absolute bottom-4 font-bold text-stone-800 text-sm\">@{brand.name.toLowerCase().replace(/\\s/g, '')}</div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\preview\\MockupIPhoneHome.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\preview\\MockupMerch.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\preview\\MockupSocial.tsx","messages":[{"ruleId":"react-hooks/static-components","severity":2,"message":"Error: Cannot create components during render\n\nComponents created during render will reset their state each time they are created. Declare components outside of render.\n\nF:\\work\\Glyph\\components\\preview\\MockupSocial.tsx:118:36\n  116 |     return (\n  117 |         <div className={cn(\"p-4 flex items-center justify-center bg-stone-50\", className)}>\n> 118 |             {variant === 'feed' ? <SocialPost /> : <ProfileHeader />}\n      |                                    ^^^^^^^^^^ This component is created during render\n  119 |         </div>\n  120 |     );\n  121 | };\n\nF:\\work\\Glyph\\components\\preview\\MockupSocial.tsx:19:24\n  17 |\n  18 |     // Social Post Component\n> 19 |     const SocialPost = () => (\n     |                        ^^^^^^^\n> 20 |         <div className=\"bg-white rounded-xl shadow-sm border border-stone-200 overflow-hidden max-w-sm w-full mx-auto\">\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 21 |             {/* Header */}\n     ΓÇª\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 72 |         </div>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 73 |     );\n     | ^^^^^^ The component is created during render here\n  74 |\n  75 |     // Profile Component (Simplified)\n  76 |     const ProfileHeader = () => (","line":118,"column":36,"nodeType":null,"endLine":118,"endColumn":46},{"ruleId":"react-hooks/static-components","severity":2,"message":"Error: Cannot create components during render\n\nComponents created during render will reset their state each time they are created. Declare components outside of render.\n\nF:\\work\\Glyph\\components\\preview\\MockupSocial.tsx:118:53\n  116 |     return (\n  117 |         <div className={cn(\"p-4 flex items-center justify-center bg-stone-50\", className)}>\n> 118 |             {variant === 'feed' ? <SocialPost /> : <ProfileHeader />}\n      |                                                     ^^^^^^^^^^^^^ This component is created during render\n  119 |         </div>\n  120 |     );\n  121 | };\n\nF:\\work\\Glyph\\components\\preview\\MockupSocial.tsx:76:27\n   74 |\n   75 |     // Profile Component (Simplified)\n>  76 |     const ProfileHeader = () => (\n      |                           ^^^^^^^\n>  77 |         <div className=\"bg-white p-6 rounded-xl shadow-sm border border-stone-100 max-w-sm w-full mx-auto\">\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n>  78 |             <div className=\"flex items-center justify-between mb-6\">\n      ΓÇª\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 113 |         </div>\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 114 |     );\n      | ^^^^^^ The component is created during render here\n  115 |\n  116 |     return (\n  117 |         <div className={cn(\"p-4 flex items-center justify-center bg-stone-50\", className)}>","line":118,"column":53,"nodeType":null,"endLine":118,"endColumn":66}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React from 'react';\r\nimport { BrandIdentity } from '@/lib/data';\r\nimport { LogoComposition } from '@/components/logo-engine/LogoComposition';\r\nimport { cn } from '@/lib/utils';\r\nimport { Heart, MessageCircle, Send, Bookmark, MoreHorizontal } from 'lucide-react';\r\n\r\ninterface MockupSocialProps {\r\n    brand: BrandIdentity;\r\n    className?: string;\r\n    variant?: 'feed' | 'profile';\r\n}\r\n\r\nexport const MockupSocial = ({ brand, className, variant = 'feed' }: MockupSocialProps) => {\r\n    const tokens = brand.theme.tokens.light;\r\n\r\n    // Social Post Component\r\n    const SocialPost = () => (\r\n        <div className=\"bg-white rounded-xl shadow-sm border border-stone-200 overflow-hidden max-w-sm w-full mx-auto\">\r\n            {/* Header */}\r\n            <div className=\"p-3 flex items-center justify-between\">\r\n                <div className=\"flex items-center gap-2\">\r\n                    <div className=\"w-8 h-8 rounded-full overflow-hidden border border-stone-100 bg-stone-50 md:p-1 relative\">\r\n                        <LogoComposition brand={brand} />\r\n                    </div>\r\n                    <div>\r\n                        <div className=\"text-xs font-bold text-stone-900\">{brand.name.toLowerCase().replace(/\\s+/g, '')}</div>\r\n                        <div className=\"text-[10px] text-stone-500\">Sponsored</div>\r\n                    </div>\r\n                </div>\r\n                <MoreHorizontal size={16} className=\"text-stone-400\" />\r\n            </div>\r\n\r\n            {/* Content - 1:1 Aspect Ratio Canvas */}\r\n            <div className=\"aspect-square w-full relative bg-stone-100 overflow-hidden flex items-center justify-center\">\r\n                <div className=\"absolute inset-0\" style={{ backgroundColor: tokens.bg }} />\r\n\r\n                {/* Visual Content Generative Art */}\r\n                <div className=\"relative z-10 w-full h-full p-8 flex flex-col items-center justify-center text-center\">\r\n                    <div className=\"w-1/2 h-1/2 relative mb-6\">\r\n                        <LogoComposition brand={brand} />\r\n                    </div>\r\n                    <h3 className={cn(\"text-2xl font-bold mb-2\", brand.font.heading)} style={{ color: tokens.text }}>\r\n                        Redefining {brand.vibe}.\r\n                    </h3>\r\n                    <button\r\n                        className=\"px-4 py-2 rounded-full text-xs font-bold mt-2\"\r\n                        style={{ backgroundColor: tokens.primary, color: '#ffffff' }}\r\n                    >\r\n                        Shop Now\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Actions */}\r\n            <div className=\"p-3\">\r\n                <div className=\"flex justify-between mb-3\">\r\n                    <div className=\"flex gap-4\">\r\n                        <Heart size={20} className=\"text-stone-800\" />\r\n                        <MessageCircle size={20} className=\"text-stone-800\" />\r\n                        <Send size={20} className=\"text-stone-800\" />\r\n                    </div>\r\n                    <Bookmark size={20} className=\"text-stone-800\" />\r\n                </div>\r\n                <div className=\"text-xs font-semibold text-stone-900 mb-1\">1,204 likes</div>\r\n                <div className=\"text-xs text-stone-800\">\r\n                    <span className=\"font-bold mr-1\">{brand.name.toLowerCase().replace(/\\s+/g, '')}</span>\r\n                    Introducing the new collection. Essential items for the modern lifestyle. #design #{brand.vibe}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    // Profile Component (Simplified)\r\n    const ProfileHeader = () => (\r\n        <div className=\"bg-white p-6 rounded-xl shadow-sm border border-stone-100 max-w-sm w-full mx-auto\">\r\n            <div className=\"flex items-center justify-between mb-6\">\r\n                <div className=\"w-20 h-20 rounded-full p-0.5 bg-gradient-to-tr from-amber-400 to-fuchsia-600\">\r\n                    <div className=\"w-full h-full rounded-full border-2 border-white bg-white overflow-hidden p-1 relative\">\r\n                        <LogoComposition brand={brand} />\r\n                    </div>\r\n                </div>\r\n                <div className=\"flex gap-4 text-center\">\r\n                    <div>\r\n                        <div className=\"font-bold text-lg text-stone-900\">124</div>\r\n                        <div className=\"text-xs text-stone-500\">Posts</div>\r\n                    </div>\r\n                    <div>\r\n                        <div className=\"font-bold text-lg text-stone-900\">14.2k</div>\r\n                        <div className=\"text-xs text-stone-500\">Followers</div>\r\n                    </div>\r\n                    <div>\r\n                        <div className=\"font-bold text-lg text-stone-900\">342</div>\r\n                        <div className=\"text-xs text-stone-500\">Following</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"mb-4\">\r\n                <div className=\"font-bold text-sm text-stone-900\">{brand.name}</div>\r\n                <div className=\"text-xs text-stone-600 font-medium\">Product/Service</div>\r\n                <div className=\"text-xs text-stone-500 mt-1\">\r\n                    {brand.strategy?.mission || `The official home of ${brand.name}. Design for the future.`} <br />\r\n                    <span className=\"text-blue-900 font-medium\">link.bio/{brand.name.toLowerCase().replace(/\\s+/g, '')}</span>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"flex gap-2\">\r\n                <button className=\"flex-1 bg-stone-900 text-white text-xs font-bold py-1.5 rounded-lg\">Follow</button>\r\n                <button className=\"flex-1 bg-stone-100 text-stone-900 text-xs font-bold py-1.5 rounded-lg\">Message</button>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <div className={cn(\"p-4 flex items-center justify-center bg-stone-50\", className)}>\r\n            {variant === 'feed' ? <SocialPost /> : <ProfileHeader />}\r\n        </div>\r\n    );\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\preview\\SafariBrowserMockup.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\preview\\SocialMediaKit.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Loader2' is defined but never used.","line":7,"column":20,"nodeType":null,"messageId":"unusedVar","endLine":7,"endColumn":27},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'isExporting' is assigned a value but never used.","line":16,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":16,"endColumn":23},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'handleDownloadAll' is assigned a value but never used.","line":18,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":18,"endColumn":28},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":36,"column":22,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":36,"endColumn":25,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1426,1429],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1426,1429],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":64,"column":64,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":64,"endColumn":67,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2785,2788],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2785,2788],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport React, { useRef, useState } from 'react';\r\nimport { BrandIdentity } from '@/lib/data';\r\nimport { LogoComposition } from '@/components/logo-engine/LogoComposition';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Download, Loader2 } from 'lucide-react';\r\nimport html2canvas from 'html2canvas';\r\n\r\ninterface SocialMediaKitProps {\r\n    brand: BrandIdentity;\r\n}\r\n\r\nexport function SocialMediaKit({ brand }: SocialMediaKitProps) {\r\n    const assetsRef = useRef<HTMLDivElement>(null);\r\n    const [isExporting, setIsExporting] = useState(false);\r\n\r\n    const handleDownloadAll = async () => {\r\n        if (!assetsRef.current) return;\r\n        setIsExporting(true);\r\n\r\n        try {\r\n            // Find all asset containers\r\n            const nodes = assetsRef.current.querySelectorAll('.asset-container');\r\n            const files: { name: string; blob: Blob }[] = [];\r\n\r\n            // We use simple promise.all mapping for speed, but sequential might be safer for memory\r\n            for (let i = 0; i < nodes.length; i++) {\r\n                const node = nodes[i] as HTMLElement;\r\n                const name = node.getAttribute('data-name') || `asset-${i}`;\r\n\r\n                const canvas = await html2canvas(node, {\r\n                    scale: 2, // 2x retina\r\n                    useCORS: true,\r\n                    backgroundColor: null, // Transparent if set in node\r\n                } as any);\r\n\r\n                const blob = await new Promise<Blob | null>(resolve => canvas.toBlob(resolve, 'image/png'));\r\n                if (blob) files.push({ name, blob });\r\n            }\r\n\r\n            // In a real implementation we would Zip these. \r\n            // For now, let's just download the first few or use JSZip if we had it imported here.\r\n            // Since we don't have JSZip imported in this file (it's in ExportBrandKit),\r\n            // I'll stick to downloading individually or move this logic to the main ExportBrandKit later.\r\n            // For this component, let's just do a \"Download Individual\" on click for now, \r\n            // OR simply render the UI for the main Exporter to capture.\r\n\r\n            // To be safe and compliant with the \"Unified Menu\" goal, \r\n            // this component should mostly be for *Previewing* and the *Export Menu* will handle the heavy lifting.\r\n            // But let's add a simple \"Download This Asset\" button on each preview.\r\n\r\n        } catch (e) {\r\n            console.error(\"Export failed\", e);\r\n        } finally {\r\n            setIsExporting(false);\r\n        }\r\n    };\r\n\r\n    const downloadAsset = async (id: string, fileName: string) => {\r\n        const node = document.getElementById(id);\r\n        if (!node) return;\r\n\r\n        const canvas = await html2canvas(node, { scale: 2 } as any);\r\n        const link = document.createElement('a');\r\n        link.download = `${fileName}.png`;\r\n        link.href = canvas.toDataURL('image/png');\r\n        link.click();\r\n    };\r\n\r\n    return (\r\n        <div className=\"space-y-12\">\r\n            <div className=\"flex justify-between items-center bg-stone-50 p-6 rounded-xl border border-stone-200\">\r\n                <div>\r\n                    <h2 className=\"text-xl font-bold text-stone-900\">Social Media Assets</h2>\r\n                    <p className=\"text-sm text-stone-500\">\r\n                        Profile pictures and banners optimized for Twitter (X), LinkedIn, and Instagram.\r\n                    </p>\r\n                </div>\r\n            </div>\r\n\r\n            <div ref={assetsRef} className=\"space-y-12\">\r\n\r\n                {/* 1. PROFILE PICTURES (400x400) */}\r\n                <section className=\"space-y-6\">\r\n                    <h3 className=\"text-sm font-bold uppercase tracking-widest text-stone-500\">Profile Pictures (400x400)</h3>\r\n                    <div className=\"grid grid-cols-2 md:grid-cols-4 gap-8\">\r\n                        {/* Light */}\r\n                        <div className=\"space-y-3\">\r\n                            <div id=\"sm-profile-light\" className=\"asset-container w-40 h-40 rounded-full border border-stone-200 bg-white flex items-center justify-center relative overflow-hidden group\">\r\n                                <div className=\"w-24 h-24\">\r\n                                    <LogoComposition brand={brand} layout=\"default\" />\r\n                                </div>\r\n                                <div className=\"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 flex items-center justify-center transition-opacity cursor-pointer\" onClick={() => downloadAsset('sm-profile-light', 'profile-light')}>\r\n                                    <Download className=\"text-white\" size={20} />\r\n                                </div>\r\n                            </div>\r\n                            <p className=\"text-xs text-center text-stone-400 font-mono\">White BG</p>\r\n                        </div>\r\n\r\n                        {/* Dark */}\r\n                        <div className=\"space-y-3\">\r\n                            <div id=\"sm-profile-dark\" className=\"asset-container w-40 h-40 rounded-full border border-stone-800 bg-black flex items-center justify-center relative overflow-hidden group\">\r\n                                <div className=\"w-24 h-24\">\r\n                                    <LogoComposition brand={brand} layout=\"default\" overrideColors={{ primary: '#FFFFFF' }} />\r\n                                </div>\r\n                                <div className=\"absolute inset-0 bg-white/20 opacity-0 group-hover:opacity-100 flex items-center justify-center transition-opacity cursor-pointer\" onClick={() => downloadAsset('sm-profile-dark', 'profile-dark')}>\r\n                                    <Download className=\"text-white\" size={20} />\r\n                                </div>\r\n                            </div>\r\n                            <p className=\"text-xs text-center text-stone-400 font-mono\">Black BG</p>\r\n                        </div>\r\n\r\n                        {/* Brand Primary */}\r\n                        <div className=\"space-y-3\">\r\n                            <div id=\"sm-profile-brand\" className=\"asset-container w-40 h-40 rounded-full border border-stone-200 flex items-center justify-center relative overflow-hidden group\" style={{ backgroundColor: brand.theme.tokens.light.primary }}>\r\n                                <div className=\"w-24 h-24\">\r\n                                    <LogoComposition brand={brand} layout=\"default\" overrideColors={{ primary: '#FFFFFF' }} />\r\n                                </div>\r\n                                <div className=\"absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 flex items-center justify-center transition-opacity cursor-pointer\" onClick={() => downloadAsset('sm-profile-brand', 'profile-brand')}>\r\n                                    <Download className=\"text-white\" size={20} />\r\n                                </div>\r\n                            </div>\r\n                            <p className=\"text-xs text-center text-stone-400 font-mono\">Brand BG</p>\r\n                        </div>\r\n\r\n                        {/* Pattern */}\r\n                        <div className=\"space-y-3\">\r\n                            <div id=\"sm-profile-pattern\" className=\"asset-container w-40 h-40 rounded-full border border-stone-200 flex items-center justify-center relative overflow-hidden group bg-stone-100\">\r\n                                <div className=\"absolute inset-0 opacity-10\" style={{ backgroundImage: 'radial-gradient(circle at center, black 1px, transparent 1px)', backgroundSize: '10px 10px' }} />\r\n                                <div className=\"w-24 h-24 relative z-10\">\r\n                                    <LogoComposition brand={brand} layout=\"default\" />\r\n                                </div>\r\n                                <div className=\"absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 flex items-center justify-center transition-opacity cursor-pointer\" onClick={() => downloadAsset('sm-profile-pattern', 'profile-pattern')}>\r\n                                    <Download className=\"text-white\" size={20} />\r\n                                </div>\r\n                            </div>\r\n                            <p className=\"text-xs text-center text-stone-400 font-mono\">Pattern BG</p>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n\r\n                {/* 2. TWITTER HEADER (1500x500) - Scaled down for preview */}\r\n                <section className=\"space-y-6\">\r\n                    <h3 className=\"text-sm font-bold uppercase tracking-widest text-stone-500\">Twitter / X Header (1500x500)</h3>\r\n                    <div className=\"w-full aspect-[3/1] max-w-2xl bg-stone-900 rounded-lg relative overflow-hidden group\" id=\"sm-banner-twitter\">\r\n                        <div className=\"absolute inset-0\" style={{ backgroundColor: brand.theme.tokens.dark.bg }} />\r\n\r\n                        {/* Abstract Shapes */}\r\n                        <div className=\"absolute -right-20 -top-20 w-96 h-96 rounded-full blur-3xl opacity-20\" style={{ backgroundColor: brand.theme.tokens.dark.primary }} />\r\n                        <div className=\"absolute -left-20 -bottom-20 w-96 h-96 rounded-full blur-3xl opacity-10\" style={{ backgroundColor: brand.theme.tokens.dark.primary }} />\r\n\r\n                        <div className=\"absolute inset-0 flex items-center justify-center flex-col gap-4\">\r\n                            <div className=\"w-24 h-24\">\r\n                                <LogoComposition brand={brand} overrideColors={{ primary: '#FFFFFF' }} />\r\n                            </div>\r\n                            <div className=\"text-center\">\r\n                                <h1 className=\"text-3xl font-bold text-white tracking-tight\">{brand.name}</h1>\r\n                                <p className=\"text-white/60 font-mono text-sm tracking-widest uppercase mt-2\">{brand.strategy?.tagline}</p>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 flex items-center justify-center transition-opacity cursor-pointer\" onClick={() => downloadAsset('sm-banner-twitter', 'banner-twitter')}>\r\n                            <Button variant=\"secondary\" className=\"gap-2\">\r\n                                <Download size={16} /> Download PNG\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n\r\n                {/* 3. LINKEDIN COVER (1584x396) */}\r\n                <section className=\"space-y-6\">\r\n                    <h3 className=\"text-sm font-bold uppercase tracking-widest text-stone-500\">LinkedIn Cover (1584x396)</h3>\r\n                    <div className=\"w-full aspect-[4/1] max-w-2xl bg-white border border-stone-200 rounded-lg relative overflow-hidden group\" id=\"sm-banner-linkedin\">\r\n                        <div className=\"absolute inset-0 bg-stone-50\" />\r\n                        <div className=\"absolute inset-0 opacity-[0.05]\" style={{ backgroundImage: 'linear-gradient(45deg, #000 25%, transparent 25%, transparent 75%, #000 75%, #000), linear-gradient(45deg, #000 25%, transparent 25%, transparent 75%, #000 75%, #000)', backgroundSize: '20px 20px', backgroundPosition: '0 0, 10px 10px' }} />\r\n\r\n                        <div className=\"absolute inset-0 flex items-center justify-between px-16\">\r\n                            <div className=\"flex flex-col gap-2\">\r\n                                <h1 className=\"text-4xl font-black text-stone-900 tracking-tighter uppercase\" style={{ color: brand.theme.tokens.light.primary }}>\r\n                                    {brand.name}\r\n                                </h1>\r\n                                <div className=\"h-1 w-20 bg-stone-900\" />\r\n                            </div>\r\n                            <div className=\"w-20 opacity-20\">\r\n                                <LogoComposition brand={brand} />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"absolute inset-0 bg-stone-900/50 opacity-0 group-hover:opacity-100 flex items-center justify-center transition-opacity cursor-pointer\" onClick={() => downloadAsset('sm-banner-linkedin', 'banner-linkedin')}>\r\n                            <Button variant=\"secondary\" className=\"gap-2\">\r\n                                <Download size={16} /> Download PNG\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\ui\\ColorPicker.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'onClose' is defined but never used.","line":117,"column":48,"nodeType":null,"messageId":"unusedVar","endLine":117,"endColumn":55},{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nF:\\work\\Glyph\\components\\ui\\ColorPicker.tsx:129:9\n  127 |         const newHsv = hexToHsv(value);\n  128 |         // Only update if the values actually changed to avoid infinite loops\n> 129 |         setHsv(prev => {\n      |         ^^^^^^ Avoid calling setState() directly within an effect\n  130 |             if (prev.h === newHsv.h && prev.s === newHsv.s && prev.v === newHsv.v) {\n  131 |                 return prev;\n  132 |             }","line":129,"column":9,"nodeType":null,"endLine":129,"endColumn":15},{"ruleId":"react-hooks/preserve-manual-memoization","severity":2,"message":"Compilation Skipped: Existing memoization could not be preserved\n\nReact Compiler has skipped optimizing this component because the existing manual memoization could not be preserved. This value was memoized in source but not in compilation output.\n\nF:\\work\\Glyph\\components\\ui\\ColorPicker.tsx:153:44\n  151 |     };\n  152 |\n> 153 |     const updateBoxFromEvent = useCallback((e: MouseEvent | React.MouseEvent) => {\n      |                                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 154 |         if (!boxRef.current) return;\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 155 |         const rect = boxRef.current.getBoundingClientRect();\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 156 |         const x = Math.max(0, Math.min(1, (e.clientX - rect.left) / rect.width));\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 157 |         const y = Math.max(0, Math.min(1, (e.clientY - rect.top) / rect.height));\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 158 |\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 159 |         const newHsv = { ...hsv, s: x * 100, v: (1 - y) * 100 };\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 160 |         setHsv(newHsv);\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 161 |         handleColorChange(newHsv);\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 162 |     }, [hsv, handleColorChange]);\n      | ^^^^^^ Could not preserve existing memoization\n  163 |\n  164 |     const updateHueFromEvent = useCallback((e: MouseEvent | React.MouseEvent) => {\n  165 |         if (!hueRef.current) return;","line":153,"column":44,"nodeType":null,"endLine":162,"endColumn":6},{"ruleId":"react-hooks/preserve-manual-memoization","severity":2,"message":"Compilation Skipped: Existing memoization could not be preserved\n\nReact Compiler has skipped optimizing this component because the existing manual memoization could not be preserved. This value was memoized in source but not in compilation output.\n\nF:\\work\\Glyph\\components\\ui\\ColorPicker.tsx:164:44\n  162 |     }, [hsv, handleColorChange]);\n  163 |\n> 164 |     const updateHueFromEvent = useCallback((e: MouseEvent | React.MouseEvent) => {\n      |                                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 165 |         if (!hueRef.current) return;\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 166 |         const rect = hueRef.current.getBoundingClientRect();\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 167 |         const x = Math.max(0, Math.min(1, (e.clientX - rect.left) / rect.width));\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 168 |\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 169 |         const newHsv = { ...hsv, h: x * 360 };\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 170 |         setHsv(newHsv);\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 171 |         handleColorChange(newHsv);\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 172 |     }, [hsv, handleColorChange]);\n      | ^^^^^^ Could not preserve existing memoization\n  173 |\n  174 |     useEffect(() => {\n  175 |         const handleMouseMove = (e: MouseEvent) => {","line":164,"column":44,"nodeType":null,"endLine":172,"endColumn":6}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState, useRef, useCallback, useEffect } from 'react';\r\nimport { cn } from '@/lib/utils';\r\n\r\ninterface ColorPickerProps {\r\n    value: string; // Current hex color\r\n    onChange: (color: { light: string; dark: string }) => void;\r\n    onClose?: () => void;\r\n    className?: string;\r\n}\r\n\r\n// Preset colors for quick selection\r\nconst PRESET_COLORS = [\r\n    '#4338CA', '#0D9488', '#DC2626', '#EA580C',\r\n    '#16A34A', '#7C3AED', '#0284C7', '#DB2777',\r\n    '#CA8A04', '#1D4ED8', '#000000', '#FFFFFF',\r\n];\r\n\r\n// Color conversion utilities\r\nfunction hexToHsl(hex: string): { h: number; s: number; l: number } {\r\n    const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\r\n    if (!result) return { h: 0, s: 100, l: 50 };\r\n\r\n    const r = parseInt(result[1], 16) / 255;\r\n    const g = parseInt(result[2], 16) / 255;\r\n    const b = parseInt(result[3], 16) / 255;\r\n\r\n    const max = Math.max(r, g, b);\r\n    const min = Math.min(r, g, b);\r\n    let h = 0, s = 0;\r\n    const l = (max + min) / 2;\r\n\r\n    if (max !== min) {\r\n        const d = max - min;\r\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\r\n        switch (max) {\r\n            case r: h = ((g - b) / d + (g < b ? 6 : 0)) / 6; break;\r\n            case g: h = ((b - r) / d + 2) / 6; break;\r\n            case b: h = ((r - g) / d + 4) / 6; break;\r\n        }\r\n    }\r\n\r\n    return { h: h * 360, s: s * 100, l: l * 100 };\r\n}\r\n\r\nfunction hslToHex(h: number, s: number, l: number): string {\r\n    s /= 100;\r\n    l /= 100;\r\n    const a = s * Math.min(l, 1 - l);\r\n    const f = (n: number) => {\r\n        const k = (n + h / 30) % 12;\r\n        const color = l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);\r\n        return Math.round(255 * color).toString(16).padStart(2, '0');\r\n    };\r\n    return `#${f(0)}${f(8)}${f(4)}`;\r\n}\r\n\r\nfunction hsvToHex(h: number, s: number, v: number): string {\r\n    s /= 100;\r\n    v /= 100;\r\n\r\n    const i = Math.floor(h / 60);\r\n    const f = h / 60 - i;\r\n    const p = v * (1 - s);\r\n    const q = v * (1 - f * s);\r\n    const t = v * (1 - (1 - f) * s);\r\n\r\n    let r = 0, g = 0, b = 0;\r\n    switch (i % 6) {\r\n        case 0: r = v; g = t; b = p; break;\r\n        case 1: r = q; g = v; b = p; break;\r\n        case 2: r = p; g = v; b = t; break;\r\n        case 3: r = p; g = q; b = v; break;\r\n        case 4: r = t; g = p; b = v; break;\r\n        case 5: r = v; g = p; b = q; break;\r\n    }\r\n\r\n    return '#' + [r, g, b].map(x => Math.round(x * 255).toString(16).padStart(2, '0')).join('');\r\n}\r\n\r\nfunction hexToHsv(hex: string): { h: number; s: number; v: number } {\r\n    const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\r\n    if (!result) return { h: 0, s: 100, v: 100 };\r\n\r\n    const r = parseInt(result[1], 16) / 255;\r\n    const g = parseInt(result[2], 16) / 255;\r\n    const b = parseInt(result[3], 16) / 255;\r\n\r\n    const max = Math.max(r, g, b);\r\n    const min = Math.min(r, g, b);\r\n    const d = max - min;\r\n\r\n    let h = 0;\r\n    const s = max === 0 ? 0 : (d / max) * 100;\r\n    const v = max * 100;\r\n\r\n    if (max !== min) {\r\n        switch (max) {\r\n            case r: h = ((g - b) / d + (g < b ? 6 : 0)) * 60; break;\r\n            case g: h = ((b - r) / d + 2) * 60; break;\r\n            case b: h = ((r - g) / d + 4) * 60; break;\r\n        }\r\n    }\r\n\r\n    return { h, s, v };\r\n}\r\n\r\n// Generate a dark variant of the color (for dark mode)\r\nfunction generateDarkVariant(hex: string): string {\r\n    const { h, s, l } = hexToHsl(hex);\r\n    // For dark mode, lighten the color slightly\r\n    const newL = Math.min(l + 15, 70);\r\n    return hslToHex(h, s, newL);\r\n}\r\n\r\nexport function ColorPicker({ value, onChange, onClose, className }: ColorPickerProps) {\r\n    const [hsv, setHsv] = useState(() => hexToHsv(value));\r\n    const [isDraggingBox, setIsDraggingBox] = useState(false);\r\n    const [isDraggingHue, setIsDraggingHue] = useState(false);\r\n\r\n    const boxRef = useRef<HTMLDivElement>(null);\r\n    const hueRef = useRef<HTMLDivElement>(null);\r\n\r\n    // Update HSV when value prop changes (only if it differs from current)\r\n    useEffect(() => {\r\n        const newHsv = hexToHsv(value);\r\n        // Only update if the values actually changed to avoid infinite loops\r\n        setHsv(prev => {\r\n            if (prev.h === newHsv.h && prev.s === newHsv.s && prev.v === newHsv.v) {\r\n                return prev;\r\n            }\r\n            return newHsv;\r\n        });\r\n    }, [value]);\r\n\r\n    const handleColorChange = useCallback((newHsv: { h: number; s: number; v: number }) => {\r\n        const hex = hsvToHex(newHsv.h, newHsv.s, newHsv.v);\r\n        const darkHex = generateDarkVariant(hex);\r\n        onChange({ light: hex, dark: darkHex });\r\n    }, [onChange]);\r\n\r\n    const handleBoxMouseDown = (e: React.MouseEvent) => {\r\n        setIsDraggingBox(true);\r\n        updateBoxFromEvent(e);\r\n    };\r\n\r\n    const handleHueMouseDown = (e: React.MouseEvent) => {\r\n        setIsDraggingHue(true);\r\n        updateHueFromEvent(e);\r\n    };\r\n\r\n    const updateBoxFromEvent = useCallback((e: MouseEvent | React.MouseEvent) => {\r\n        if (!boxRef.current) return;\r\n        const rect = boxRef.current.getBoundingClientRect();\r\n        const x = Math.max(0, Math.min(1, (e.clientX - rect.left) / rect.width));\r\n        const y = Math.max(0, Math.min(1, (e.clientY - rect.top) / rect.height));\r\n\r\n        const newHsv = { ...hsv, s: x * 100, v: (1 - y) * 100 };\r\n        setHsv(newHsv);\r\n        handleColorChange(newHsv);\r\n    }, [hsv, handleColorChange]);\r\n\r\n    const updateHueFromEvent = useCallback((e: MouseEvent | React.MouseEvent) => {\r\n        if (!hueRef.current) return;\r\n        const rect = hueRef.current.getBoundingClientRect();\r\n        const x = Math.max(0, Math.min(1, (e.clientX - rect.left) / rect.width));\r\n\r\n        const newHsv = { ...hsv, h: x * 360 };\r\n        setHsv(newHsv);\r\n        handleColorChange(newHsv);\r\n    }, [hsv, handleColorChange]);\r\n\r\n    useEffect(() => {\r\n        const handleMouseMove = (e: MouseEvent) => {\r\n            if (isDraggingBox) updateBoxFromEvent(e);\r\n            if (isDraggingHue) updateHueFromEvent(e);\r\n        };\r\n\r\n        const handleMouseUp = () => {\r\n            setIsDraggingBox(false);\r\n            setIsDraggingHue(false);\r\n        };\r\n\r\n        if (isDraggingBox || isDraggingHue) {\r\n            document.addEventListener('mousemove', handleMouseMove);\r\n            document.addEventListener('mouseup', handleMouseUp);\r\n        }\r\n\r\n        return () => {\r\n            document.removeEventListener('mousemove', handleMouseMove);\r\n            document.removeEventListener('mouseup', handleMouseUp);\r\n        };\r\n    }, [isDraggingBox, isDraggingHue, updateBoxFromEvent, updateHueFromEvent]);\r\n\r\n    const handlePresetClick = (hex: string) => {\r\n        const newHsv = hexToHsv(hex);\r\n        setHsv(newHsv);\r\n        const darkHex = generateDarkVariant(hex);\r\n        onChange({ light: hex, dark: darkHex });\r\n    };\r\n\r\n    const currentHex = hsvToHex(hsv.h, hsv.s, hsv.v);\r\n    const pureHue = hsvToHex(hsv.h, 100, 100);\r\n\r\n    return (\r\n        <div className={cn(\r\n            \"p-3 w-full\",\r\n            className\r\n        )}>\r\n            {/* Saturation/Brightness Box */}\r\n            <div\r\n                ref={boxRef}\r\n                className=\"relative w-full h-32 rounded-lg cursor-crosshair overflow-hidden mb-3\"\r\n                style={{\r\n                    background: `linear-gradient(to bottom, transparent, #000), linear-gradient(to right, #fff, ${pureHue})`\r\n                }}\r\n                onMouseDown={handleBoxMouseDown}\r\n            >\r\n                {/* Picker Circle */}\r\n                <div\r\n                    className=\"absolute w-4 h-4 rounded-full border-2 border-white shadow-sm pointer-events-none transform -translate-x-1/2 -translate-y-1/2\"\r\n                    style={{\r\n                        left: `${hsv.s}%`,\r\n                        top: `${100 - hsv.v}%`,\r\n                        backgroundColor: currentHex\r\n                    }}\r\n                />\r\n            </div>\r\n\r\n            {/* Hue Slider */}\r\n            <div\r\n                ref={hueRef}\r\n                className=\"relative w-full h-3 rounded-full cursor-pointer mb-3 overflow-hidden\"\r\n                style={{\r\n                    background: 'linear-gradient(to right, #ff0000, #ffff00, #00ff00, #00ffff, #0000ff, #ff00ff, #ff0000)'\r\n                }}\r\n                onMouseDown={handleHueMouseDown}\r\n            >\r\n                {/* Hue Picker Circle */}\r\n                <div\r\n                    className=\"absolute top-1/2 w-4 h-4 rounded-full border-2 border-white shadow-sm pointer-events-none transform -translate-x-1/2 -translate-y-1/2\"\r\n                    style={{\r\n                        left: `${(hsv.h / 360) * 100}%`,\r\n                        backgroundColor: pureHue\r\n                    }}\r\n                />\r\n            </div>\r\n\r\n            {/* Current Color Preview & Hex */}\r\n            <div className=\"flex items-center gap-2 mb-3 p-1.5 bg-secondary/20 rounded-lg\">\r\n                <div\r\n                    className=\"w-8 h-8 rounded-md border border-white/10\"\r\n                    style={{ backgroundColor: currentHex }}\r\n                />\r\n                <div className=\"flex-1 min-w-0\">\r\n                    <div className=\"text-[10px] font-mono text-muted-foreground uppercase tracking-wider\">Hex</div>\r\n                    <div className=\"text-xs font-mono font-medium truncate\">{currentHex.toUpperCase()}</div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Preset Colors Grid */}\r\n            <div className=\"space-y-1.5\">\r\n                <div className=\"text-[10px] font-mono text-muted-foreground uppercase tracking-widest\">Presets</div>\r\n                <div className=\"grid grid-cols-6 gap-1.5\">\r\n                    {PRESET_COLORS.map((hex) => (\r\n                        <button\r\n                            key={hex}\r\n                            onClick={() => handlePresetClick(hex)}\r\n                            className={cn(\r\n                                \"w-6 h-6 rounded-md border transition-all hover:scale-110\",\r\n                                currentHex.toLowerCase() === hex.toLowerCase()\r\n                                    ? \"border-primary ring-1 ring-primary\"\r\n                                    : \"border-transparent hover:border-white/20\"\r\n                            )}\r\n                            style={{ backgroundColor: hex }}\r\n                        />\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ColorPicker;\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\ui\\ProBadge.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\ui\\ProGate.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\ui\\button.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'asChild' is assigned a value but never used.","line":38,"column":34,"nodeType":null,"messageId":"unusedVar","endLine":38,"endColumn":41}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as React from \"react\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst buttonVariants = cva(\r\n    \"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\",\r\n    {\r\n        variants: {\r\n            variant: {\r\n                default: \"bg-slate-900 text-slate-50 hover:bg-slate-900/90\",\r\n                destructive: \"bg-red-500 text-slate-50 hover:bg-red-500/90\",\r\n                outline: \"border border-slate-200 bg-white hover:bg-slate-100 hover:text-slate-900\",\r\n                secondary: \"bg-slate-100 text-slate-900 hover:bg-slate-100/80\",\r\n                ghost: \"hover:bg-slate-100 hover:text-slate-900\",\r\n                link: \"text-slate-900 underline-offset-4 hover:underline\",\r\n            },\r\n            size: {\r\n                default: \"h-10 px-4 py-2\",\r\n                sm: \"h-9 rounded-md px-3\",\r\n                lg: \"h-11 rounded-md px-8\",\r\n                icon: \"h-10 w-10\",\r\n            },\r\n        },\r\n        defaultVariants: {\r\n            variant: \"default\",\r\n            size: \"default\",\r\n        },\r\n    }\r\n)\r\n\r\nexport interface ButtonProps\r\n    extends React.ButtonHTMLAttributes<HTMLButtonElement>,\r\n    VariantProps<typeof buttonVariants> {\r\n    asChild?: boolean\r\n}\r\n\r\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\r\n    ({ className, variant, size, asChild = false, ...props }, ref) => {\r\n        return (\r\n            <button\r\n                className={cn(buttonVariants({ variant, size, className }))}\r\n                ref={ref}\r\n                {...props}\r\n            />\r\n        )\r\n    }\r\n)\r\nButton.displayName = \"Button\"\r\n\r\nexport { Button, buttonVariants }\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\ui\\dropdown-menu.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\components\\ui\\slider.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\eslint.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\hooks\\use-brand-generator.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ICONS' is defined but never used.","line":9,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":9,"endColumn":15},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":103,"column":60,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":103,"endColumn":63,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3865,3868],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3865,3868],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":249,"column":43,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":249,"endColumn":46,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[10357,10360],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[10357,10360],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState } from 'react';\r\nimport { BrandIdentity } from '@/lib/data';\r\nimport { THEMES } from '@/lib/themes';\r\nimport { SHAPES } from '@/lib/shapes';\r\nimport { fontPairings } from '@/lib/fonts';\r\nimport { suggestLogoComponentsWithAI_V2 } from '@/lib/brand-generator';\r\nimport { ICONS, getIconsForVibe, getRandomIcon } from '@/lib/icons';\r\nimport { generateBrandStrategy } from '@/lib/strategy-engine';\r\nimport { incrementGenerationCount } from '@/app/actions/stats';\r\nimport {\r\n    generateLogos,\r\n    LogoCategory,\r\n    LogoAesthetic,\r\n    LogoAlgorithm,\r\n    GeneratedLogo,\r\n    ALL_ALGORITHMS,\r\n    SYMBOL_ALGORITHMS,\r\n    WORDMARK_ALGORITHMS,\r\n} from '@/components/logo-engine';\r\n\r\n// Map vibe to LogoCategory for logo engine\r\nconst vibeToCategory: Record<string, LogoCategory> = {\r\n    'tech': 'technology',\r\n    'minimalist': 'technology',\r\n    'bold': 'creative',\r\n    'nature': 'sustainability',\r\n    'luxury': 'finance',\r\n    'modern': 'technology',\r\n    'playful': 'creative',\r\n    'professional': 'finance',\r\n    'creative': 'creative',\r\n    'corporate': 'finance',\r\n    'startup': 'technology',\r\n    'health': 'healthcare',\r\n    'education': 'education',\r\n    'ecommerce': 'ecommerce',\r\n};\r\n\r\n// Map vibe to LogoAesthetic\r\nconst vibeToAesthetic: Record<string, LogoAesthetic> = {\r\n    'tech': 'tech-minimal',\r\n    'minimalist': 'tech-minimal',\r\n    'bold': 'bold-geometric',\r\n    'nature': 'friendly-rounded',\r\n    'luxury': 'elegant-refined',\r\n    'modern': 'tech-minimal',\r\n    'playful': 'friendly-rounded',\r\n    'professional': 'elegant-refined',\r\n    'creative': 'bold-geometric',\r\n    'corporate': 'elegant-refined',\r\n};\r\n\r\n\r\n\r\nexport function useBrandGenerator() {\r\n    const [brand, setBrand] = useState<BrandIdentity | null>(null);\r\n    const [isGenerating, setIsGenerating] = useState(false);\r\n    const [history, setHistory] = useState<BrandIdentity[]>([]);\r\n    const [currentIndex, setCurrentIndex] = useState(-1);\r\n    const [usedIcons, setUsedIcons] = useState<string[]>([]);\r\n\r\n    const generateBrand = async (\r\n        vibe: string,\r\n        name: string = 'Glyph Generated',\r\n        options: {\r\n            color?: string;\r\n            shape?: string;\r\n            archetype?: 'symbol' | 'wordmark' | 'both';\r\n            gradient?: { colors: string[]; angle: number } | null;\r\n            prompt?: string;\r\n            surpriseMe?: boolean\r\n        } = {}\r\n    ) => {\r\n        setIsGenerating(true);\r\n\r\n        // Helper for content filtering\r\n        const filterContent = <T extends { tags?: string[] }>(items: T[]) => {\r\n            const matches = items.filter(item => item.tags?.includes(vibe));\r\n            return matches.length > 0 ? matches : items;\r\n        };\r\n\r\n        // Parallel Execution: Minimum animation delay + AI Generation\r\n        const minDelay = new Promise(resolve => setTimeout(resolve, 2000));\r\n\r\n        let logoIcon: string | undefined;\r\n        let logoContainer: string | undefined;\r\n        let logoAssemblerLayout: 'icon_left' | 'icon_right' | 'stacked' | 'badge' | 'monogram' | undefined;\r\n        let aiColor: string | undefined;\r\n        let aiFont: string | undefined;\r\n\r\n        // Get AI suggestions if procedural generation is applicable\r\n        // We do this for \"surprise me\" or if a prompt exists\r\n        if (options.prompt || options.surpriseMe) {\r\n            try {\r\n                const aiPrompt = options.prompt || `A startup called ${name} in the ${vibe} industry`;\r\n                const result = await suggestLogoComponentsWithAI_V2(aiPrompt, usedIcons);\r\n                logoIcon = result.icon;\r\n                logoContainer = result.container;\r\n                // Safe cast layout\r\n                if (['icon_left', 'icon_right', 'stacked', 'badge', 'monogram'].includes(result.layout)) {\r\n                    logoAssemblerLayout = result.layout as any;\r\n                }\r\n                aiColor = result.color;\r\n                aiFont = result.font;\r\n\r\n                setUsedIcons(prev => [...prev, result.icon]);\r\n            } catch (e) {\r\n                console.error(\"AI Icon Gen Error\", e);\r\n            }\r\n        }\r\n\r\n        await minDelay;\r\n\r\n        // Fallback: Use new icon library with vibe-based selection\r\n        if (!logoIcon) {\r\n            const vibeIcons = getIconsForVibe(vibe);\r\n            const availableIcons = vibeIcons.filter(icon => !usedIcons.includes(icon.id));\r\n            const selectedIcon = availableIcons.length > 0\r\n                ? availableIcons[Math.floor(Math.random() * availableIcons.length)]\r\n                : getRandomIcon();\r\n\r\n            logoIcon = selectedIcon.id;  // Now uses our icon IDs\r\n            logoContainer = 'squircle';\r\n\r\n            // Randomly select layout for variety\r\n            const layouts: Array<'icon_left' | 'icon_right' | 'stacked' | 'badge' | 'monogram'> =\r\n                ['icon_left', 'stacked', 'badge', 'icon_right'];\r\n            logoAssemblerLayout = layouts[Math.floor(Math.random() * layouts.length)];\r\n\r\n            setUsedIcons(prev => [...prev, selectedIcon.id]);\r\n        }\r\n\r\n        // 1. SELECT THEME (or override)\r\n        let selectedTheme: typeof THEMES[0];\r\n\r\n        // Priority: Option Color > AI Color > Theme Default\r\n        const effectiveColor = options.color || aiColor;\r\n\r\n        if (effectiveColor || options.gradient) {\r\n            // If customized, pick a base theme matching the vibe but OVERRIDE colors\r\n            const cleanThemes = filterContent(THEMES);\r\n            const baseTheme = cleanThemes[Math.floor(Math.random() * cleanThemes.length)];\r\n\r\n            // Clone and override\r\n            selectedTheme = {\r\n                ...baseTheme,\r\n                id: 'custom-override',\r\n                name: 'Custom',\r\n                tokens: {\r\n                    ...baseTheme.tokens,\r\n                    light: {\r\n                        ...baseTheme.tokens.light,\r\n                        primary: effectiveColor || baseTheme.tokens.light.primary,\r\n                        // Use gradient if provided, otherwise keep theme's default or none\r\n                        gradient: options.gradient ? [options.gradient.colors[0], options.gradient.colors[1]] : baseTheme.tokens.light.gradient,\r\n                    },\r\n                    dark: {\r\n                        ...baseTheme.tokens.dark,\r\n                        primary: effectiveColor || baseTheme.tokens.dark.primary,\r\n                        // Basic dark mode adaptation for gradient (simplified)\r\n                        gradient: options.gradient ? [options.gradient.colors[0], options.gradient.colors[1]] : baseTheme.tokens.dark.gradient,\r\n                    }\r\n                }\r\n            };\r\n        } else {\r\n            // Standard random selection\r\n            const availableThemes = filterContent(THEMES);\r\n            selectedTheme = availableThemes[Math.floor(Math.random() * availableThemes.length)];\r\n        }\r\n\r\n\r\n        // 2. SELECT SHAPE (or override)\r\n        let selectedShape: typeof SHAPES[0];\r\n\r\n        if (options.shape) {\r\n            // Find shape by ID or ID-suffix (since IDs might be like 'geo-hexagon')\r\n            let match = SHAPES.find(s => s.id === options.shape);\r\n\r\n            // If no ID match, try matching TAGS (e.g. 'futuristic', 'geometric')\r\n            if (!match) {\r\n                const tagMatches = SHAPES.filter(s => s.tags?.includes(options.shape!.toLowerCase()));\r\n                if (tagMatches.length > 0) {\r\n                    match = tagMatches[Math.floor(Math.random() * tagMatches.length)];\r\n                }\r\n            }\r\n            selectedShape = match || SHAPES[0];\r\n        } else {\r\n            const availableShapes = filterContent(SHAPES);\r\n            selectedShape = availableShapes[Math.floor(Math.random() * availableShapes.length)];\r\n        }\r\n\r\n        const availableFonts = filterContent(fontPairings);\r\n        let selectedFont = availableFonts[Math.floor(Math.random() * availableFonts.length)];\r\n\r\n        // AI Font Override\r\n        if (aiFont) {\r\n            const matchedFont = fontPairings.find(f => f.name.toLowerCase().includes(aiFont!.toLowerCase()) || f.tags.includes(aiFont!.toLowerCase()));\r\n            if (matchedFont) selectedFont = matchedFont;\r\n        }\r\n\r\n        // Get Strategy Template or default to Modern\r\n        // Strategy is now generated later using the engine\r\n\r\n        // 3. SELECT LOGO LAYOUT (Generative Engine)\r\n        // With procedural icons, 'generative' layout will now use LogoEngine if icon is present\r\n        let selectedLayout = 'generative';\r\n\r\n        // NEW LOGIC: Radial Engine Selection\r\n        // 40% chance for Tech or Nature brands to use Radial Engine\r\n        const isScienceVibe = vibe === 'tech' || vibe === 'nature';\r\n        if (isScienceVibe && Math.random() > 0.6) {\r\n            selectedLayout = 'radial';\r\n        }\r\n\r\n        // 4. GENERATE STRATEGY (Premium Engine)\r\n        const brandStrategy = generateBrandStrategy(name, vibe);\r\n\r\n        // 5. GENERATE PREMIUM LOGOS (Logo Engine v5)\r\n        const logoCategory = vibeToCategory[vibe.toLowerCase()] || 'technology';\r\n        const logoAesthetic = vibeToAesthetic[vibe.toLowerCase()] || 'tech-minimal';\r\n        const logoPrimaryColor = options.color || aiColor || selectedTheme.tokens.light.primary;\r\n\r\n        let generatedLogos: GeneratedLogo[] = [];\r\n        try {\r\n            generatedLogos = generateLogos({\r\n                brandName: name.trim() || 'Brand',\r\n                primaryColor: logoPrimaryColor,\r\n                accentColor: selectedTheme.tokens.light.accent || undefined,\r\n                category: logoCategory,\r\n                industry: logoCategory,\r\n                aesthetic: logoAesthetic,\r\n                archetype: options.archetype, // Pass archetype for algorithm filtering\r\n                variations: 3, // Generate 3 variations\r\n                minQualityScore: 85, // Premium quality threshold\r\n            });\r\n        } catch (e) {\r\n            console.error('Logo Engine Error:', e);\r\n        }\r\n\r\n        const newBrand: BrandIdentity = {\r\n            id: crypto.randomUUID(),\r\n            vibe,\r\n            name: name.trim() || 'Untitled Brand',\r\n            theme: selectedTheme,\r\n            shape: selectedShape,\r\n            archetype: options.archetype,\r\n            logoLayout: selectedLayout as any,\r\n            // Procedural Fields\r\n            logoIcon,\r\n            logoContainer,\r\n            logoAssemblerLayout,\r\n            canvasStyle: options.gradient ? 'gradient' : 'solid', // Added canvasStyle\r\n            // Logo Engine v5 - Premium Generated Logos\r\n            generatedLogos: generatedLogos.length > 0 ? generatedLogos : undefined,\r\n            selectedLogoIndex: generatedLogos.length > 0 ? 0 : undefined,\r\n            generationSeed: Date.now() + Math.floor(Math.random() * 100000), // Unique per generation\r\n            font: {\r\n                id: selectedFont.id,\r\n                name: selectedFont.name,\r\n                heading: selectedFont.heading.className,\r\n                body: selectedFont.body.className,\r\n                headingName: selectedFont.headingName,\r\n                bodyName: selectedFont.bodyName,\r\n                tags: selectedFont.tags\r\n            },\r\n            strategy: brandStrategy, // Use generated strategy\r\n            createdAt: new Date(),\r\n        };\r\n\r\n        setBrand(newBrand);\r\n\r\n        // Add to history\r\n        // If we are in the middle of history and generate new, we discard future\r\n        const newHistory = [...history.slice(0, currentIndex + 1), newBrand];\r\n        setHistory(newHistory);\r\n        setCurrentIndex(newHistory.length - 1);\r\n\r\n        setIsGenerating(false);\r\n\r\n        // GLOBAL STATS: Increment counter (fire and forget)\r\n        incrementGenerationCount();\r\n\r\n        // PERSISTENCE: Save to Supabase (Background)\r\n        // Fire and forget - don't block UI\r\n        (async () => {\r\n            try {\r\n                const { createClient } = await import('@/lib/supabase/client');\r\n                const supabase = createClient();\r\n                const { data: { user } } = await supabase.auth.getUser();\r\n                if (user) {\r\n                    await supabase.from('brands').insert({\r\n                        user_id: user.id,\r\n                        identity: newBrand,\r\n                        vibe: vibe,\r\n                        brand_name: name,\r\n                        created_at: new Date().toISOString()\r\n                    });\r\n                    console.log('Brand persisted to DB');\r\n                }\r\n            } catch (e) {\r\n                console.error('Persistence Error', e);\r\n            }\r\n        })();\r\n    };\r\n\r\n    const resetBrand = () => {\r\n        setBrand(null);\r\n        setHistory([]);\r\n        setCurrentIndex(-1);\r\n    };\r\n\r\n    const undo = () => {\r\n        if (currentIndex > 0) {\r\n            const newIndex = currentIndex - 1;\r\n            setCurrentIndex(newIndex);\r\n            setBrand(history[newIndex]);\r\n        }\r\n    };\r\n\r\n    const redo = () => {\r\n        if (currentIndex < history.length - 1) {\r\n            const newIndex = currentIndex + 1;\r\n            setCurrentIndex(newIndex);\r\n            setBrand(history[newIndex]);\r\n        }\r\n    };\r\n\r\n    const generateVariations = async (baseBrand: BrandIdentity, count: number = 4) => {\r\n        setIsGenerating(true);\r\n        const variations: BrandIdentity[] = [];\r\n\r\n        // Get the current algorithm used (if any)\r\n        const currentAlgorithm = baseBrand.generatedLogos?.[0]?.algorithm;\r\n        const archetype = baseBrand.archetype;\r\n\r\n        // Curated algorithm groups for visual variety\r\n        const algorithmGroups: LogoAlgorithm[][] = [\r\n            ['starburst', 'orbital-rings', 'flow-gradient', 'sound-waves', 'infinity-loop'],  // Radial/Organic\r\n            ['framed-letter', 'monogram-blend', 'letter-gradient', 'box-logo'],               // Lettermarks\r\n            ['abstract-mark', 'depth-geometry', 'isometric-cube', 'hexagon-tech'],            // Abstract/3D\r\n            ['gradient-bars', 'motion-lines', 'wave-flow'],                                   // Linear/Bars\r\n            ['perfect-triangle', 'circle-overlap', 'diamond-gem', 'shield-badge'],            // Geometric\r\n            ['letter-swoosh', 'arrow-mark', 'lightning-bolt'],                                // Dynamic\r\n            ['dna-helix', 'orbital-paths', 'fingerprint-id', 'maze-pattern'],                 // Advanced\r\n        ];\r\n\r\n        // Select algorithm pool based on archetype\r\n        let baseAlgorithms: LogoAlgorithm[];\r\n        if (archetype === 'symbol') {\r\n            baseAlgorithms = SYMBOL_ALGORITHMS;\r\n        } else if (archetype === 'wordmark') {\r\n            baseAlgorithms = WORDMARK_ALGORITHMS;\r\n        } else {\r\n            baseAlgorithms = ALL_ALGORITHMS;\r\n        }\r\n\r\n        // Filter out current algorithm\r\n        const availableAlgorithms = baseAlgorithms.filter(a => a !== currentAlgorithm);\r\n\r\n        // Shuffle algorithms for variety\r\n        const shuffled = [...availableAlgorithms].sort(() => Math.random() - 0.5);\r\n\r\n        // Select diverse algorithms (try to pick from different groups)\r\n        const selectedAlgorithms: LogoAlgorithm[] = [];\r\n        const usedGroups = new Set<number>();\r\n\r\n        for (const algo of shuffled) {\r\n            if (selectedAlgorithms.length >= count) break;\r\n\r\n            // Find which group this algorithm belongs to\r\n            const groupIndex = algorithmGroups.findIndex(group => group.includes(algo));\r\n\r\n            // Prefer algorithms from unused groups for maximum variety\r\n            if (groupIndex === -1 || !usedGroups.has(groupIndex)) {\r\n                selectedAlgorithms.push(algo);\r\n                if (groupIndex !== -1) usedGroups.add(groupIndex);\r\n            }\r\n        }\r\n\r\n        // Fill remaining slots if needed\r\n        while (selectedAlgorithms.length < count && shuffled.length > selectedAlgorithms.length) {\r\n            const remaining = shuffled.filter(a => !selectedAlgorithms.includes(a));\r\n            if (remaining.length > 0) {\r\n                selectedAlgorithms.push(remaining[0]);\r\n            } else {\r\n                break;\r\n            }\r\n        }\r\n\r\n        // Get brand colors\r\n        const primaryColor = baseBrand.theme.tokens.light.primary;\r\n        const accentColor = baseBrand.theme.tokens.light.accent;\r\n        const logoCategory = vibeToCategory[baseBrand.vibe.toLowerCase()] || 'technology';\r\n\r\n        // Generate variations with different logo algorithms\r\n        for (let i = 0; i < selectedAlgorithms.length; i++) {\r\n            const algorithm = selectedAlgorithms[i];\r\n\r\n            // Generate logo with specific algorithm\r\n            let generatedLogos: GeneratedLogo[] = [];\r\n            try {\r\n                generatedLogos = generateLogos({\r\n                    brandName: baseBrand.name,\r\n                    primaryColor,\r\n                    accentColor,\r\n                    category: logoCategory,\r\n                    algorithm, // Use specific algorithm\r\n                    archetype, // Pass archetype for consistency\r\n                    variations: 1, // One logo per algorithm\r\n                    minQualityScore: 85, // Premium quality threshold\r\n                });\r\n            } catch (e) {\r\n                console.error(`Logo generation error for ${algorithm}:`, e);\r\n            }\r\n\r\n            // Get varied font (cycle through available fonts)\r\n            const vibefonts = fontPairings.filter(f =>\r\n                f.tags.includes(baseBrand.vibe) || f.tags.includes('modern')\r\n            );\r\n            const fontIndex = i % vibefonts.length;\r\n            const variedFont = vibefonts[fontIndex] || fontPairings[i % fontPairings.length];\r\n\r\n            variations.push({\r\n                ...baseBrand,\r\n                id: crypto.randomUUID(),\r\n                // Keep same theme/colors\r\n                theme: baseBrand.theme,\r\n                // Use the new generated logos\r\n                generatedLogos: generatedLogos.length > 0 ? generatedLogos : undefined,\r\n                selectedLogoIndex: 0,\r\n                // Vary font slightly for secondary differentiation\r\n                font: {\r\n                    id: variedFont.id,\r\n                    name: variedFont.name,\r\n                    heading: variedFont.heading.className,\r\n                    body: variedFont.body.className,\r\n                    headingName: variedFont.headingName,\r\n                    bodyName: variedFont.bodyName,\r\n                    tags: variedFont.tags\r\n                },\r\n                logoLayout: 'generative',\r\n                generationSeed: Date.now() + i + 1,\r\n                createdAt: new Date()\r\n            });\r\n        }\r\n\r\n        setIsGenerating(false);\r\n        return variations;\r\n    };\r\n\r\n    const updateBrand = (updates: Partial<BrandIdentity>) => {\r\n        if (!brand) return;\r\n        const updated = { ...brand, ...updates };\r\n        setBrand(updated);\r\n        // Add to history\r\n        const newHistory = [...history.slice(0, currentIndex + 1), updated];\r\n        setHistory(newHistory);\r\n        setCurrentIndex(newHistory.length - 1);\r\n    };\r\n\r\n    return {\r\n        brand,\r\n        setBrand,\r\n        generateBrand,\r\n        generateVariations,\r\n        updateBrand,\r\n        isGenerating,\r\n        resetBrand,\r\n        // History controls\r\n        canUndo: currentIndex > 0,\r\n        canRedo: currentIndex < history.length - 1,\r\n        undo,\r\n        redo,\r\n        historyIndex: currentIndex + 1,\r\n        historyTotal: history.length\r\n    };\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\hooks\\use-subscription.ts","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nF:\\work\\Glyph\\hooks\\use-subscription.ts:80:9\n  78 |\n  79 |     useEffect(() => {\n> 80 |         checkProStatus();\n     |         ^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  81 |     }, [checkProStatus]);\n  82 |\n  83 |     return { ...state, checkProStatus };","line":80,"column":9,"nodeType":null,"endLine":80,"endColumn":23}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState, useEffect, useCallback } from 'react';\r\nimport { createClient } from '@/lib/supabase/client';\r\nimport { ADMIN_EMAILS } from '@/lib/subscription';\r\n\r\ninterface SubscriptionState {\r\n    isPro: boolean;\r\n    isAdmin: boolean;\r\n    isLoading: boolean;\r\n    email: string | null;\r\n}\r\n\r\n/**\r\n * Client-side hook to check Pro subscription status\r\n * Fetches from Supabase profiles table\r\n */\r\nexport function useSubscription(): SubscriptionState & { checkProStatus: () => Promise<void> } {\r\n    const [state, setState] = useState<SubscriptionState>({\r\n        isPro: false,\r\n        isAdmin: false,\r\n        isLoading: true,\r\n        email: null,\r\n    });\r\n\r\n    const checkProStatus = useCallback(async () => {\r\n        const supabase = createClient();\r\n\r\n        try {\r\n            // Get current user\r\n            const { data: { user } } = await supabase.auth.getUser();\r\n\r\n            if (!user?.email) {\r\n                setState({\r\n                    isPro: false,\r\n                    isAdmin: false,\r\n                    isLoading: false,\r\n                    email: null,\r\n                });\r\n                return;\r\n            }\r\n\r\n            const email = user.email;\r\n\r\n            // Check if admin (instant Pro)\r\n            if (ADMIN_EMAILS.includes(email)) {\r\n                setState({\r\n                    isPro: true,\r\n                    isAdmin: true,\r\n                    isLoading: false,\r\n                    email,\r\n                });\r\n                return;\r\n            }\r\n\r\n            // Check Supabase profile for is_pro flag\r\n            const { data, error } = await supabase\r\n                .from('profiles')\r\n                .select('is_pro')\r\n                .eq('email', email)\r\n                .single();\r\n\r\n            if (error) {\r\n                console.log('[useSubscription] Profile not found or error:', error.message);\r\n            }\r\n\r\n            setState({\r\n                isPro: data?.is_pro === true,\r\n                isAdmin: false,\r\n                isLoading: false,\r\n                email,\r\n            });\r\n        } catch (e) {\r\n            console.error('[useSubscription] Error:', e);\r\n            setState(prev => ({ ...prev, isLoading: false }));\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        checkProStatus();\r\n    }, [checkProStatus]);\r\n\r\n    return { ...state, checkProStatus };\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\lib\\accessibility.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\lib\\brand-book.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\lib\\brand-fonts.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\lib\\brand-generator.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'CURATED_ICONS' is defined but never used.","line":188,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":188,"endColumn":18}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// ============================================\r\n// PHASE 3: THE BRAIN (Groq Integration)\r\n// ============================================\r\n\r\nimport { BrandData } from '@/components/generator/BrandBoard';\r\n\r\n// Available fonts for Groq to choose from\r\nexport const AVAILABLE_FONTS = {\r\n    display: [\"Manrope\", \"Inter\", \"Playfair Display\", \"Space Grotesk\", \"Outfit\", \"Sora\"],\r\n    body: [\"Inter\", \"DM Sans\", \"Source Sans Pro\", \"Nunito\", \"Lato\", \"Open Sans\"],\r\n};\r\n\r\n// Available vibes\r\nexport const VIBES = [\"Minimalist\", \"Tech\", \"Organic\", \"Bold\", \"Luxury\"] as const;\r\n\r\n// SVG paths for logo generation (Groq picks one)\r\nexport const LOGO_PATHS = {\r\n    hexagon: \"M12 2L21 7V17L12 22L3 17V7L12 2Z\",\r\n    diamond: \"M12 2L22 12L12 22L2 12L12 2Z\",\r\n    shield: \"M12 2L20 6V12C20 16.4183 16.4183 20 12 20C7.58172 20 4 16.4183 4 12V6L12 2Z\",\r\n    bolt: \"M13 2L3 14H12L11 22L21 10H12L13 2Z\",\r\n};\r\n\r\n// The System Prompt for Groq\r\nexport const BRAND_GENERATION_PROMPT = `ACT AS: A Senior Art Director at a premium branding agency.\r\n\r\nINPUT: A description of a startup or brand concept.\r\n\r\nYOUR JOB:\r\nGenerate a JSON object that defines a complete brand identity system.\r\n\r\nRULES:\r\n1. COLORS: Must be valid hex codes (#XXXXXX format).\r\n   - \"primary\": The hero color. Match the vibe (neon for tech, muted for luxury, natural for organic).\r\n   - \"secondary\": A complementary accent color.\r\n   - \"ink\": The text color (usually dark, like #0C0A09 or #1A1A1A).\r\n   - \"canvas\": The background color (usually light, like #FAFAF9 or #F5F5F4).\r\n\r\n2. FONTS: Choose from these options ONLY:\r\n   - display: ${AVAILABLE_FONTS.display.join(\", \")}\r\n   - body: ${AVAILABLE_FONTS.body.join(\", \")}\r\n\r\n3. VIBE: Must be one of: ${VIBES.join(\", \")}\r\n\r\n4. TAGLINE: Write a punchy 2-4 word tagline that captures the brand essence.\r\n\r\n5. NAME: Keep the user's brand name or create one if not provided.\r\n\r\n6. LOGO: Choose one logo style from: ${Object.keys(LOGO_PATHS).join(\", \")}\r\n\r\nOUTPUT FORMAT (JSON only, no explanation):\r\n{\r\n  \"name\": \"BrandName\",\r\n  \"tagline\": \"Short punchy tagline.\",\r\n  \"colors\": {\r\n    \"primary\": \"#HEXCODE\",\r\n    \"secondary\": \"#HEXCODE\",\r\n    \"ink\": \"#0C0A09\",\r\n    \"canvas\": \"#FAFAF9\"\r\n  },\r\n  \"font\": {\r\n    \"display\": \"FontName\",\r\n    \"body\": \"FontName\"\r\n  },\r\n  \"vibe\": \"Vibe\",\r\n  \"logoStyle\": \"star\"\r\n}`;\r\n\r\n// Function to generate brand using Groq API\r\nexport async function generateBrandWithGroq(description: string): Promise<BrandData> {\r\n    const apiKey = process.env.NEXT_PUBLIC_GROQ_API_KEY;\r\n\r\n    if (!apiKey) {\r\n        console.warn(\"GROQ_API_KEY not set, using fallback generation\");\r\n        return generateFallbackBrand(description);\r\n    }\r\n\r\n    try {\r\n        const response = await fetch('https://api.groq.com/openai/v1/chat/completions', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Bearer ${apiKey}`,\r\n            },\r\n            body: JSON.stringify({\r\n                model: 'llama-3.3-70b-versatile',\r\n                messages: [\r\n                    { role: 'system', content: BRAND_GENERATION_PROMPT },\r\n                    { role: 'user', content: `Generate a brand identity for: \"${description}\"` }\r\n                ],\r\n                temperature: 0.7,\r\n                max_tokens: 500,\r\n                response_format: { type: \"json_object\" }\r\n            }),\r\n        });\r\n\r\n        if (!response.ok) {\r\n            throw new Error(`Groq API error: ${response.status}`);\r\n        }\r\n\r\n        const data = await response.json();\r\n        const content = data.choices[0]?.message?.content;\r\n\r\n        if (!content) {\r\n            throw new Error(\"No content in Groq response\");\r\n        }\r\n\r\n        const parsed = JSON.parse(content);\r\n\r\n        // Map the response to BrandData\r\n        return {\r\n            name: parsed.name || \"Brand\",\r\n            tagline: parsed.tagline || \"Your tagline here.\",\r\n            colors: {\r\n                primary: parsed.colors?.primary || \"#FF4500\",\r\n                secondary: parsed.colors?.secondary || \"#0EA5E9\",\r\n                ink: parsed.colors?.ink || \"#0C0A09\",\r\n                canvas: parsed.colors?.canvas || \"#FAFAF9\",\r\n            },\r\n            font: {\r\n                display: parsed.font?.display || \"Manrope\",\r\n                body: parsed.font?.body || \"Inter\",\r\n            },\r\n            vibe: parsed.vibe || \"Tech\",\r\n            logoPath: LOGO_PATHS[parsed.logoStyle as keyof typeof LOGO_PATHS] || LOGO_PATHS.hexagon,\r\n        };\r\n\r\n    } catch (error) {\r\n        console.error(\"Groq generation failed:\", error);\r\n        return generateFallbackBrand(description);\r\n    }\r\n}\r\n\r\n// Fallback generation when Groq is unavailable\r\nfunction generateFallbackBrand(description: string): BrandData {\r\n    const lowerDesc = description.toLowerCase();\r\n\r\n    // Simple keyword-based generation\r\n    let colors = { primary: \"#FF4500\", secondary: \"#0EA5E9\", ink: \"#0C0A09\", canvas: \"#FAFAF9\" };\r\n    let vibe: BrandData['vibe'] = \"Tech\";\r\n    let logoStyle: keyof typeof LOGO_PATHS = \"hexagon\";\r\n\r\n    if (lowerDesc.includes(\"finance\") || lowerDesc.includes(\"bank\")) {\r\n        colors = { primary: \"#0D9488\", secondary: \"#6366F1\", ink: \"#0C0A09\", canvas: \"#F0FDF4\" };\r\n        vibe = \"Minimalist\";\r\n        logoStyle = \"shield\";\r\n    } else if (lowerDesc.includes(\"organic\") || lowerDesc.includes(\"eco\") || lowerDesc.includes(\"nature\")) {\r\n        colors = { primary: \"#22C55E\", secondary: \"#84CC16\", ink: \"#14532D\", canvas: \"#F7FEE7\" };\r\n        vibe = \"Organic\";\r\n        logoStyle = \"hexagon\";\r\n    } else if (lowerDesc.includes(\"luxury\") || lowerDesc.includes(\"premium\")) {\r\n        colors = { primary: \"#A855F7\", secondary: \"#EC4899\", ink: \"#1E1B4B\", canvas: \"#FAF5FF\" };\r\n        vibe = \"Luxury\";\r\n        logoStyle = \"diamond\";\r\n    } else if (lowerDesc.includes(\"tech\") || lowerDesc.includes(\"ai\") || lowerDesc.includes(\"cyber\")) {\r\n        colors = { primary: \"#00FF99\", secondary: \"#00D4FF\", ink: \"#0A0A0A\", canvas: \"#0F172A\" };\r\n        vibe = \"Tech\";\r\n        logoStyle = \"bolt\";\r\n    } else if (lowerDesc.includes(\"bold\") || lowerDesc.includes(\"energy\")) {\r\n        colors = { primary: \"#EF4444\", secondary: \"#F97316\", ink: \"#0C0A09\", canvas: \"#FEF2F2\" };\r\n        vibe = \"Bold\";\r\n        logoStyle = \"bolt\";\r\n    }\r\n\r\n    // Extract name from description or generate one\r\n    const words = description.split(' ').filter(w => w.length > 3);\r\n    const name = words[0] ? words[0].charAt(0).toUpperCase() + words[0].slice(1) : \"Brand\";\r\n\r\n    return {\r\n        name,\r\n        tagline: \"Designed by Glyph.\",\r\n        colors,\r\n        font: {\r\n            display: \"Manrope\",\r\n            body: \"Inter\",\r\n        },\r\n        vibe,\r\n        logoPath: LOGO_PATHS[logoStyle],\r\n    };\r\n}\r\n\r\n// ============================================\r\n// GOD-TIER GENERATION (with Art Director prompt)\r\n// ============================================\r\n\r\nimport {\r\n    CURATED_PALETTES,\r\n    CURATED_ICONS,\r\n    getPaletteById,\r\n    type BrandDNA,\r\n    type BrandVibe\r\n} from './design-dna';\r\nimport { ART_DIRECTOR_PROMPT, generateUserPrompt, validateAIResponse } from './prompts';\r\n\r\nexport async function generateGodTierBrand(\r\n    brandName: string,\r\n    description: string,\r\n    vibe: string\r\n): Promise<BrandDNA | null> {\r\n    const apiKey = process.env.NEXT_PUBLIC_GROQ_API_KEY;\r\n\r\n    if (!apiKey) {\r\n        console.warn(\"GROQ_API_KEY not set, using fallback\");\r\n        return generateFallbackDNA(brandName, description, vibe as BrandVibe);\r\n    }\r\n\r\n    try {\r\n        const response = await fetch('https://api.groq.com/openai/v1/chat/completions', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Bearer ${apiKey}`,\r\n            },\r\n            body: JSON.stringify({\r\n                model: 'llama-3.3-70b-versatile',\r\n                messages: [\r\n                    { role: 'system', content: ART_DIRECTOR_PROMPT },\r\n                    { role: 'user', content: generateUserPrompt(brandName, description, vibe as BrandVibe) }\r\n                ],\r\n                temperature: 0.6, // Lower for more consistent results\r\n                max_tokens: 600,\r\n                response_format: { type: \"json_object\" }\r\n            }),\r\n        });\r\n\r\n        if (!response.ok) {\r\n            throw new Error(`Groq API error: ${response.status}`);\r\n        }\r\n\r\n        const data = await response.json();\r\n        const content = data.choices[0]?.message?.content;\r\n\r\n        if (!content) {\r\n            throw new Error(\"No content in Groq response\");\r\n        }\r\n\r\n        console.log('[God-Tier] Raw AI response:', content);\r\n\r\n        const parsed = JSON.parse(content);\r\n        const validated = validateAIResponse(parsed);\r\n\r\n        if (!validated) {\r\n            console.warn('[God-Tier] Validation failed, using fallback');\r\n            return generateFallbackDNA(brandName, description, vibe as BrandVibe);\r\n        }\r\n\r\n        // Resolve palette to actual colors\r\n        const palette = getPaletteById(validated.colors.paletteId);\r\n        if (!palette) {\r\n            console.warn('[God-Tier] Palette not found:', validated.colors.paletteId);\r\n            return generateFallbackDNA(brandName, description, vibe as BrandVibe);\r\n        }\r\n\r\n        console.log('[God-Tier] Selected palette:', palette.name);\r\n        console.log('[God-Tier] Selected icon:', validated.logo.iconName);\r\n\r\n        return {\r\n            name: validated.name,\r\n            tagline: validated.tagline,\r\n            vibe: validated.vibe,\r\n            logo: {\r\n                iconName: validated.logo.iconName,\r\n                shape: validated.logo.shape,\r\n                layout: validated.logo.layout,\r\n            },\r\n            colors: {\r\n                primary: palette.colors.primary,\r\n                accent: palette.colors.accent,\r\n                surface: palette.colors.surface,\r\n                text: palette.colors.text,\r\n                paletteId: palette.id,\r\n            },\r\n            typography: {\r\n                headingFont: validated.typography.headingFont as BrandDNA['typography']['headingFont'],\r\n                bodyFont: \"Inter\",\r\n            },\r\n        };\r\n\r\n    } catch (error) {\r\n        console.error('[God-Tier] Generation failed:', error);\r\n        return generateFallbackDNA(brandName, description, vibe as BrandVibe);\r\n    }\r\n}\r\n\r\n// Fallback when AI unavailable\r\nfunction generateFallbackDNA(name: string, description: string, vibe: BrandVibe): BrandDNA {\r\n    const lowerDesc = description.toLowerCase();\r\n\r\n    // Select palette based on keywords\r\n    let paletteId = \"slate_trust\";\r\n    let iconName = \"Zap\";\r\n\r\n    if (lowerDesc.includes(\"finance\") || lowerDesc.includes(\"legal\")) {\r\n        paletteId = \"deep_ocean\";\r\n        iconName = \"Shield\";\r\n    } else if (lowerDesc.includes(\"tech\") || lowerDesc.includes(\"ai\")) {\r\n        paletteId = \"cyber_blue\";\r\n        iconName = \"Cpu\";\r\n    } else if (lowerDesc.includes(\"nature\") || lowerDesc.includes(\"eco\")) {\r\n        paletteId = \"sage_garden\";\r\n        iconName = \"Leaf\";\r\n    } else if (lowerDesc.includes(\"luxury\") || lowerDesc.includes(\"premium\")) {\r\n        paletteId = \"noir_elegance\";\r\n        iconName = \"Gem\";\r\n    } else if (vibe === \"bold\" || vibe === \"playful\") {\r\n        paletteId = \"neon_orange\";\r\n        iconName = \"Sparkles\";\r\n    }\r\n\r\n    const palette = getPaletteById(paletteId) || CURATED_PALETTES[0];\r\n\r\n    return {\r\n        name: name || \"Brand\",\r\n        tagline: \"Built with Glyph.\",\r\n        vibe,\r\n        logo: {\r\n            iconName,\r\n            shape: \"squircle\",\r\n            layout: \"stacked\",\r\n        },\r\n        colors: {\r\n            primary: palette.colors.primary,\r\n            accent: palette.colors.accent,\r\n            surface: palette.colors.surface,\r\n            text: palette.colors.text,\r\n            paletteId: palette.id,\r\n        },\r\n        typography: {\r\n            headingFont: \"Manrope\",\r\n            bodyFont: \"Inter\",\r\n        },\r\n    };\r\n}\r\n\r\n// ============================================\r\n// AI ASSIST FUNCTIONS\r\n// ============================================\r\n\r\n// AI-powered brief expansion\r\nexport async function expandBriefWithAI(shortBrief: string): Promise<string> {\r\n    const apiKey = process.env.NEXT_PUBLIC_GROQ_API_KEY;\r\n\r\n    console.log('[Reframe] API Key present:', !!apiKey, 'Key length:', apiKey?.length || 0);\r\n\r\n    if (!apiKey || shortBrief.length < 3) {\r\n        console.log('[Reframe] Skipping - no API key or brief too short');\r\n        return shortBrief;\r\n    }\r\n\r\n    try {\r\n        console.log('[Reframe] Calling Groq API...');\r\n        const response = await fetch('https://api.groq.com/openai/v1/chat/completions', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Bearer ${apiKey}`,\r\n            },\r\n            body: JSON.stringify({\r\n                model: 'llama-3.3-70b-versatile',\r\n                messages: [\r\n                    {\r\n                        role: 'system',\r\n                        content: `You are a brand copywriter. Take the user's rough brand idea and reframe it into a clearer, more compelling 1-2 sentence description. \r\n                        \r\n                        CRITICAL INSTRUCTION: Analyze the core 'keywords' that would generate a great logo (e.g., speed, shield, leaf, brain, spark). \r\n                        Rewrite the brief to explicitly include these 2-3 visual nouns or adjectives that describe the brand's essence, ensuring they flow naturally.\r\n                        \r\n                        Fix grammar, sharpen the positioning, and make it sound professional. Keep the core meaning. No quotes or markdown.`\r\n                    },\r\n                    { role: 'user', content: shortBrief }\r\n                ],\r\n                temperature: 0.6,\r\n                max_tokens: 80,\r\n            }),\r\n        });\r\n\r\n        console.log('[Reframe] Response status:', response.status);\r\n\r\n        if (!response.ok) {\r\n            const errorText = await response.text();\r\n            console.error('[Reframe] API error:', response.status, errorText);\r\n            throw new Error('API error');\r\n        }\r\n\r\n        const data = await response.json();\r\n        const result = data.choices[0]?.message?.content?.trim() || shortBrief;\r\n        console.log('[Reframe] Success:', result);\r\n        return result;\r\n\r\n    } catch (error) {\r\n        console.error('[Reframe] Catch error:', error);\r\n        return shortBrief;\r\n    }\r\n}\r\n\r\n// AI-powered vibe suggestion\r\nexport async function suggestVibeWithAI(brief: string): Promise<string> {\r\n    const apiKey = process.env.NEXT_PUBLIC_GROQ_API_KEY;\r\n\r\n    if (!apiKey || brief.length < 3) {\r\n        return \"minimalist\";\r\n    }\r\n\r\n    try {\r\n        const response = await fetch('https://api.groq.com/openai/v1/chat/completions', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Bearer ${apiKey}`,\r\n            },\r\n            body: JSON.stringify({\r\n                model: 'llama-3.3-70b-versatile',\r\n                messages: [\r\n                    {\r\n                        role: 'system',\r\n                        content: `Based on the brand description, suggest the BEST vibe. Respond with ONLY one word from this list: minimalist, tech, nature, bold. Nothing else.`\r\n                    },\r\n                    { role: 'user', content: brief }\r\n                ],\r\n                temperature: 0.3,\r\n                max_tokens: 10,\r\n            }),\r\n        });\r\n\r\n        if (!response.ok) throw new Error('API error');\r\n\r\n        const data = await response.json();\r\n        const suggestion = data.choices[0]?.message?.content?.trim()?.toLowerCase();\r\n\r\n        // Validate it's one of our vibes\r\n        if (['minimalist', 'tech', 'nature', 'bold'].includes(suggestion)) {\r\n            return suggestion;\r\n        }\r\n        return \"minimalist\";\r\n\r\n    } catch {\r\n        return \"minimalist\";\r\n    }\r\n}\r\n\r\n// AI-powered custom vibe description\r\nexport async function expandVibeWithAI(vibeKeywords: string): Promise<string> {\r\n    const apiKey = process.env.NEXT_PUBLIC_GROQ_API_KEY;\r\n\r\n    if (!apiKey || vibeKeywords.length < 2) {\r\n        return vibeKeywords;\r\n    }\r\n\r\n    try {\r\n        const response = await fetch('https://api.groq.com/openai/v1/chat/completions', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Bearer ${apiKey}`,\r\n            },\r\n            body: JSON.stringify({\r\n                model: 'llama-3.3-70b-versatile',\r\n                messages: [\r\n                    {\r\n                        role: 'system',\r\n                        content: `Reframe the user's vibe keywords into a cleaner, more specific vibe phrase (under 10 words). Make it punchy and clear. Just the phrase, no quotes or explanation.`\r\n                    },\r\n                    { role: 'user', content: vibeKeywords }\r\n                ],\r\n                temperature: 0.6,\r\n                max_tokens: 30,\r\n            }),\r\n        });\r\n\r\n        if (!response.ok) throw new Error('API error');\r\n\r\n        const data = await response.json();\r\n        return data.choices[0]?.message?.content?.trim() || vibeKeywords;\r\n\r\n    } catch {\r\n        return vibeKeywords;\r\n    }\r\n}\r\n\r\n// AI-powered Logo Component Selection (Procedural Generation)\r\nexport async function suggestLogoComponentsWithAI(brief: string, exclude: string[] = []): Promise<{ icon: string; container: string }> {\r\n    const apiKey = process.env.NEXT_PUBLIC_GROQ_API_KEY;\r\n\r\n    // Fallback if no API key\r\n    if (!apiKey) {\r\n        return { icon: 'Sparkles', container: 'squircle' };\r\n    }\r\n\r\n    const sysPrompt = `\r\nAVAILABLE ICON LIBRARIES (Use these or similar Lucide icons, do not stick to only these):\r\n\r\n1. TECH/SAAS: \r\n[Cpu, Database, Server, Terminal, Code2, GitBranch, Globe, Network, Wifi, Radio, Signal, Zap, Battery, HardDrive, Laptop, Smartphone, Bot, Rocket, Layers, Box, Hexagon]\r\n\r\n2. FINANCE/TRUST: \r\n[Shield, Lock, Key, CreditCard, Wallet, Banknote, Landmark, Scale, TrendingUp, PieChart, BarChart, Target, Award, Crown, Briefcase, Building, Anchor]\r\n\r\n3. CREATIVE/STUDIO: \r\n[PenTool, Brush, Palette, Image, Camera, Video, Mic, Music, Aperture, Framer, Component, Figma, Scissors, Wand, Sparkles, Feather, Eye]\r\n\r\n4. NATURE/GROWTH: \r\n[Leaf, Sprout, Flower, Tree, Sun, Moon, Cloud, Wind, Droplet, Flame, Mountain, Snowflake, Waves, Sunset, Bird]\r\n\r\nINSTRUCTIONS:\r\n1. Analyze the user's startup description.\r\n2. Select a SPECIFIC icon from the lists above (or any valid Lucide icon name) that is metaphorically relevant to the brief.\r\n3. NEVER return \"Circle\", \"Square\", \"Heart\" or generic shapes as an icon.\r\n4. Select a container shape from: [\"squircle\", \"cyber\", \"diamond\", \"hexagon\", \"pill\"].\r\n5. Avoid these icons if possible: ${exclude.join(', ')}.\r\n\r\nRespond with a JSON object ONLY: { \"icon\": \"IconName\", \"container\": \"ShapeName\" }\r\n`;\r\n\r\n    try {\r\n        const response = await fetch('https://api.groq.com/openai/v1/chat/completions', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Bearer ${apiKey}`,\r\n            },\r\n            body: JSON.stringify({\r\n                model: 'llama-3.3-70b-versatile',\r\n                messages: [\r\n                    { role: 'system', content: sysPrompt },\r\n                    { role: 'user', content: brief }\r\n                ],\r\n                temperature: 0.5,\r\n                max_tokens: 100,\r\n                response_format: { type: \"json_object\" }\r\n            }),\r\n        });\r\n\r\n        if (!response.ok) throw new Error('API error');\r\n\r\n        const data = await response.json();\r\n        const content = data.choices[0]?.message?.content?.trim();\r\n\r\n        try {\r\n            const result = JSON.parse(content);\r\n            return {\r\n                icon: result.icon || 'Sparkles',\r\n                container: result.container || 'squircle'\r\n            };\r\n        } catch (e) {\r\n            console.error('JSON Parse Error:', e);\r\n            return { icon: 'Sparkles', container: 'squircle' };\r\n        }\r\n\r\n    } catch (e) {\r\n        console.error('Logo AI Error:', e);\r\n        return { icon: 'Sparkles', container: 'squircle' };\r\n    }\r\n}\r\n\r\n// V2: AI-powered Logo with Assembler Layout Support (Concept by Senior Art Director)\r\nexport async function suggestLogoComponentsWithAI_V2(brief: string, exclude: string[] = []): Promise<{\r\n    icon: string;\r\n    container: string;\r\n    layout: string;\r\n    color?: string;\r\n    font?: string;\r\n}> {\r\n    const apiKey = process.env.NEXT_PUBLIC_GROQ_API_KEY;\r\n\r\n    // Fallback if no API key\r\n    if (!apiKey) {\r\n        return { icon: 'Sparkles', container: 'squircle', layout: 'icon_left' };\r\n    }\r\n\r\n    const sysPrompt = `\r\nYou are a Senior Art Director. Your goal is to design a unique, metaphorical logo for a startup.\r\n\r\nTRAINING DATA (DESIGN LOGIC):\r\n- Metaphor Matching:\r\n  * \"Fast/Speed\" -> Use Icons: [Zap, Activity, Rocket, Wind, Timer, Gauge]\r\n  * \"Secure/Safe\" -> Use Icons: [Shield, Lock, Fingerprint, Castle, Key, Anchor]\r\n  * \"Growth/Money\" -> Use Icons: [TrendingUp, Sprout, BarChart, Landmark, Wallet]\r\n  * \"Community/Social\" -> Use Icons: [Users, Globe, MessageCircle, Handshake, Share2]\r\n  * \"Tech/AI\" -> Use Icons: [Cpu, Bot, Sparkles, Network, Code, Terminal, Database]\r\n  * \"Nature/Eco\" -> Use Icons: [Leaf, Tree, Mountain, Wind, Flower, Waves]\r\n  * \"Creative\" -> Use Icons: [PenTool, Palette, Image, Camera, Box, Layers, Feather]\r\n\r\n- Layout Rules:\r\n  * IF \"Corporate/Trust\" -> Use Layout: \"icon_left\" (Classic)\r\n  * IF \"Creative/Fun/App\" -> Use Layout: \"stacked\" or \"badge\"\r\n  * IF \"Tech/Minimal\" -> Use Layout: \"icon_left\" or \"monogram\"\r\n  * IF \"Luxury/Fashion\" -> Use Layout: \"monogram\" or \"icon_right\"\r\n\r\n- Typography Rules:\r\n  * \"Tech\" -> Font: \"Inter\" or \"Space Grotesk\"\r\n  * \"Luxury\" -> Font: \"Playfair Display\" or \"Cinzel\"\r\n  * \"Modern\" -> Font: \"Manrope\" or \"DM Sans\"\r\n  * \"Friendly\" -> Font: \"Outfit\" or \"Fredoka\"\r\n\r\nINSTRUCTIONS:\r\n1. Analyze the user's startup brief deeply.\r\n2. Select a SPECIFIC icon from Lucide React library that is metaphorically relevant. \r\n   - STRICTLY FORBIDDEN: [Heart, Circle, Square, Rectangle, Triangle, Target, Disc, Orbit, Eye].\r\n   - Avoid generic, common AI looks (like concentric circles or simple targets).\r\n3. Select a Layout from: [\"icon_left\", \"icon_right\", \"stacked\", \"badge\", \"monogram\"].\r\n4. Select a Container Shape from: [\"squircle\", \"pill\", \"ghost\", \"hexagon\", \"diamond\", \"cyber\"].\r\n5. Select a Primary Color (Hex Code) that matches the vibe.\r\n6. Select a Font Family (Google Font name, e.g. Inter, Manrope, Playfair Display).\r\n\r\nAVOID using these icons (they were used recently): ${exclude.join(', ')}.\r\n\r\nRespond with a JSON object ONLY: \r\n{ \r\n  \"icon\": \"IconName\", \r\n  \"layout\": \"LayoutName\", \r\n  \"shape\": \"ShapeName\", \r\n  \"color\": \"#HexCode\", \r\n  \"font\": \"FontName\" \r\n}\r\n`;\r\n\r\n    try {\r\n        const response = await fetch('https://api.groq.com/openai/v1/chat/completions', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Bearer ${apiKey}`,\r\n            },\r\n            body: JSON.stringify({\r\n                model: 'llama-3.3-70b-versatile',\r\n                messages: [\r\n                    { role: 'system', content: sysPrompt },\r\n                    { role: 'user', content: brief }\r\n                ],\r\n                temperature: 0.6,\r\n                max_tokens: 150,\r\n                response_format: { type: \"json_object\" }\r\n            }),\r\n        });\r\n\r\n        if (!response.ok) throw new Error('API error');\r\n\r\n        const data = await response.json();\r\n        const content = data.choices[0]?.message?.content?.trim();\r\n\r\n        try {\r\n            const result = JSON.parse(content);\r\n            return {\r\n                icon: result.icon || 'Sparkles',\r\n                container: result.shape || 'squircle',\r\n                layout: result.layout || 'icon_left',\r\n                color: result.color,\r\n                font: result.font\r\n            };\r\n        } catch (e) {\r\n            console.error('JSON Parse Error:', e);\r\n            return { icon: 'Sparkles', container: 'squircle', layout: 'icon_left' };\r\n        }\r\n\r\n    } catch (e) {\r\n        console.error('Logo AI Error:', e);\r\n        return { icon: 'Sparkles', container: 'squircle', layout: 'icon_left' };\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\lib\\brandPhysics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\lib\\colorGenerator.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\lib\\data.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\lib\\design-dna.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\lib\\fonts.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\lib\\icons.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\lib\\layouts.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\lib\\logo-styles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\lib\\prompts.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\lib\\sanitize.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\lib\\shapes.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\lib\\strategy-engine.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":21,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":21,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[407,410],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[407,410],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\nexport interface BrandStrategy {\r\n    archetype: string;\r\n    tagline: string;\r\n    mission: string;\r\n    vision: string;\r\n    values: string[];\r\n    audience: string;\r\n    voice: {\r\n        tone: string;\r\n        dos: string[];\r\n        donts: string[];\r\n    };\r\n    marketing: {\r\n        headline: string;\r\n        subhead: string;\r\n        about: string;\r\n    };\r\n}\r\n\r\nconst ARCHETYPES: Record<string, any> = {\r\n    minimalist: {\r\n        name: \"The Essentialist\",\r\n        traits: [\"Clarity\", \"Peace\", \"Simplicity\"],\r\n        values: [\"Less is More\", \"Function over Form\", \"Mindfulness\", \"Subtraction\"],\r\n        audience: \"Design-conscious leaders who value clarity and purpose.\",\r\n        voice: \"Calm, concise, and intentional.\",\r\n        taglines: [\r\n            \"Simply better.\",\r\n            \"Design for clarity.\",\r\n            \"Less but better.\",\r\n            \"Focus on the essential.\"\r\n        ]\r\n    },\r\n    tech: {\r\n        name: \"The Innovator\",\r\n        traits: [\"Future-focused\", \"Smart\", \"Efficient\"],\r\n        values: [\"Innovation\", \"Speed\", \"Scale\", \"Disruption\"],\r\n        audience: \"Early adopters and forward-thinking enterprises.\",\r\n        voice: \"Visionary, technical, and confident.\",\r\n        taglines: [\r\n            \"Building the future.\",\r\n            \"Accelerating what's possible.\",\r\n            \"Intelligence inside.\",\r\n            \"Beyond boundaries.\"\r\n        ]\r\n    },\r\n    nature: {\r\n        name: \"The Guardian\",\r\n        traits: [\"Organic\", \"Sustainable\", \"Grounded\"],\r\n        values: [\"Sustainability\", \"Growth\", \"Balance\", \"Authenticity\"],\r\n        audience: \"Eco-conscious consumers seeking genuine connection.\",\r\n        voice: \"Warm, nurturing, and authentic.\",\r\n        taglines: [\r\n            \"Rooted in nature.\",\r\n            \"Naturally superior.\",\r\n            \"Earth first.\",\r\n            \"Growth in harmony.\"\r\n        ]\r\n    },\r\n    bold: {\r\n        name: \"The Maverick\",\r\n        traits: [\"Fearless\", \"Loud\", \"Impactful\"],\r\n        values: [\"Courage\", \"Impact\", \"Truth\", \"Power\"],\r\n        audience: \"Trendsetters and those who refuse to blend in.\",\r\n        voice: \"Provocative, energetic, and raw.\",\r\n        taglines: [\r\n            \"Defy expectation.\",\r\n            \"Make some noise.\",\r\n            \"Unapologetically us.\",\r\n            \"Lead the pack.\"\r\n        ]\r\n    },\r\n    modern: {\r\n        name: \"The Creator\",\r\n        traits: [\"Polished\", \"Reliable\", \"Creative\"],\r\n        values: [\"Quality\", \"Craftsmanship\", \"Trust\", \"Excellence\"],\r\n        audience: \"Professionals who appreciate thoughtful design.\",\r\n        voice: \"Professional, open, and stylish.\",\r\n        taglines: [\r\n            \"Designed for life.\",\r\n            \"Quality in every detail.\",\r\n            \"Elevate your day.\",\r\n            \"The new standard.\"\r\n        ]\r\n    }\r\n};\r\n\r\nexport function generateBrandStrategy(name: string, vibe: string): BrandStrategy {\r\n    const archetypeData = ARCHETYPES[vibe] || ARCHETYPES.modern;\r\n\r\n    // Deterministic randomness based on name length to keep it consistent for the same name\r\n    const seed = name.length;\r\n    const getRandom = (arr: string[]) => arr[seed % arr.length];\r\n\r\n    return {\r\n        archetype: archetypeData.name,\r\n        tagline: getRandom(archetypeData.taglines),\r\n        mission: `To bring ${archetypeData.traits[0].toLowerCase()} and ${archetypeData.traits[1].toLowerCase()} to a world that needs it.`,\r\n        vision: `A future where ${name} defines the standard for ${vibe} innovation.`,\r\n        values: archetypeData.values,\r\n        audience: archetypeData.audience,\r\n        voice: {\r\n            tone: archetypeData.voice,\r\n            dos: [\r\n                `Be ${archetypeData.traits[0].toLowerCase()}`,\r\n                \"Focus on the user benefit\",\r\n                \"Keep it simple\"\r\n            ],\r\n            donts: [\r\n                \"Don't overcomplicate\",\r\n                `Don't be ${vibe === 'bold' ? 'timid' : 'aggressive'}`,\r\n                \"Avoid jargon\"\r\n            ]\r\n        },\r\n        marketing: {\r\n            headline: `${archetypeData.traits[0]}. ${archetypeData.traits[1]}.`,\r\n            subhead: `We are ${name}. We believe in ${archetypeData.traits[2].toLowerCase()} above all else.`,\r\n            about: `${name} was founded on a simple premise: that ${vibe} design shouldn't be a luxury. We combine ${archetypeData.traits[0].toLowerCase()} thinking with ${archetypeData.traits[1].toLowerCase()} execution.`\r\n        }\r\n    };\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\lib\\subscription.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'freeFeatures' is assigned a value but never used.","line":111,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":111,"endColumn":23}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { SupabaseClient } from '@supabase/supabase-js';\r\n\r\n/**\r\n * Subscription and Tier Management\r\n * \r\n * Free Tier: 10 generations per month\r\n * Pro Tier: Unlimited + all features\r\n * Admin: Full access (Pro + admin features)\r\n */\r\n\r\n// Admin emails - these get full Pro access automatically\r\nexport const ADMIN_EMAILS = ['sumitsharma9128@gmail.com'];\r\n\r\n// Pro emails - manually added pro users (before Stripe integration)\r\nexport const PRO_EMAILS: string[] = [];\r\n\r\n// Free tier limits\r\nexport const FREE_GENERATIONS_LIMIT = 10;\r\n\r\nexport type UserPlan = 'free' | 'pro' | 'admin';\r\n\r\nexport interface SubscriptionStatus {\r\n    plan: UserPlan;\r\n    isPro: boolean;\r\n    isAdmin: boolean;\r\n    generationsUsed: number;\r\n    generationsRemaining: number;\r\n    canGenerate: boolean;\r\n}\r\n\r\n/**\r\n * Get user's subscription status\r\n */\r\nexport function getSubscriptionStatus(\r\n    email: string | null | undefined,\r\n    generationsUsed: number = 0\r\n): SubscriptionStatus {\r\n    if (!email) {\r\n        return {\r\n            plan: 'free',\r\n            isPro: false,\r\n            isAdmin: false,\r\n            generationsUsed: 0,\r\n            generationsRemaining: FREE_GENERATIONS_LIMIT,\r\n            canGenerate: true, // Allow generation, will prompt login\r\n        };\r\n    }\r\n\r\n    const isAdmin = ADMIN_EMAILS.includes(email);\r\n    const isPro = isAdmin || PRO_EMAILS.includes(email);\r\n\r\n    const plan: UserPlan = isAdmin ? 'admin' : isPro ? 'pro' : 'free';\r\n    const generationsRemaining = isPro ? Infinity : Math.max(0, FREE_GENERATIONS_LIMIT - generationsUsed);\r\n    const canGenerate = isPro || generationsRemaining > 0;\r\n\r\n    return {\r\n        plan,\r\n        isPro,\r\n        isAdmin,\r\n        generationsUsed,\r\n        generationsRemaining,\r\n        canGenerate,\r\n    };\r\n}\r\n\r\n/**\r\n * Fetch Pro status from Supabase profiles table\r\n * This is used to check if a user has paid via Dodo Payments\r\n */\r\nexport async function fetchProStatusFromDB(\r\n    supabaseClient: SupabaseClient,\r\n    email: string | null | undefined\r\n): Promise<boolean> {\r\n    if (!email) return false;\r\n\r\n    // Check if admin email first\r\n    if (ADMIN_EMAILS.includes(email)) return true;\r\n\r\n    try {\r\n        const { data, error } = await supabaseClient\r\n            .from('profiles')\r\n            .select('is_pro')\r\n            .eq('email', email)\r\n            .single();\r\n\r\n        if (error) {\r\n            console.log('[Subscription] Profile fetch error:', error.message);\r\n            return false;\r\n        }\r\n\r\n        return data?.is_pro === true;\r\n    } catch (e) {\r\n        console.error('[Subscription] DB fetch failed:', e);\r\n        return false;\r\n    }\r\n}\r\n\r\n/**\r\n * Check if a feature is available for the user's plan\r\n */\r\nexport function hasFeatureAccess(\r\n    email: string | null | undefined,\r\n    feature: 'custom_vibes' | 'gradients' | 'svg_export' | 'brand_book' | 'social_kit' | 'favicon_pack' | 'unlimited_history' | 'ai_suggestions'\r\n): boolean {\r\n    const status = getSubscriptionStatus(email);\r\n\r\n    // Pro and Admin get all features\r\n    if (status.isPro) return true;\r\n\r\n    // Free tier features\r\n    const freeFeatures = ['basic_export', 'basic_vibes', 'colors'];\r\n\r\n    // These require Pro\r\n    const proFeatures = [\r\n        'custom_vibes',\r\n        'gradients',\r\n        'svg_export',\r\n        'brand_book',\r\n        'social_kit',\r\n        'favicon_pack',\r\n        'unlimited_history',\r\n        'ai_suggestions'\r\n    ];\r\n\r\n    return !proFeatures.includes(feature);\r\n}\r\n\r\n/**\r\n * Get display text for user's plan\r\n */\r\nexport function getPlanDisplayInfo(plan: UserPlan): {\r\n    label: string;\r\n    color: string;\r\n    bgColor: string;\r\n    icon: 'star' | 'check' | 'user';\r\n} {\r\n    switch (plan) {\r\n        case 'admin':\r\n            return {\r\n                label: 'Admin',\r\n                color: 'text-amber-600',\r\n                bgColor: 'bg-amber-50',\r\n                icon: 'star',\r\n            };\r\n        case 'pro':\r\n            return {\r\n                label: 'Pro',\r\n                color: 'text-green-600',\r\n                bgColor: 'bg-green-50',\r\n                icon: 'check',\r\n            };\r\n        default:\r\n            return {\r\n                label: 'Free',\r\n                color: 'text-stone-500',\r\n                bgColor: 'bg-stone-100',\r\n                icon: 'user',\r\n            };\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\lib\\supabase\\client.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\lib\\supabase\\server.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":22,"column":30,"nodeType":null,"messageId":"unusedVar","endLine":22,"endColumn":35},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":31,"column":30,"nodeType":null,"messageId":"unusedVar","endLine":31,"endColumn":35}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { createServerClient, type CookieOptions } from '@supabase/ssr'\r\nimport { cookies } from 'next/headers'\r\n\r\n// Hardcoded for this session as .env.local is blocked\r\nconst SUPABASE_URL = 'https://fvvzawoqzgeymcickvtn.supabase.co';\r\nconst SUPABASE_ANON_KEY = 'sb_publishable_ULULffspaJObTYOmXo0N-Q_j1h9Mk7V';\r\n\r\nexport async function createClient() {\r\n    const cookieStore = await cookies()\r\n\r\n    return createServerClient(\r\n        process.env.NEXT_PUBLIC_SUPABASE_URL || SUPABASE_URL,\r\n        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY || SUPABASE_ANON_KEY,\r\n        {\r\n            cookies: {\r\n                get(name: string) {\r\n                    return cookieStore.get(name)?.value\r\n                },\r\n                set(name: string, value: string, options: CookieOptions) {\r\n                    try {\r\n                        cookieStore.set({ name, value, ...options })\r\n                    } catch (error) {\r\n                        // The `set` method was called from a Server Component.\r\n                        // This can be ignored if you have middleware refreshing\r\n                        // user sessions.\r\n                    }\r\n                },\r\n                remove(name: string, options: CookieOptions) {\r\n                    try {\r\n                        cookieStore.delete({ name, ...options })\r\n                    } catch (error) {\r\n                        // The `delete` method was called from a Server Component.\r\n                        // This can be ignored if you have middleware refreshing\r\n                        // user sessions.\r\n                    }\r\n                },\r\n            },\r\n        }\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\lib\\themes.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\lib\\typography.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\lib\\utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\middleware.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'options' is defined but never used.","line":23,"column":58,"nodeType":null,"messageId":"unusedVar","endLine":23,"endColumn":65}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { createServerClient } from '@supabase/ssr';\r\nimport { NextResponse, type NextRequest } from 'next/server';\r\n\r\nconst SUPABASE_URL = 'https://fvvzawoqzgeymcickvtn.supabase.co';\r\nconst SUPABASE_ANON_KEY = 'sb_publishable_ULULffspaJObTYOmXo0N-Q_j1h9Mk7V';\r\n\r\nexport async function middleware(request: NextRequest) {\r\n    let response = NextResponse.next({\r\n        request: {\r\n            headers: request.headers,\r\n        },\r\n    });\r\n\r\n    const supabase = createServerClient(\r\n        process.env.NEXT_PUBLIC_SUPABASE_URL || SUPABASE_URL,\r\n        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY || SUPABASE_ANON_KEY,\r\n        {\r\n            cookies: {\r\n                getAll() {\r\n                    return request.cookies.getAll();\r\n                },\r\n                setAll(cookiesToSet) {\r\n                    cookiesToSet.forEach(({ name, value, options }) =>\r\n                        request.cookies.set(name, value)\r\n                    );\r\n                    response = NextResponse.next({\r\n                        request,\r\n                    });\r\n                    cookiesToSet.forEach(({ name, value, options }) =>\r\n                        response.cookies.set(name, value, options)\r\n                    );\r\n                },\r\n            },\r\n        }\r\n    );\r\n\r\n    // Get user session\r\n    const { data: { user } } = await supabase.auth.getUser();\r\n\r\n    // Protected routes - require authentication\r\n    const protectedPaths = ['/dashboard'];\r\n    const isProtectedPath = protectedPaths.some(path =>\r\n        request.nextUrl.pathname.startsWith(path)\r\n    );\r\n\r\n    // ADMIN BYPASS: Check for special cookie\r\n    const hasAdminBypass = request.cookies.get('admin-bypass')?.value === 'true';\r\n\r\n    if (isProtectedPath && !user && !hasAdminBypass) {\r\n        // Redirect to home page with login prompt\r\n        const redirectUrl = new URL('/', request.url);\r\n        redirectUrl.searchParams.set('login', 'required');\r\n        redirectUrl.searchParams.set('redirect', request.nextUrl.pathname);\r\n        return NextResponse.redirect(redirectUrl);\r\n    }\r\n\r\n    return response;\r\n}\r\n\r\nexport const config = {\r\n    matcher: [\r\n        // Match all paths except static files, api routes, and auth routes\r\n        '/((?!_next/static|_next/image|favicon.ico|.*\\\\.(?:svg|png|jpg|jpeg|gif|webp)$|api|auth).*)',\r\n    ],\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\next.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\postcss.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"F:\\work\\Glyph\\utils\\paletteGenerator.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]
